var e=["A","TXT","MX","AAAA","CNAME","CAA","NS","SRV","DMARC","SSHFP","TLSA"],t=function(e,t,n){return window._DNSToolEmbedsCache=window._DNSToolEmbedsCache||{},window._DNSToolEmbedsCache[e]=window._DNSToolEmbedsCache[e]||{},window._DNSToolEmbedsCache[e][t]=[n,new Date],window._DNSToolEmbedsCache[e][t]},n=function(){function n(t){this.element=t,this.domain=t.getAttribute("data-dns-domain"),this.types=t.getAttribute("data-dns-types").split(",").map(function(e){return e.trim().toUpperCase()}).filter(function(t){return e.includes(t)}),this.types.length||(this.types=["A"]),t.removeAttribute("data-dns-tool-embed"),t.removeAttribute("data-dns-domain"),t.removeAttribute("data-dns-types"),this.results={}}var o=n.prototype;return o.fetch=function(e){void 0===e&&(e=!1);try{var n=this;return Promise.resolve(Promise.all(n.types.map(function(o){try{return Promise.resolve(function(e,n,o){void 0===o&&(o=!1);try{var l=function(e,t){if("_DNSToolEmbedsCache"in window&&window._DNSToolEmbedsCache&&e in window._DNSToolEmbedsCache&&window._DNSToolEmbedsCache[e]&&t in window._DNSToolEmbedsCache[e]&&window._DNSToolEmbedsCache[e][t])return window._DNSToolEmbedsCache[e][t]}(e,n);return o||void 0===l?Promise.resolve(fetch("https://cloudflare-dns.com/dns-query?name="+encodeURIComponent(e)+"&type="+encodeURIComponent(n),{headers:{Accept:"application/dns-json"}})).then(function(o){return o&&o.ok?Promise.resolve(o.json().catch(function(){})).then(function(o){return t(e,n,o&&"Status"in o&&0===o.Status?Array.isArray(o.Answer)?o.Answer:[]:"Failed to parse DNS response")}):t(e,n,"Failed to make DNS request")}):Promise.resolve(l)}catch(e){return Promise.reject(e)}}(n.domain,o,e)).then(function(e){n.results[o]=e})}catch(e){return Promise.reject(e)}}))).then(function(){n.element.innerHTML="",n.element.style.border="1px solid #e5e5e5",n.element.style.borderRadius="3px",n.element.style.margin="16px 0",n.element.style.padding="10px";var e=document.createElement("h4");e.textContent="DNS lookup for "+n.domain,e.style.fontSize="15px",e.style.margin="0 0 20px",n.element.appendChild(e),n.content().forEach(function(e){return n.element.appendChild(e)}),n.element.appendChild(n.button())})}catch(e){return Promise.reject(e)}},o.content=function(){var t=this;return Object.entries(this.results).sort(function(t){return e.indexOf(t[0])}).map(function(e){var n=e[0],o=e[1],l=document.createElement("div"),i=document.createElement("h5");i.textContent=n+" records",i.style.fontSize="15px",i.style.margin="10px 0 0",l.appendChild(i);var r=document.createElement("a");r.style.display="inline-block",r.style.border="none",r.style.cursor="pointer",r.style.margin="0 0 0 5px",r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>',r.firstElementChild.style.display="inline-block",r.firstElementChild.style.margin="0 0 -1px",r.firstElementChild.style.verticalAlign="baseline",r.firstElementChild.className="",r.firstElementChild.removeAttribute("width"),r.firstElementChild.setAttribute("height","12px"),r.addEventListener("click",function(){r.style.display="none",t.fetch(!0).then(function(){})}),i.appendChild(r);var a=document.createElement("p");a.textContent="Last fetched "+o[1].toLocaleString(),a.style.color="#333",a.style.display="none",a.style.fontSize="11px",a.style.margin="0",l.appendChild(a);var d=!1,s=!1,c=function(){d||s||(a.style.display="none")};if(i.addEventListener("mouseenter",function(){d=!0,a.style.display=""}),a.addEventListener("mouseenter",function(){s=!0,a.style.display=""}),i.addEventListener("mouseleave",function(){d=!1,c()}),a.addEventListener("mouseleave",function(){s=!1,c()}),Array.isArray(o[0])&&o[0].length){var p=document.createElement("div");p.style.overflowX="auto",p.style.maxWidth="100%",l.appendChild(p);var m=document.createElement("table");m.style.background="none",m.style.border="0",m.style.borderSpacing="0",m.style.margin="5px 0",m.style.tableLayout="unset",p.appendChild(m);var u=document.createElement("thead");u.style.background="none",m.appendChild(u);var h=document.createElement("tbody");h.style.background="none",m.appendChild(h);var y=document.createElement("tr");return u.appendChild(y),y.appendChild(t.tableHeading("Name")),y.appendChild(t.tableHeading("TTL")),y.appendChild(t.tableHeading("Data")),o[0].forEach(function(e){var n=document.createElement("tr");h.appendChild(n),n.appendChild(t.tableCell(e.name)),n.appendChild(t.tableCell(e.TTL,!0)),n.appendChild(t.tableCell(e.data,!0))}),l}var f=document.createElement("p");return f.textContent=o[0].length?o[0].toString():"No records found",f.style.color="#666",f.style.fontSize="13px",f.style.margin="5px 6px 0",l.appendChild(f),l})},o.tableHeading=function(e){var t=document.createElement("th");return t.textContent=e,t.style.color="#666",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="left",t.style.padding="2px 6px",t},o.tableCell=function(e,t){void 0===t&&(t=!1);var n=document.createElement("td");return n.textContent=e,n.style.border="solid #f1f1f1",n.style.borderWidth="2px 0 0"+(t?" 2px":""),n.style.padding="2px 6px",n},o.button=function(){var e=document.createElement("a");e.href="https://www.digitalocean.com/community/tools/dns?domain="+encodeURIComponent(this.domain),e.target="_blank",e.textContent="Perform a full DNS lookup for "+this.domain,e.style.background="#0069ff",e.style.border="none",e.style.borderRadius="3px",e.style.color="#fff",e.style.display="inline-block",e.style.fontSize="14px",e.style.margin="15px 0 0",e.style.padding="4px 12px 6px",e.style.textDecoration="none";var t=document.createElement("div");return t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>',t.firstElementChild.className="",t.firstElementChild.removeAttribute("width"),t.firstElementChild.setAttribute("height","12px"),t.firstElementChild.style.display="inline-block",t.firstElementChild.style.margin="0 0 -1px 5px",t.firstElementChild.style.verticalAlign="baseline",e.appendChild(t.firstElementChild),e},n}();window._DNSToolEmbedsCache={},window.DNSToolEmbeds=function(e){e=e||document;var t=Array.from(e.querySelectorAll("[data-dns-tool-embed][data-dns-domain][data-dns-types]")).map(function(e){return new n(e)});return Promise.all(t.map(function(e){return e.fetch()}))};
//# sourceMappingURL=bundle.js.map
