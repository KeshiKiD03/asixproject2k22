if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(S,e){function a(e){var t=!!e&&"length"in e&&e.length,i=fe.type(e);return"function"!==i&&!fe.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}function t(e,i,n){if(fe.isFunction(i))return fe.grep(e,function(e,t){return!!i.call(e,t,e)!==n});if(i.nodeType)return fe.grep(e,function(e){return e===i!==n});if("string"==typeof i){if(Se.test(i))return fe.filter(i,e,n);i=fe.filter(i,e)}return fe.grep(e,function(e){return-1<fe.inArray(e,i)!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var i={};return fe.each(e.match(De)||[],function(e,t){i[t]=!0}),i}function r(){ne.addEventListener?(ne.removeEventListener("DOMContentLoaded",o),S.removeEventListener("load",o)):(ne.detachEvent("onreadystatechange",o),S.detachEvent("onload",o))}function o(){(ne.addEventListener||"load"===S.event.type||"complete"===ne.readyState)&&(r(),fe.ready())}function c(e,t,i){if(i===undefined&&1===e.nodeType){var n="data-"+t.replace(Ie,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Pe.test(i)?fe.parseJSON(i):i)}catch(r){}fe.data(e,t,i)}else i=undefined}return i}function l(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function n(e,t,i,n){if(Oe(e)){var r,o,s=fe.expando,a=e.nodeType,c=a?fe.cache:e,l=a?e[s]:e[s]&&s;if(l&&c[l]&&(n||c[l].data)||i!==undefined||"string"!=typeof t)return l||(l=a?e[s]=ie.pop()||fe.guid++:s),c[l]||(c[l]=a?{}:{toJSON:fe.noop}),"object"!=typeof t&&"function"!=typeof t||(n?c[l]=fe.extend(c[l],t):c[l].data=fe.extend(c[l].data,t)),o=c[l],n||(o.data||(o.data={}),o=o.data),i!==undefined&&(o[fe.camelCase(t)]=i),"string"==typeof t?null==(r=o[t])&&(r=o[fe.camelCase(t)]):r=o,r}}function s(e,t,i){if(Oe(e)){var n,r,o=e.nodeType,s=o?fe.cache:e,a=o?e[fe.expando]:fe.expando;if(s[a]){if(t&&(n=i?s[a]:s[a].data)){r=(t=fe.isArray(t)?t.concat(fe.map(t,fe.camelCase)):t in n?[t]:(t=fe.camelCase(t))in n?[t]:t.split(" ")).length;for(;r--;)delete n[t[r]];if(i?!l(n):!fe.isEmptyObject(n))return}(i||(delete s[a].data,l(s[a])))&&(o?fe.cleanData([e],!0):he.deleteExpando||s!=s.window?delete s[a]:s[a]=undefined)}}}function h(e,t,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return fe.css(e,t,"")},c=a(),l=i&&i[3]||(fe.cssNumber[t]?"":"px"),u=(fe.cssNumber[t]||"px"!==l&&+c)&&Be.exec(fe.css(e,t));if(u&&u[3]!==l)for(l=l||u[3],i=i||[],u=+c||1;u/=o=o||".5",fe.style(e,t,u+l),o!==(o=a()/c)&&1!==o&&--s;);return i&&(u=+u||+c||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=u,n.end=r)),r}function g(e){var t=Ve.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function v(e,t){var i,n,r=0,o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):undefined;if(!o)for(o=[],i=e.childNodes||e;null!=(n=i[r]);r++)!t||fe.nodeName(n,t)?o.push(n):fe.merge(o,v(n,t));return t===undefined||t&&fe.nodeName(e,t)?fe.merge([e],o):o}function m(e,t){for(var i,n=0;null!=(i=e[n]);n++)fe._data(i,"globalEval",!t||fe._data(t[n],"globalEval"))}function y(e){Ue.test(e.type)&&(e.defaultChecked=e.checked)}function _(e,t,i,n,r){for(var o,s,a,c,l,u,h,d=e.length,f=g(t),p=[],_=0;_<d;_++)if((s=e[_])||0===s)if("object"===fe.type(s))fe.merge(p,s.nodeType?[s]:s);else if(Xe.test(s)){for(c=c||f.appendChild(t.createElement("div")),l=(We.exec(s)||["",""])[1].toLowerCase(),h=Ge[l]||Ge._default,c.innerHTML=h[1]+fe.htmlPrefilter(s)+h[2],o=h[0];o--;)c=c.lastChild;if(!he.leadingWhitespace&&Ke.test(s)&&p.push(t.createTextNode(Ke.exec(s)[0])),!he.tbody)for(o=(s="table"!==l||Ye.test(s)?"<table>"!==h[1]||Ye.test(s)?0:c:c.firstChild)&&s.childNodes.length;o--;)fe.nodeName(u=s.childNodes[o],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(fe.merge(p,c.childNodes),c.textContent="";c.firstChild;)c.removeChild(c.firstChild);c=f.lastChild}else p.push(t.createTextNode(s));for(c&&f.removeChild(c),he.appendChecked||fe.grep(v(p,"input"),y),_=0;s=p[_++];)if(n&&-1<fe.inArray(s,n))r&&r.push(s);else if(a=fe.contains(s.ownerDocument,s),c=v(f.appendChild(s),"script"),a&&m(c),i)for(o=0;s=c[o++];)ze.test(s.type||"")&&i.push(s);return c=null,f}function d(){return!0}function f(){return!1}function p(){try{return ne.activeElement}catch(e){}}function b(e,t,i,n,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=undefined),t)b(e,a,i,n,t[a],o);return e}if(null==n&&null==r?(r=i,n=i=undefined):null==r&&("string"==typeof i?(r=n,n=undefined):(r=n,n=i,i=undefined)),!1===r)r=f;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return fe().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,r,n,i)})}function w(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=at.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function E(e,t){if(1===t.nodeType&&fe.hasData(e)){var i,n,r,o=fe._data(e),s=fe._data(t,o),a=o.events;if(a)for(i in delete s.handle,s.events={},a)for(n=0,r=a[i].length;n<r;n++)fe.event.add(t,i,a[i][n]);s.data&&(s.data=fe.extend({},s.data))}}function k(e,t){var i,n,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!he.noCloneEvent&&t[fe.expando]){for(n in(r=fe._data(t)).events)fe.removeEvent(t,n,r.handle);t.removeAttribute(fe.expando)}"script"===i&&t.text!==e.text?(C(t).text=e.text,x(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),he.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Ue.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function T(i,n,r,o){n=oe.apply([],n);var e,t,s,a,c,l,u=0,h=i.length,d=h-1,f=n[0],p=fe.isFunction(f);if(p||1<h&&"string"==typeof f&&!he.checkClone&&st.test(f))return i.each(function(e){var t=i.eq(e);p&&(n[0]=f.call(this,e,t.html())),T(t,n,r,o)});if(h&&(e=(l=_(n,i[0].ownerDocument,!1,i,o)).firstChild,1===l.childNodes.length&&(l=e),e||o)){for(s=(a=fe.map(v(l,"script"),C)).length;u<h;u++)t=l,u!==d&&(t=fe.clone(t,!0,!0),s&&fe.merge(a,v(t,"script"))),r.call(i[u],t,u);if(s)for(c=a[a.length-1].ownerDocument,fe.map(a,x),u=0;u<s;u++)t=a[u],ze.test(t.type||"")&&!fe._data(t,"globalEval")&&fe.contains(c,t)&&(t.src?fe._evalUrl&&fe._evalUrl(t.src):fe.globalEval((t.text||t.textContent||t.innerHTML||"").replace(ct,"")));l=e=null}return i}function A(e,t,i){for(var n,r=t?fe.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||fe.cleanData(v(n)),n.parentNode&&(i&&fe.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return e}function L(e,t){var i=fe(t.createElement(e)).appendTo(t.body),n=fe.css(i[0],"display");return i.detach(),n}function D(e){var t=ne,i=ht[e];return i||("none"!==(i=L(e,t))&&i||((t=((ut=(ut||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||ut[0].contentDocument).document).write(),t.close(),i=L(e,t),ut.detach()),ht[e]=i),i}function R(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function O(e){if(e in kt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=Et.length;i--;)if((e=Et[i]+t)in kt)return e}function P(e,t){for(var i,n,r,o=[],s=0,a=e.length;s<a;s++)(n=e[s]).style&&(o[s]=fe._data(n,"olddisplay"),i=n.style.display,t?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&qe(n)&&(o[s]=fe._data(n,"olddisplay",D(n.nodeName)))):(r=qe(n),(i&&"none"!==i||!r)&&fe._data(n,"olddisplay",r?i:fe.css(n,"display"))));for(s=0;s<a;s++)(n=e[s]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[s]||"":"none"));return e}function I(e,t,i){var n=Ct.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function M(e,t,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===i&&(s+=fe.css(e,i+Fe[o],!0,r)),n?("content"===i&&(s-=fe.css(e,"padding"+Fe[o],!0,r)),"margin"!==i&&(s-=fe.css(e,"border"+Fe[o]+"Width",!0,r))):(s+=fe.css(e,"padding"+Fe[o],!0,r),"padding"!==i&&(s+=fe.css(e,"border"+Fe[o]+"Width",!0,r)));return s}function j(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=gt(e),s=he.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=vt(e,t,o))<0||null==r)&&(r=e.style[t]),ft.test(r))return r;n=s&&(he.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+M(e,t,i||(s?"border":"content"),n,o)+"px"}function H(e,t,i,n,r){return new H.prototype.init(e,t,i,n,r)}function N(){return S.setTimeout(function(){Tt=undefined}),Tt=fe.now()}function B(e,t){var i,n={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)n["margin"+(i=Fe[r])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function F(e,t,i){for(var n,r=(U.tweeners[t]||[]).concat(U.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,t,e))return n}function q(t,e,i){var n,r,o,s,a,c,l,u=this,h={},d=t.style,f=t.nodeType&&qe(t),p=fe._data(t,"fxshow");for(n in i.queue||(null==(a=fe._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,c=a.empty.fire,a.empty.fire=function(){a.unqueued||c()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,fe.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(l=fe.css(t,"display"))?fe._data(t,"olddisplay")||D(t.nodeName):l)&&"none"===fe.css(t,"float")&&(he.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",he.shrinkWrapBlocks()||u.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]})),e)if(r=e[n],It.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||p[n]===undefined)continue;f=!0}h[n]=p&&p[n]||fe.style(t,n)}else l=undefined;if(fe.isEmptyObject(h))"inline"===("none"===l?D(t.nodeName):l)&&(d.display=l);else for(n in p?"hidden"in p&&(f=p.hidden):p=fe._data(t,"fxshow",{}),o&&(p.hidden=!f),f?fe(t).show():u.done(function(){fe(t).hide()}),u.done(function(){var e;for(e in fe._removeData(t,"fxshow"),h)fe.style(t,e,h[e])}),h)s=F(f?p[n]:0,n,u),n in p||(p[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}function $(e,t){var i,n,r,o,s;for(i in e)if(r=t[n=fe.camelCase(i)],o=e[i],fe.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(s=fe.cssHooks[n])&&"expand"in s)for(i in o=s.expand(o),delete e[n],o)i in e||(e[i]=o[i],t[i]=r);else t[n]=r}function U(o,e,t){var i,s,n=0,r=U.prefilters.length,a=fe.Deferred().always(function(){delete c.elem}),c=function(){if(s)return!1;for(var e=Tt||N(),t=Math.max(0,l.startTime+l.duration-e),i=1-(t/l.duration||0),n=0,r=l.tweens.length;n<r;n++)l.tweens[n].run(i);return a.notifyWith(o,[l,i,t]),i<1&&r?t:(a.resolveWith(o,[l]),!1)},l=a.promise({elem:o,props:fe.extend({},e),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},t),originalProperties:e,originalOptions:t,startTime:Tt||N(),duration:t.duration,tweens:[],createTween:function(e,t){var i=fe.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var t=0,i=e?l.tweens.length:0;if(s)return this;for(s=!0;t<i;t++)l.tweens[t].run(1);return e?(a.notifyWith(o,[l,1,0]),a.resolveWith(o,[l,e])):a.rejectWith(o,[l,e]),this}}),u=l.props;for($(u,l.opts.specialEasing);n<r;n++)if(i=U.prefilters[n].call(l,o,u,l.opts))return fe.isFunction(i.stop)&&(fe._queueHooks(l.elem,l.opts.queue).stop=fe.proxy(i.stop,i)),i;return fe.map(u,F,l),fe.isFunction(l.opts.start)&&l.opts.start.call(o,l),fe.fx.timer(fe.extend(c,{elem:o,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function W(e){return fe.attr(e,"class")||""}function z(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,r=e.toLowerCase().match(De)||[];if(fe.isFunction(t))for(;i=r[n++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(o[i]=o[i]||[]).unshift(t)):(o[i]=o[i]||[]).push(t)}}function K(t,r,o,s){function a(e){var n;return c[e]=!0,fe.each(t[e]||[],function(e,t){var i=t(r,o,s);return"string"!=typeof i||l||c[i]?l?!(n=i):void 0:(r.dataTypes.unshift(i),a(i),!1)}),n}var c={},l=t===oi;return a(r.dataTypes[0])||!c["*"]&&a("*")}function V(e,t){var i,n,r=fe.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&fe.extend(!0,e,i),e}function G(e,t,i){for(var n,r,o,s,a=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){c.unshift(s);break}if(c[0]in i)o=c[0];else{for(s in i){if(!c[0]||e.converters[s+" "+c[0]]){o=s;break}n||(n=s)}o=o||n}if(o)return o!==c[0]&&c.unshift(o),i[o]}function X(e,t,i,n){var r,o,s,a,c,l={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!c&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(s=l[c+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[c+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}function Y(e){return e.style&&e.style.display||fe.css(e,"display")}function J(e){if(!fe.contains(e.ownerDocument||ne,e))return!0;for(;e&&1===e.nodeType;){if("none"===Y(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Q(i,e,n,r){var t;if(fe.isArray(e))fe.each(e,function(e,t){n||ui.test(i)?r(i,t):Q(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,n,r)});else if(n||"object"!==fe.type(e))r(i,e);else for(t in e)Q(i+"["+t+"]",e[t],n,r)}function Z(){try{return new S.XMLHttpRequest}catch(e){}}function ee(){try{return new S.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return fe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ie=[],ne=S.document,re=ie.slice,oe=ie.concat,se=ie.push,ae=ie.indexOf,ce={},le=ce.toString,ue=ce.hasOwnProperty,he={},de="1.12.4",fe=function(e,t){return new fe.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,_e=/^-ms-/,ge=/-([\da-z])/gi,ve=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:de,constructor:fe,selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:re.call(this)},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(i){return this.pushStack(fe.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:se,sort:ie.sort,splice:ie.splice},fe.extend=fe.fn.extend=function(e){var t,i,n,r,o,s,a=e||{},c=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[c]||{},c++),"object"==typeof a||fe.isFunction(a)||(a={}),c===l&&(a=this,c--);c<l;c++)if(null!=(o=arguments[c]))for(r in o)t=a[r],a!==(n=o[r])&&(u&&n&&(fe.isPlainObject(n)||(i=fe.isArray(n)))?(i?(i=!1,s=t&&fe.isArray(t)?t:[]):s=t&&fe.isPlainObject(t)?t:{},a[r]=fe.extend(u,s,n)):n!==undefined&&(a[r]=n));return a},fe.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!ue.call(e,"constructor")&&!ue.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(!he.ownFirst)for(t in e)return ue.call(e,t);for(t in e);return t===undefined||ue.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ce[le.call(e)]||"object":typeof e},globalEval:function(e){e&&fe.trim(e)&&(S.execScript||function(e){S.eval.call(S,e)})(e)},camelCase:function(e){return e.replace(_e,"ms-").replace(ge,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,n=0;if(a(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(a(Object(e))?fe.merge(i,"string"==typeof e?[e]:e):se.call(i,e)),i},inArray:function(e,t,i){var n;if(t){if(ae)return ae.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;)e[r++]=t[n++];if(i!=i)for(;t[n]!==undefined;)e[r++]=t[n++];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,o=e.length,s=!i;r<o;r++)!t(e[r],r)!==s&&n.push(e[r]);return n},map:function(e,t,i){var n,r,o=0,s=[];if(a(e))for(n=e.length;o<n;o++)null!=(r=t(e[o],o,i))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,i))&&s.push(r);return oe.apply([],s)},guid:1,proxy:function(e,t){var i,n,r;return"string"==typeof t&&(r=e[t],t=e,e=r),fe.isFunction(e)?(i=re.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(re.call(arguments)))}).guid=e.guid=e.guid||fe.guid++,n):undefined},now:function(){return+new Date},support:he}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ie[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ce["[object "+t+"]"]=t.toLowerCase()});var me=function(i){function b(e,t,i,n){var r,o,s,a,c,l,u,h,d=t&&t.ownerDocument,f=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return i;if(!n&&((t?t.ownerDocument||t:F)!==O&&R(t),t=t||O,I)){if(11!==f&&(l=ve.exec(e)))if(r=l[1]){if(9===f){if(!(s=t.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(d&&(s=d.getElementById(r))&&N(t,s)&&s.id===r)return i.push(s),i}else{if(l[2])return Q.apply(i,t.getElementsByTagName(e)),i;if((r=l[3])&&v.getElementsByClassName&&t.getElementsByClassName)return Q.apply(i,t.getElementsByClassName(r)),i}if(v.qsa&&!z[e+" "]&&(!M||!M.test(e))){if(1!==f)d=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(ye,"\\$&"):t.setAttribute("id",a=B),o=(u=E(e)).length,c=de.test(a)?"#"+a:"[id='"+a+"']";o--;)u[o]=c+" "+g(u[o]);h=u.join(","),d=me.test(e)&&_(t.parentNode)||t}if(h)try{return Q.apply(i,d.querySelectorAll(h)),i}catch(p){}finally{a===B&&t.removeAttribute("id")}}}return T(e.replace(ae,"$1"),t,i,n)}function e(){function i(e,t){return n.push(e+" ")>C.cacheLength&&delete i[n.shift()],i[e+" "]=t}var n=[];return i}function c(e){return e[B]=!0,e}function r(e){var t=O.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var i=e.split("|"),n=i.length;n--;)C.attrHandle[i[n]]=t}function l(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function n(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function o(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function s(s){return c(function(o){return o=+o,c(function(e,t){for(var i,n=s([],e.length,o),r=n.length;r--;)e[i=n[r]]&&(e[i]=!(t[i]=e[i]))})})}function _(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function a(){}function g(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function h(a,e,t){var c=e.dir,l=t&&"parentNode"===c,u=$++;return e.first?function(e,t,i){for(;e=e[c];)if(1===e.nodeType||l)return a(e,t,i)}:function(e,t,i){var n,r,o,s=[q,u];if(i){for(;e=e[c];)if((1===e.nodeType||l)&&a(e,t,i))return!0}else for(;e=e[c];)if(1===e.nodeType||l){if((n=(r=(o=e[B]||(e[B]={}))[e.uniqueID]||(o[e.uniqueID]={}))[c])&&n[0]===q&&n[1]===u)return s[2]=n[2];if((r[c]=s)[2]=a(e,t,i))return!0}}}function d(r){return 1<r.length?function(e,t,i){for(var n=r.length;n--;)if(!r[n](e,t,i))return!1;return!0}:r[0]}function m(e,t,i){for(var n=0,r=t.length;n<r;n++)b(e,t[n],i);return i}function w(e,t,i,n,r){for(var o,s=[],a=0,c=e.length,l=null!=t;a<c;a++)(o=e[a])&&(i&&!i(o,n,r)||(s.push(o),l&&t.push(a)));return s}function y(f,p,_,g,v,e){return g&&!g[B]&&(g=y(g)),v&&!v[B]&&(v=y(v,e)),c(function(e,t,i,n){var r,o,s,a=[],c=[],l=t.length,u=e||m(p||"*",i.nodeType?[i]:i,[]),h=!f||!e&&p?u:w(u,a,f,i,n),d=_?v||(e?f:l||g)?[]:t:h;if(_&&_(h,d,i,n),g)for(r=w(d,c),g(r,[],i,n),o=r.length;o--;)(s=r[o])&&(d[c[o]]=!(h[c[o]]=s));if(e){if(v||f){if(v){for(r=[],o=d.length;o--;)(s=d[o])&&r.push(h[o]=s);v(null,d=[],r,n)}for(o=d.length;o--;)(s=d[o])&&-1<(r=v?ee(e,s):a[o])&&(e[r]=!(t[r]=s))}}else d=w(d===t?d.splice(l,d.length):d),v?v(null,t,d,n):Q.apply(t,d)})}function f(e){for(var r,t,i,n=e.length,o=C.relative[e[0].type],s=o||C.relative[" "],a=o?1:0,c=h(function(e){return e===r},s,!0),l=h(function(e){return-1<ee(r,e)},s,!0),u=[function(e,t,i){var n=!o&&(i||t!==A)||((r=t).nodeType?c(e,t,i):l(e,t,i));return r=null,n}];a<n;a++)if(t=C.relative[e[a].type])u=[h(d(u),t)];else{if((t=C.filter[e[a].type].apply(null,e[a].matches))[B]){for(i=++a;i<n&&!C.relative[e[i].type];i++);return y(1<a&&d(u),1<a&&g(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),t,a<i&&f(e.slice(a,i)),i<n&&f(e=e.slice(i)),i<n&&g(e))}u.push(t)}return d(u)}function u(g,v){var m=0<v.length,y=0<g.length,e=function(e,t,i,n,r){var o,s,a,c=0,l="0",u=e&&[],h=[],d=A,f=e||y&&C.find.TAG("*",r),p=q+=null==d?1:Math.random()||.1,_=f.length;for(r&&(A=t===O||t||r);l!==_&&null!=(o=f[l]);l++){if(y&&o){for(s=0,t||o.ownerDocument===O||(R(o),i=!I);a=g[s++];)if(a(o,t||O,i)){n.push(o);break}r&&(q=p)}m&&((o=!a&&o)&&c--,e&&u.push(o))}if(c+=l,m&&l!==c){for(s=0;a=v[s++];)a(u,h,t,i);if(e){if(0<c)for(;l--;)u[l]||h[l]||(h[l]=Y.call(n));h=w(h)}Q.apply(n,h),r&&!e&&0<h.length&&1<c+v.length&&b.uniqueSort(n)}return r&&(q=p,A=d),u};return m?c(e):e}var p,v,C,S,x,E,k,T,A,L,D,R,O,P,I,M,j,H,N,B="sizzle"+1*new Date,F=i.document,q=0,$=0,U=e(),W=e(),z=e(),K=function(e,t){return e===t&&(D=!0),0},V=1<<31,G={}.hasOwnProperty,X=[],Y=X.pop,J=X.push,Q=X.push,Z=X.slice,ee=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ie+"*\\]",oe=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ie+"+","g"),ae=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ce=new RegExp("^"+ie+"*,"+ie+"*"),le=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ue=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),he=new RegExp(oe),de=new RegExp("^"+ne+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ye=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),we=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ce=function(){R()};try{Q.apply(X=Z.call(F.childNodes),F.childNodes),X[F.childNodes.length].nodeType}catch(Se){Q={apply:X.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}for(p in v=b.support={},x=b.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},R=b.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:F;return n!==O&&9===n.nodeType&&n.documentElement&&(P=(O=n).documentElement,I=!x(O),(i=O.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",Ce,!1):i.attachEvent&&i.attachEvent("onunload",Ce)),v.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),v.getElementsByTagName=r(function(e){return e.appendChild(O.createComment("")),!e.getElementsByTagName("*").length}),v.getElementsByClassName=ge.test(O.getElementsByClassName),v.getById=r(function(e){return P.appendChild(e).id=B,!O.getElementsByName||!O.getElementsByName(B).length}),v.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var i=t.getElementById(e);return i?[i]:[]}},C.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var i=e.replace(be,we);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===i}}),C.find.TAG=v.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):v.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;i=o[r++];)1===i.nodeType&&n.push(i);return n},C.find.CLASS=v.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&I)return t.getElementsByClassName(e)},j=[],M=[],(v.qsa=ge.test(O.querySelectorAll))&&(r(function(e){P.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||M.push(".#.+[+~]")}),r(function(e){var t=O.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(v.matchesSelector=ge.test(H=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){v.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),j.push("!=",oe)}),M=M.length&&new RegExp(M.join("|")),j=j.length&&new RegExp(j.join("|")),t=ge.test(P.compareDocumentPosition),N=t||ge.test(P.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=t?function(e,t){if(e===t)return D=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===i?e===O||e.ownerDocument===F&&N(F,e)?-1:t===O||t.ownerDocument===F&&N(F,t)?1:L?ee(L,e)-ee(L,t):0:4&i?-1:1)}:function(e,t){if(e===t)return D=!0,0;var i,n=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===O?-1:t===O?1:r?-1:o?1:L?ee(L,e)-ee(L,t):0;if(r===o)return l(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?l(s[n],a[n]):s[n]===F?-1:a[n]===F?1:0}),O},b.matches=function(e,t){return b(e,null,null,t)},b.matchesSelector=function(e,t){if((e.ownerDocument||e)!==O&&R(e),t=t.replace(ue,"='$1']"),v.matchesSelector&&I&&!z[t+" "]&&(!j||!j.test(t))&&(!M||!M.test(t)))try{var i=H.call(e,t);if(i||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(Se){}return 0<b(t,O,null,[e]).length},b.contains=function(e,t){return(e.ownerDocument||e)!==O&&R(e),N(e,t)},b.attr=function(e,t){(e.ownerDocument||e)!==O&&R(e);var i=C.attrHandle[t.toLowerCase()],n=i&&G.call(C.attrHandle,t.toLowerCase())?i(e,t,!I):undefined;return n!==undefined?n:v.attributes||!I?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},b.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},b.uniqueSort=function(e){var t,i=[],n=0,r=0;if(D=!v.detectDuplicates,L=!v.sortStable&&e.slice(0),e.sort(K),D){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return L=null,e},S=b.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=S(t);return i},(C=b.selectors={cacheLength:50,createPseudo:c,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||b.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&b.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&he.test(i)&&(t=E(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(i,n,r){return function(e){var t=b.attr(e,i);return null==t?"!="===n:!n||(t+="","="===n?t===r:"!="===n?t!==r:"^="===n?r&&0===t.indexOf(r):"*="===n?r&&-1<t.indexOf(r):"$="===n?r&&t.slice(-r.length)===r:"~="===n?-1<(" "+t.replace(se," ")+" ").indexOf(r):"|="===n&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,e,t,_,g){var v="nth"!==p.slice(0,3),m="last"!==p.slice(-4),y="of-type"===e;return 1===_&&0===g?function(e){return!!e.parentNode}:function(e,t,i){var n,r,o,s,a,c,l=v!==m?"nextSibling":"previousSibling",u=e.parentNode,h=y&&e.nodeName.toLowerCase(),d=!i&&!y,f=!1;if(u){if(v){for(;l;){for(s=e;s=s[l];)if(y?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;c=l="only"===p&&!c&&"nextSibling"}return!0}if(c=[m?u.firstChild:u.lastChild],m&&d){for(f=(a=(n=(r=(o=(s=u)[B]||(s[B]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===q&&n[1])&&n[2],s=a&&u.childNodes[a];s=++a&&s&&s[l]||(f=a=0)||c.pop();)if(1===s.nodeType&&++f&&s===e){r[p]=[q,a,f];break}}else if(d&&(f=a=(n=(r=(o=(s=e)[B]||(s[B]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===q&&n[1]),!1===f)for(;(s=++a&&s&&s[l]||(f=a=0)||c.pop())&&((y?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++f||(d&&((r=(o=s[B]||(s[B]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[q,f]),s!==e)););return(f-=g)===_||f%_==0&&0<=f/_}}},PSEUDO:function(e,o){var t,s=C.pseudos[e]||C.setFilters[e.toLowerCase()]||b.error("unsupported pseudo: "+e);return s[B]?s(o):1<s.length?(t=[e,e,"",o],C.setFilters.hasOwnProperty(e.toLowerCase())?c(function(e,t){for(var i,n=s(e,o),r=n.length;r--;)e[i=ee(e,n[r])]=!(t[i]=n[r])}):function(e){return s(e,0,t)}):s}},pseudos:{
not:c(function(e){var n=[],r=[],a=k(e.replace(ae,"$1"));return a[B]?c(function(e,t,i,n){for(var r,o=a(e,null,n,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,t,i){return n[0]=e,a(n,null,i,r),n[0]=null,!r.pop()}}),has:c(function(t){return function(e){return 0<b(t,e).length}}),contains:c(function(t){return t=t.replace(be,we),function(e){return-1<(e.textContent||e.innerText||S(e)).indexOf(t)}}),lang:c(function(i){return de.test(i||"")||b.error("unsupported lang: "+i),i=i.replace(be,we).toLowerCase(),function(e){var t;do{if(t=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===P},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return _e.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,i){return[i<0?i+t:i]}),even:s(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:s(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:s(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:s(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[p]=n(p);for(p in{submit:!0,reset:!0})C.pseudos[p]=o(p);return a.prototype=C.filters=C.pseudos,C.setFilters=new a,E=b.tokenize=function(e,t){var i,n,r,o,s,a,c,l=W[e+" "];if(l)return t?0:l.slice(0);for(s=e,a=[],c=C.preFilter;s;){for(o in i&&!(n=ce.exec(s))||(n&&(s=s.slice(n[0].length)||s),a.push(r=[])),i=!1,(n=le.exec(s))&&(i=n.shift(),r.push({value:i,type:n[0].replace(ae," ")}),s=s.slice(i.length)),C.filter)!(n=fe[o].exec(s))||c[o]&&!(n=c[o](n))||(i=n.shift(),r.push({value:i,type:o,matches:n}),s=s.slice(i.length));if(!i)break}return t?s.length:s?b.error(e):W(e,a).slice(0)},k=b.compile=function(e,t){var i,n=[],r=[],o=z[e+" "];if(!o){for(t||(t=E(e)),i=t.length;i--;)(o=f(t[i]))[B]?n.push(o):r.push(o);(o=z(e,u(r,n))).selector=e}return o},T=b.select=function(e,t,i,n){var r,o,s,a,c,l="function"==typeof e&&e,u=!n&&E(e=l.selector||e);if(i=i||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(s=o[0]).type&&v.getById&&9===t.nodeType&&I&&C.relative[o[1].type]){if(!(t=(C.find.ID(s.matches[0].replace(be,we),t)||[])[0]))return i;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((c=C.find[a])&&(n=c(s.matches[0].replace(be,we),me.test(o[0].type)&&_(t.parentNode)||t))){if(o.splice(r,1),!(e=n.length&&g(o)))return Q.apply(i,n),i;break}}return(l||k(e,u))(n,t,!I,i,!t||me.test(e)&&_(t.parentNode)||t),i},v.sortStable=B.split("").sort(K).join("")===B,v.detectDuplicates=!!D,R(),v.sortDetached=r(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),v.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),b}(S);fe.find=me,fe.expr=me.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=me.uniqueSort,fe.text=me.getText,fe.isXMLDoc=me.isXML,fe.contains=me.contains;var ye=function(e,t,i){for(var n=[],r=i!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&fe(e).is(i))break;n.push(e)}return n},be=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},we=fe.expr.match.needsContext,Ce=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Se=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?fe.find.matchesSelector(n,e)?[n]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,i=[],n=this,r=n.length;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<r;t++)if(fe.contains(n[t],this))return!0}));for(t=0;t<r;t++)fe.find(e,n[t],i);return(i=this.pushStack(1<r?fe.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&we.test(e)?fe(e):e||[],!1).length}});var xe,Ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(fe.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||xe,"string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):fe.isFunction(e)?"undefined"!=typeof i.ready?i.ready(e):e(fe):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),fe.makeArray(e,this));if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Ee.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),Ce.test(n[1])&&fe.isPlainObject(t))for(n in t)fe.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=ne.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return xe.find(e);this.length=1,this[0]=r}return this.context=ne,this.selector=e,this}).prototype=fe.fn,xe=fe(ne);var ke=/^(?:parents|prev(?:Until|All))/,Te={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,i=fe(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(fe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,o=[],s=we.test(e)||"string"!=typeof e?fe(e,t||this.context):0;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?-1<s.index(i):1===i.nodeType&&fe.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(1<o.length?fe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,i){return ye(e,"parentNode",i)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},nextUntil:function(e,t,i){return ye(e,"nextSibling",i)},prevUntil:function(e,t,i){return ye(e,"previousSibling",i)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes)}},function(n,r){fe.fn[n]=function(e,t){var i=fe.map(this,r,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=fe.filter(t,i)),1<this.length&&(Te[n]||(i=fe.uniqueSort(i)),ke.test(n)&&(i=i.reverse())),this.pushStack(i)}});var Ae,Le,De=/\S+/g;for(Le in fe.Callbacks=function(n){n="string"==typeof n?u(n):fe.extend({},n);var r,e,t,i,o=[],s=[],a=-1,c=function(){for(i=n.once,t=r=!0;s.length;a=-1)for(e=s.shift();++a<o.length;)!1===o[a].apply(e[0],e[1])&&n.stopOnFalse&&(a=o.length,e=!1);n.memory||(e=!1),r=!1,i&&(o=e?[]:"")},l={add:function(){return o&&(e&&!r&&(a=o.length-1,s.push(e)),function i(e){fe.each(e,function(e,t){fe.isFunction(t)?n.unique&&l.has(t)||o.push(t):t&&t.length&&"string"!==fe.type(t)&&i(t)})}(arguments),e&&!r&&c()),this},remove:function(){return fe.each(arguments,function(e,t){for(var i;-1<(i=fe.inArray(t,o,i));)o.splice(i,1),i<=a&&a--}),this},has:function(e){return e?-1<fe.inArray(e,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=e="",this},disabled:function(){return!o},lock:function(){return i=!0,e||l.disable(),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],s.push(t),r||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!t}};return l},fe.extend({Deferred:function(e){var o=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var r=arguments;return fe.Deferred(function(n){fe.each(o,function(e,t){var i=fe.isFunction(r[e])&&r[e];a[t[1]](function(){var e=i&&i.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this===s?n.promise():this,i?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?fe.extend(e,s):s}},a={};return s.pipe=s.then,fe.each(o,function(e,t){var i=t[2],n=t[3];s[t[1]]=i.add,n&&i.add(function(){r=n},o[1^e][2].disable,o[2][2].lock),a[t[0]]=function(){return a[t[0]+"With"](this===a?s:this,arguments),this},a[t[0]+"With"]=i.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){var r,t,i,n=0,o=re.call(arguments),s=o.length,a=1!==s||e&&fe.isFunction(e.promise)?s:0,c=1===a?e:fe.Deferred(),l=function(t,i,n){return function(e){i[t]=this,n[t]=1<arguments.length?re.call(arguments):e,n===r?c.notifyWith(i,n):--a||c.resolveWith(i,n)}};if(1<s)for(r=new Array(s),t=new Array(s),i=new Array(s);n<s;n++)o[n]&&fe.isFunction(o[n].promise)?o[n].promise().progress(l(n,t,r)).done(l(n,i,o)).fail(c.reject):--a;return a||c.resolveWith(i,o),c.promise()}}),fe.fn.ready=function(e){return fe.ready.promise().done(e),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0)!==e&&0<--fe.readyWait||(Ae.resolveWith(ne,[fe]),fe.fn.triggerHandler&&(fe(ne).triggerHandler("ready"),fe(ne).off("ready")))}}),fe.ready.promise=function(e){if(!Ae)if(Ae=fe.Deferred(),"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll)S.setTimeout(fe.ready);else if(ne.addEventListener)ne.addEventListener("DOMContentLoaded",o),S.addEventListener("load",o);else{ne.attachEvent("onreadystatechange",o),S.attachEvent("onload",o);var t=!1;try{t=null==S.frameElement&&ne.documentElement}catch(i){}t&&t.doScroll&&function n(){if(!fe.isReady){try{t.doScroll("left")}catch(i){return S.setTimeout(n,50)}r(),fe.ready()}}()}return Ae.promise(e)},fe.ready.promise(),fe(he))break;he.ownFirst="0"===Le,he.inlineBlockNeedsLayout=!1,fe(function(){var e,t,i,n;(i=ne.getElementsByTagName("body")[0])&&i.style&&(t=ne.createElement("div"),(n=ne.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",he.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=ne.createElement("div");he.deleteExpando=!0;try{delete e.test}catch(t){he.deleteExpando=!1}e=null}();var Re,Oe=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/([A-Z])/g;fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando])&&!l(e)},data:function(e,t,i){return n(e,t,i)},removeData:function(e,t){return s(e,t)},_data:function(e,t,i){return n(e,t,i,!0)},_removeData:function(e,t){return s(e,t,!0)}}),fe.fn.extend({data:function(e,t){var i,n,r,o=this[0],s=o&&o.attributes;if(e!==undefined)return"object"==typeof e?this.each(function(){fe.data(this,e)}):1<arguments.length?this.each(function(){fe.data(this,e,t)}):o?c(o,e,fe.data(o,e)):undefined;if(this.length&&(r=fe.data(o),1===o.nodeType&&!fe._data(o,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&c(o,n=fe.camelCase(n.slice(5)),r[n]);fe._data(o,"parsedAttrs",!0)}return r},removeData:function(e){return this.each(function(){fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=fe._data(e,t),i&&(!n||fe.isArray(i)?n=fe._data(e,t,fe.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=fe.queue(e,t),n=i.length,r=i.shift(),o=fe._queueHooks(e,t),s=function(){fe.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return fe._data(e,i)||fe._data(e,i,{empty:fe.Callbacks("once memory").add(function(){fe._removeData(e,t+"queue"),fe._removeData(e,i)})})}}),fe.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?fe.queue(this[0],t):i===undefined?this:this.each(function(){var e=fe.queue(this,t,i);fe._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&fe.dequeue(this,t)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=fe.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";s--;)(i=fe._data(o[s],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}}),he.shrinkWrapBlocks=function(){return null!=Re?Re:(Re=!1,(t=ne.getElementsByTagName("body")[0])&&t.style?(e=ne.createElement("div"),(i=ne.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ne.createElement("div")).style.width="5px",Re=3!==e.offsetWidth),t.removeChild(i),Re):void 0);var e,t,i};var Me,je,He,Ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+Ne+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],qe=function(e,t){return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},$e=function(e,t,i,n,r,o,s){var a=0,c=e.length,l=null==i;if("object"===fe.type(i))for(a in r=!0,i)$e(e,t,a,i[a],!0,o,s);else if(n!==undefined&&(r=!0,fe.isFunction(n)||(s=!0),l&&(s?(t.call(e,n),t=null):(l=t,t=function(e,t,i){return l.call(fe(e),i)})),t))for(;a<c;a++)t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)));return r?e:l?t.call(e):c?t(e[0],i):o},Ue=/^(?:checkbox|radio)$/i,We=/<([\w:-]+)/,ze=/^$|\/(?:java|ecma)script/i,Ke=/^\s+/,Ve="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Me=ne.createElement("div"),je=ne.createDocumentFragment(),He=ne.createElement("input"),Me.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",he.leadingWhitespace=3===Me.firstChild.nodeType,he.tbody=!Me.getElementsByTagName("tbody").length,he.htmlSerialize=!!Me.getElementsByTagName("link").length,he.html5Clone="<:nav></:nav>"!==ne.createElement("nav").cloneNode(!0).outerHTML,He.type="checkbox",He.checked=!0,je.appendChild(He),he.appendChecked=He.checked,Me.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!Me.cloneNode(!0).lastChild.defaultValue,je.appendChild(Me),(He=ne.createElement("input")).setAttribute("type","radio"),He.setAttribute("checked","checked"),He.setAttribute("name","t"),Me.appendChild(He),he.checkClone=Me.cloneNode(!0).cloneNode(!0).lastChild.checked,he.noCloneEvent=!!Me.addEventListener,Me[fe.expando]=1,he.attributes=!Me.getAttribute(fe.expando);var Ge={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td;var Xe=/<|&#?\w+;/,Ye=/<tbody/i;!function(){var e,t,i=ne.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(he[e]=t in S)||(i.setAttribute(t,"t"),he[e]=!1===i.attributes[t].expando);i=null}();var Je=/^(?:input|select|textarea)$/i,Qe=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,i,n,r){var o,s,a,c,l,u,h,d,f,p,_,g=fe._data(e);if(g){for(i.handler&&(i=(c=i).handler,r=c.selector),i.guid||(i.guid=fe.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||((u=g.handle=function(e){return void 0===fe||e&&fe.event.triggered===e.type?undefined:fe.event.dispatch.apply(u.elem,arguments)}).elem=e),a=(t=(t||"").match(De)||[""]).length;a--;)f=_=(o=tt.exec(t[a])||[])[1],p=(o[2]||"").split(".").sort(),f&&(l=fe.event.special[f]||{},f=(r?l.delegateType:l.bindType)||f,l=fe.event.special[f]||{},h=fe.extend({type:f,origType:_,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&fe.expr.match.needsContext.test(r),namespace:p.join(".")},c),(d=s[f])||((d=s[f]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,n,p,u)||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),l.add&&(l.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),fe.event.global[f]=!0);e=null}},remove:function(e,t,i,n,r){var o,s,a,c,l,u,h,d,f,p,_,g=fe.hasData(e)&&fe._data(e);if(g&&(u=g.events)){for(l=(t=(t||"").match(De)||[""]).length;l--;)if(f=_=(a=tt.exec(t[l])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=fe.event.special[f]||{},d=u[f=(n?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=o=d.length;o--;)s=d[o],!r&&_!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(e,s));c&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||fe.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)fe.event.remove(e,f+t[l],i,n,!0);fe.isEmptyObject(u)&&(delete g.handle,fe._removeData(e,"events"))}},trigger:function(e,t,i,n){var r,o,s,a,c,l,u,h=[i||ne],d=ue.call(e,"type")?e.type:e,f=ue.call(e,"namespace")?e.namespace.split("."):[];if(s=l=i=i||ne,3!==i.nodeType&&8!==i.nodeType&&!et.test(d+fe.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),o=d.indexOf(":")<0&&"on"+d,(e=e[fe.expando]?e:new fe.Event(d,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=i),t=null==t?[e]:fe.makeArray(t,[e]),c=fe.event.special[d]||{},n||!c.trigger||!1!==c.trigger.apply(i,t))){if(!n&&!c.noBubble&&!fe.isWindow(i)){for(a=c.delegateType||d,et.test(a+d)||(s=s.parentNode);s;s=s.parentNode)h.push(s),l=s;l===(i.ownerDocument||ne)&&h.push(l.defaultView||l.parentWindow||S)}for(u=0;(s=h[u++])&&!e.isPropagationStopped();)e.type=1<u?a:c.bindType||d,(r=(fe._data(s,"events")||{})[e.type]&&fe._data(s,"handle"))&&r.apply(s,t),(r=o&&s[o])&&r.apply&&Oe(s)&&(e.result=r.apply(s,t),!1===e.result&&e.preventDefault());if(e.type=d,!n&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(h.pop(),t))&&Oe(i)&&o&&i[d]&&!fe.isWindow(i)){(l=i[o])&&(i[o]=null),fe.event.triggered=d;try{i[d]()}catch(p){}fe.event.triggered=undefined,l&&(i[o]=l)}return e.result}},dispatch:function(e){e=fe.event.fix(e);var t,i,n,r,o,s=[],a=re.call(arguments),c=(fe._data(this,"events")||{})[e.type]||[],l=fe.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(s=fe.event.handlers.call(this,e,c),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,(n=((fe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))!==undefined&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,o,s=[],a=t.delegateCount,c=e.target;if(a&&c.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(n=[],i=0;i<a;i++)n[r=(o=t[i]).selector+" "]===undefined&&(n[r]=o.needsContext?-1<fe(r,this).index(c):fe.find(r,this,null,[c]).length),n[r]&&n.push(o);n.length&&s.push({elem:c,handlers:n})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[fe.expando])return e;var t,i,n,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Ze.test(r)?this.mouseHooks:Qe.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,e=new fe.Event(o),t=n.length;t--;)e[i=n[t]]=o[i];return e.target||(e.target=o.srcElement||ne),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||ne).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||o===undefined||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i){var n=fe.extend(new fe.Event,i,{type:e,isSimulated:!0});fe.event.trigger(n,null,t),n.isDefaultPrevented()&&i.preventDefault()}},fe.removeEvent=ne.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var n="on"+t;e.detachEvent&&("undefined"==typeof e[n]&&(e[n]=null),e.detachEvent(n,i))},fe.Event=function(e,t){if(!(this instanceof fe.Event))return new fe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?d:f):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),this[fe.expando]=!0},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){fe.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,i=this,n=e.relatedTarget,r=e.handleObj;return n&&(n===i||fe.contains(i,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=o),t}}}),he.submit||(fe.event.special.submit={setup:function(){if(fe.nodeName(this,"form"))return!1;fe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):undefined;i&&!fe._data(i,"submit")&&(fe.event.add(i,"submit._submit",function(e){e._submitBubble=!0}),fe._data(i,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){if(fe.nodeName(this,"form"))return!1;fe.event.remove(this,"._submit")}}),he.change||(fe.event.special.change={setup:function(){if(Je.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(fe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e)})),!1;fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Je.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e)}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return fe.event.remove(this,"._change"),!Je.test(this.nodeName)}}),he.focusin||fe.each({focus:"focusin",blur:"focusout"},function(i,n){var r=function(e){fe.event.simulate(n,e.target,fe.event.fix(e))};fe.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=fe._data(e,n);t||e.addEventListener(i,r,!0),fe._data(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=fe._data(e,n)-1;t?fe._data(e,n,t):(e.removeEventListener(i,r,!0),fe._removeData(e,n))}}}),fe.fn.extend({on:function(e,t,i,n){return b(this,e,t,i,n)},one:function(e,t,i,n){return b(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,fe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=undefined),!1===i&&(i=f),this.each(function(){fe.event.remove(this,e,i,t)});for(r in e)this.off(r,t,e[r]);return this},trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return fe.event.trigger(e,t,i,!0)}});var it=/ jQuery\d+="(?:null|\d+)"/g,nt=new RegExp("<(?:"+Ve+")[\\s/>]","i"),rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ot=/<script|<style|<link/i,st=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^true\/(.*)/,ct=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,lt=g(ne).appendChild(ne.createElement("div"));fe.extend({htmlPrefilter:function(e){return e.replace(rt,"<$1></$2>")},clone:function(e,t,i){var n,r,o,s,a,c=fe.contains(e.ownerDocument,e);if(he.html5Clone||fe.isXMLDoc(e)||!nt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(lt.innerHTML=e.outerHTML,lt.removeChild(o=lt.firstChild)),!(he.noCloneEvent&&he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(n=v(o),a=v(e),s=0;null!=(r=a[s]);++s)n[s]&&k(r,n[s]);if(t)if(i)for(a=a||v(e),n=n||v(o),s=0;null!=(r=a[s]);s++)E(r,n[s]);else E(e,o);return 0<(n=v(o,"script")).length&&m(n,!c&&v(e,"script")),n=a=r=null,o},cleanData:function(e,t){for(var i,n,r,o,s=0,a=fe.expando,c=fe.cache,l=he.attributes,u=fe.event.special;null!=(i=e[s]);s++)if((t||Oe(i))&&(o=(r=i[a])&&c[r])){if(o.events)for(n in o.events)u[n]?fe.event.remove(i,n):fe.removeEvent(i,n,o.handle);c[r]&&(delete c[r],l||"undefined"==typeof i.removeAttribute?i[a]=undefined:i.removeAttribute(a),ie.push(r))}}}),fe.fn.extend({domManip:T,detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return $e(this,function(e){return e===undefined?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ne).createTextNode(e))},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,e).appendChild(e)})},prepend:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(v(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return $e(this,function(e){var t=this[0]||{},i=0,n=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(it,""):undefined;if("string"==typeof e&&!ot.test(e)&&(he.htmlSerialize||!nt.test(e))&&(he.leadingWhitespace||!Ke.test(e))&&!Ge[(We.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(fe.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return T(this,arguments,function(e){var t=this.parentNode;fe.inArray(this,i)<0&&(fe.cleanData(v(this)),t&&t.replaceChild(e,this))},i)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){fe.fn[e]=function(e){for(var t,i=0,n=[],r=fe(e),o=r.length-1;i<=o;i++)t=i===o?this:this.clone(!0),fe(r[i])[s](t),se.apply(n,t.get());return this.pushStack(n)}});var ut,ht={HTML:"block",BODY:"block"},dt=/^margin/,ft=new RegExp("^("+Ne+")(?!px)[a-z%]+$","i"),pt=function(e,t,i,n){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=i.apply(e,n||[]),t)e.style[o]=s[o];return r},_t=ne.documentElement;!function(){function e(){var e,t,i=ne.documentElement;i.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=o=c=!1,r=a=!0,S.getComputedStyle&&(t=S.getComputedStyle(u),n="1%"!==(t||{}).top,c="2px"===(t||{}).marginLeft,o="4px"===(t||{width:"4px"}).width,u.style.marginRight="50%",r="4px"===(t||{marginRight:"4px"}).marginRight,(e=u.appendChild(ne.createElement("div"))).style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",u.style.width="1px",a=!parseFloat((S.getComputedStyle(e)||{}).marginRight),u.removeChild(e)),u.style.display="none",(s=0===u.getClientRects().length)&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",(
e=u.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(s=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",s=0===e[0].offsetHeight)),i.removeChild(l)}var n,r,o,s,a,c,l=ne.createElement("div"),u=ne.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",he.opacity="0.5"===u.style.opacity,he.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle="content-box"===u.style.backgroundClip,(l=ne.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",l.appendChild(u),he.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,fe.extend(he,{reliableHiddenOffsets:function(){return null==n&&e(),s},boxSizingReliable:function(){return null==n&&e(),o},pixelMarginRight:function(){return null==n&&e(),r},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),a},reliableMarginLeft:function(){return null==n&&e(),c}}))}();var gt,vt,mt=/^(top|right|bottom|left)$/;S.getComputedStyle?(gt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=S),t.getComputedStyle(e)},vt=function(e,t,i){var n,r,o,s,a=e.style;return""!==(s=(i=i||gt(e))?i.getPropertyValue(t)||i[t]:undefined)&&s!==undefined||fe.contains(e.ownerDocument,e)||(s=fe.style(e,t)),i&&!he.pixelMarginRight()&&ft.test(s)&&dt.test(t)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o),s===undefined?s:s+""}):_t.currentStyle&&(gt=function(e){return e.currentStyle},vt=function(e,t,i){var n,r,o,s,a=e.style;return null==(s=(i=i||gt(e))?i[t]:undefined)&&a&&a[t]&&(s=a[t]),ft.test(s)&&!mt.test(t)&&(n=a.left,(o=(r=e.runtimeStyle)&&r.left)&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=n,o&&(r.left=o)),s===undefined?s:s+""||"auto"});var yt=/alpha\([^)]*\)/i,bt=/opacity\s*=\s*([^)]*)/i,wt=/^(none|table(?!-c[ea]).+)/,Ct=new RegExp("^("+Ne+")(.*)$","i"),St={position:"absolute",visibility:"hidden",display:"block"},xt={letterSpacing:"0",fontWeight:"400"},Et=["Webkit","O","Moz","ms"],kt=ne.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=vt(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":he.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=fe.camelCase(t),c=e.style;if(t=fe.cssProps[a]||(fe.cssProps[a]=O(a)||a),s=fe.cssHooks[t]||fe.cssHooks[a],i===undefined)return s&&"get"in s&&(r=s.get(e,!1,n))!==undefined?r:c[t];if("string"===(o=typeof i)&&(r=Be.exec(i))&&r[1]&&(i=h(e,t,r),o="number"),null!=i&&i==i&&("number"===o&&(i+=r&&r[3]||(fe.cssNumber[a]?"":"px")),he.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),!(s&&"set"in s&&(i=s.set(e,i,n))===undefined)))try{c[t]=i}catch(l){}}},css:function(e,t,i,n){var r,o,s,a=fe.camelCase(t);return t=fe.cssProps[a]||(fe.cssProps[a]=O(a)||a),(s=fe.cssHooks[t]||fe.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,i)),o===undefined&&(o=vt(e,t,n)),"normal"===o&&t in xt&&(o=xt[t]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),fe.each(["height","width"],function(e,r){fe.cssHooks[r]={get:function(e,t,i){if(t)return wt.test(fe.css(e,"display"))&&0===e.offsetWidth?pt(e,St,function(){return j(e,r,i)}):j(e,r,i)},set:function(e,t,i){var n=i&&gt(e);return I(e,t,i?M(e,r,i,he.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,n),n):0)}}}),he.opacity||(fe.cssHooks.opacity={get:function(e,t){return bt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";((i.zoom=1)<=t||""===t)&&""===fe.trim(o.replace(yt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=yt.test(o)?o.replace(yt,r):o+" "+r)}}),fe.cssHooks.marginRight=R(he.reliableMarginRight,function(e,t){if(t)return pt(e,{display:"inline-block"},vt,[e,"marginRight"])}),fe.cssHooks.marginLeft=R(he.reliableMarginLeft,function(e,t){if(t)return(parseFloat(vt(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-pt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(r,o){fe.cssHooks[r+o]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[r+Fe[t]+o]=n[t]||n[t-2]||n[0];return i}},dt.test(r)||(fe.cssHooks[r+o].set=I)}),fe.fn.extend({css:function(e,t){return $e(this,function(e,t,i){var n,r,o={},s=0;if(fe.isArray(t)){for(n=gt(e),r=t.length;s<r;s++)o[t[s]]=fe.css(e,t[s],!1,n);return o}return i!==undefined?fe.style(e,t,i):fe.css(e,t)},e,t,1<arguments.length)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){qe(this)?fe(this).show():fe(this).hide()})}}),(fe.Tween=H).prototype={constructor:H,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(fe.cssNumber[i]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,i=H.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=H.prototype.init,fe.fx.step={};var Tt,At,Lt,Dt,Rt,Ot,Pt,It=/^(?:toggle|show|hide)$/,Mt=/queueHooks$/;fe.Animation=fe.extend(U,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return h(i.elem,e,Be.exec(t),i),i}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(De);for(var i,n=0,r=e.length;n<r;n++)i=e[n],U.tweeners[i]=U.tweeners[i]||[],U.tweeners[i].unshift(t)},prefilters:[q],prefilter:function(e,t){t?U.prefilters.unshift(e):U.prefilters.push(e)}}),fe.speed=function(e,t,i){var n=e&&"object"==typeof e?fe.extend({},e):{complete:i||!i&&t||fe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!fe.isFunction(t)&&t};return n.duration=fe.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in fe.fx.speeds?fe.fx.speeds[n.duration]:fe.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){fe.isFunction(n.old)&&n.old.call(this),n.queue&&fe.dequeue(this,n.queue)},n},fe.fn.extend({fadeTo:function(e,t,i,n){return this.filter(qe).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var r=fe.isEmptyObject(t),o=fe.speed(e,i,n),s=function(){var e=U(this,fe.extend({},t),o);(r||fe._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(r,e,o){var s=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof r&&(o=e,e=r,r=undefined),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",i=fe.timers,n=fe._data(this);if(t)n[t]&&n[t].stop&&s(n[t]);else for(t in n)n[t]&&n[t].stop&&Mt.test(t)&&s(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=r&&i[t].queue!==r||(i[t].anim.stop(o),e=!1,i.splice(t,1));!e&&o||fe.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=fe._data(this),i=t[s+"queue"],n=t[s+"queueHooks"],r=fe.timers,o=i?i.length:0;for(t.finish=!0,fe.queue(this,s,[]),n&&n.stop&&n.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===s&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),fe.each(["toggle","show","hide"],function(e,n){var r=fe.fn[n];fe.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(B(n,!0),e,t,i)}}),fe.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){fe.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),fe.timers=[],fe.fx.tick=function(){var e,t=fe.timers,i=0;for(Tt=fe.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||fe.fx.stop(),Tt=undefined},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){At||(At=S.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){S.clearInterval(At),At=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(n,e){return n=fe.fx&&fe.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=S.setTimeout(e,n);t.stop=function(){S.clearTimeout(i)}})},Dt=ne.createElement("input"),Rt=ne.createElement("div"),Ot=ne.createElement("select"),Pt=Ot.appendChild(ne.createElement("option")),(Rt=ne.createElement("div")).setAttribute("className","t"),Rt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Lt=Rt.getElementsByTagName("a")[0],Dt.setAttribute("type","checkbox"),Rt.appendChild(Dt),(Lt=Rt.getElementsByTagName("a")[0]).style.cssText="top:1px",he.getSetAttribute="t"!==Rt.className,he.style=/top/.test(Lt.getAttribute("style")),he.hrefNormalized="/a"===Lt.getAttribute("href"),he.checkOn=!!Dt.value,he.optSelected=Pt.selected,he.enctype=!!ne.createElement("form").enctype,Ot.disabled=!0,he.optDisabled=!Pt.disabled,(Dt=ne.createElement("input")).setAttribute("value",""),he.input=""===Dt.getAttribute("value"),Dt.value="t",Dt.setAttribute("type","radio"),he.radioValue="t"===Dt.value;var jt=/\r/g,Ht=/[\x20\t\r\n\f]+/g;fe.fn.extend({val:function(i){var n,e,r,t=this[0];return arguments.length?(r=fe.isFunction(i),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?i.call(this,e,fe(this).val()):i)?t="":"number"==typeof t?t+="":fe.isArray(t)&&(t=fe.map(t,function(e){return null==e?"":e+""})),(n=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,t,"value")!==undefined||(this.value=t))})):t?(n=fe.valHooks[t.type]||fe.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&(e=n.get(t,"value"))!==undefined?e:"string"==typeof(e=t.value)?e.replace(jt,""):null==e?"":e:void 0}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e)).replace(Ht," ")}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,s=o?null:[],a=o?r+1:n.length,c=r<0?a:o?r:0;c<a;c++)if(((i=n[c]).selected||c===r)&&(he.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!fe.nodeName(i.parentNode,"optgroup"))){if(t=fe(i).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var i,n,r=e.options,o=fe.makeArray(t),s=r.length;s--;)if(n=r[s],-1<fe.inArray(fe.valHooks.option.get(n),o))try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),r}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(fe.isArray(t))return e.checked=-1<fe.inArray(fe(e).val(),t)}},he.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Nt,Bt,Ft=fe.expr.attrHandle,qt=/^(?:checked|selected)$/i,$t=he.getSetAttribute,Ut=he.input;fe.fn.extend({attr:function(e,t){return $e(this,fe.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?fe.prop(e,t,i):(1===o&&fe.isXMLDoc(e)||(t=t.toLowerCase(),r=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?Bt:Nt)),i!==undefined?null===i?void fe.removeAttr(e,t):r&&"set"in r&&(n=r.set(e,i,t))!==undefined?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=fe.find.attr(e,t))?undefined:n)},attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,r=0,o=t&&t.match(De);if(o&&1===e.nodeType)for(;i=o[r++];)n=fe.propFix[i]||i,fe.expr.match.bool.test(i)?Ut&&$t||!qt.test(i)?e[n]=!1:e[fe.camelCase("default-"+i)]=e[n]=!1:fe.attr(e,i,""),e.removeAttribute($t?i:n)}}),Bt={set:function(e,t,i){return!1===t?fe.removeAttr(e,i):Ut&&$t||!qt.test(i)?e.setAttribute(!$t&&fe.propFix[i]||i,i):e[fe.camelCase("default-"+i)]=e[i]=!0,i}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Ft[t]||fe.find.attr;Ut&&$t||!qt.test(t)?Ft[t]=function(e,t,i){var n,r;return i||(r=Ft[t],Ft[t]=n,n=null!=o(e,t,i)?t.toLowerCase():null,Ft[t]=r),n}:Ft[t]=function(e,t,i){if(!i)return e[fe.camelCase("default-"+t)]?t.toLowerCase():null}}),Ut&&$t||(fe.attrHooks.value={set:function(e,t,i){if(!fe.nodeName(e,"input"))return Nt&&Nt.set(e,t,i);e.defaultValue=t}}),$t||(Nt={set:function(e,t,i){var n=e.getAttributeNode(i);if(n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i))return t}},Ft.id=Ft.name=Ft.coords=function(e,t,i){var n;if(!i)return(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},fe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);if(i&&i.specified)return i.value},set:Nt.set},fe.attrHooks.contenteditable={set:function(e,t,i){Nt.set(e,""!==t&&t,i)}},fe.each(["width","height"],function(e,i){fe.attrHooks[i]={set:function(e,t){if(""===t)return e.setAttribute(i,"auto"),t}}})),he.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var Wt=/^(?:input|select|textarea|button|object)$/i,zt=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return $e(this,fe.prop,e,t,1<arguments.length)},removeProp:function(t){return t=fe.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(e){}})}}),fe.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,r=fe.propHooks[t]),i!==undefined?r&&"set"in r&&(n=r.set(e,i,t))!==undefined?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):Wt.test(e.nodeName)||zt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),he.hrefNormalized||fe.each(["href","src"],function(e,t){fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),he.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),he.enctype||(fe.propFix.enctype="encoding");var Kt=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,c=0;if(fe.isFunction(t))return this.each(function(e){fe(this).addClass(t.call(this,e,W(this)))});if("string"==typeof t&&t)for(e=t.match(De)||[];i=this[c++];)if(r=W(i),n=1===i.nodeType&&(" "+r+" ").replace(Kt," ")){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(a=fe.trim(n))&&fe.attr(i,"class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,c=0;if(fe.isFunction(t))return this.each(function(e){fe(this).removeClass(t.call(this,e,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(De)||[];i=this[c++];)if(r=W(i),n=1===i.nodeType&&(" "+r+" ").replace(Kt," ")){for(s=0;o=e[s++];)for(;-1<n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");r!==(a=fe.trim(n))&&fe.attr(i,"class",a)}return this},toggleClass:function(r,t){var o=typeof r;return"boolean"==typeof t&&"string"===o?t?this.addClass(r):this.removeClass(r):fe.isFunction(r)?this.each(function(e){fe(this).toggleClass(r.call(this,e,W(this),t),t)}):this.each(function(){var e,t,i,n;if("string"===o)for(t=0,i=fe(this),n=r.match(De)||[];e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else r!==undefined&&"boolean"!==o||((e=W(this))&&fe._data(this,"__className__",e),fe.attr(this,"class",e||!1===r?"":fe._data(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+W(i)+" ").replace(Kt," ").indexOf(t))return!0;return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){fe.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Vt=S.location,Gt=fe.now(),Xt=/\?/,Yt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fe.parseJSON=function(e){if(S.JSON&&S.JSON.parse)return S.JSON.parse(e+"");var r,o=null,t=fe.trim(e+"");return t&&!fe.trim(t.replace(Yt,function(e,t,i,n){return r&&t&&(o=0),0===o?e:(r=i||t,o+=!n-!i,"")}))?Function("return "+t)():fe.error("Invalid JSON: "+e)},fe.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{S.DOMParser?t=(new S.DOMParser).parseFromString(e,"text/xml"):((t=new S.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(i){t=undefined}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+e),t};var Jt=/#.*$/,Qt=/([?&])_=[^&]*/,Zt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ei=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ti=/^(?:GET|HEAD)$/,ii=/^\/\//,ni=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ri={},oi={},si="*/".concat("*"),ai=Vt.href,ci=ni.exec(ai.toLowerCase())||[];fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ai,type:"GET",isLocal:ei.test(ci[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":si,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,fe.ajaxSettings),t):V(fe.ajaxSettings,e)},ajaxPrefilter:z(ri),ajaxTransport:z(oi),ajax:function(e,t){function i(e,t,i,n){var r,o,s,a,c,l=t;2!==w&&(w=2,d&&S.clearTimeout(d),p=undefined,h=n||"",C.readyState=0<e?4:0,r=200<=e&&e<300||304===e,i&&(a=G(_,C,i)),a=X(_,a,C,r),r?(_.ifModified&&((c=C.getResponseHeader("Last-Modified"))&&(fe.lastModified[u]=c),(c=C.getResponseHeader("etag"))&&(fe.etag[u]=c)),204===e||"HEAD"===_.type?l="nocontent":304===e?l="notmodified":(l=a.state,o=a.data,r=!(s=a.error))):(s=l,!e&&l||(l="error",e<0&&(e=0))),C.status=e,C.statusText=(t||l)+"",r?m.resolveWith(g,[o,l,C]):m.rejectWith(g,[C,l,s]),C.statusCode(b),b=undefined,f&&v.trigger(r?"ajaxSuccess":"ajaxError",[C,_,r?o:s]),y.fireWith(g,[C,l]),f&&(v.trigger("ajaxComplete",[C,_]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r,u,h,d,f,p,o,_=fe.ajaxSetup({},t),g=_.context||_,v=_.context&&(g.nodeType||g.jquery)?fe(g):fe.event,m=fe.Deferred(),y=fe.Callbacks("once memory"),b=_.statusCode||{},s={},a={},w=0,c="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!o)for(o={};t=Zt.exec(h);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?h:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=a[i]=a[i]||e,s[e]=t),this},overrideMimeType:function(e){return w||(_.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)b[t]=[b[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||c;return p&&p.abort(t),i(0,t),this}};if(m.promise(C).complete=y.add,C.success=C.done,C.error=C.fail,_.url=((e||_.url||ai)+"").replace(Jt,"").replace(ii,ci[1]+"//"),_.type=t.method||t.type||_.method||_.type,_.dataTypes=fe.trim(_.dataType||"*").toLowerCase().match(De)||[""],null==_.crossDomain&&(n=ni.exec(_.url.toLowerCase()),_.crossDomain=!(!n||n[1]===ci[1]&&n[2]===ci[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(ci[3]||("http:"===ci[1]?"80":"443")))),_.data&&_.processData&&"string"!=typeof _.data&&(_.data=fe.param(_.data,_.traditional)),K(ri,_,t,C),2===w)return C;for(r in(f=fe.event&&_.global)&&0==fe.active++&&fe.event.trigger("ajaxStart"),_.type=_.type.toUpperCase(),_.hasContent=!ti.test(_.type),u=_.url,_.hasContent||(_.data&&(u=_.url+=(Xt.test(u)?"&":"?")+_.data,delete _.data),!1===_.cache&&(_.url=Qt.test(u)?u.replace(Qt,"$1_="+Gt++):u+(Xt.test(u)?"&":"?")+"_="+Gt++)),_.ifModified&&(fe.lastModified[u]&&C.setRequestHeader("If-Modified-Since",fe.lastModified[u]),fe.etag[u]&&C.setRequestHeader("If-None-Match",fe.etag[u])),(_.data&&_.hasContent&&!1!==_.contentType||t.contentType)&&C.setRequestHeader("Content-Type",_.contentType),C.setRequestHeader("Accept",_.dataTypes[0]&&_.accepts[_.dataTypes[0]]?_.accepts[_.dataTypes[0]]+("*"!==_.dataTypes[0]?", "+si+"; q=0.01":""):_.accepts["*"]),_.headers)C.setRequestHeader(r,_.headers[r]);if(_.beforeSend&&(!1===_.beforeSend.call(g,C,_)||2===w))return C.abort();for(r in c="abort",{success:1,error:1,complete:1})C[r](_[r]);if(p=K(oi,_,t,C)){if(C.readyState=1,f&&v.trigger("ajaxSend",[C,_]),2===w)return C;_.async&&0<_.timeout&&(d=S.setTimeout(function(){C.abort("timeout")},_.timeout));try{w=1,p.send(s,i)}catch(l){if(!(w<2))throw l;i(-1,l)}}else i(-1,"No Transport");return C},getJSON:function(e,t,i){return fe.get(e,t,i,"json")},getScript:function(e,t){return fe.get(e,undefined,t,"script")}}),fe.each(["get","post"],function(e,r){fe[r]=function(e,t,i,n){return fe.isFunction(t)&&(n=n||i,i=t,t=undefined),fe.ajax(fe.extend({url:e,type:r,dataType:n,data:t,success:i},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},fe.fn.extend({wrapAll:function(t){if(fe.isFunction(t))return this.each(function(e){fe(this).wrapAll(t.call(this,e))});if(this[0]){var e=fe(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(i){return fe.isFunction(i)?this.each(function(e){fe(this).wrapInner(i.call(this,e))}):this.each(function(){var e=fe(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=fe.isFunction(t);return this.each(function(e){fe(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){return he.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:J(e)},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var li=/%20/g,ui=/\[\]$/,hi=/\r?\n/g,di=/^(?:submit|button|image|reset|file)$/i,fi=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var i,n=[],r=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){r(this.name,this.value)});else for(i in e)Q(i,e[i],t,r);return n.join("&").replace(li,"+")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&fi.test(this.nodeName)&&!di.test(e)&&(this.checked||!Ue.test(e))}).map(function(e,t){var i=fe(this).val();return null==i?null:fe.isArray(i)?fe.map(i,function(e){return{name:t.name,value:e.replace(hi,"\r\n")}}):{name:t.name,value:i.replace(hi,"\r\n")}}).get()}}),fe.ajaxSettings.xhr=S.ActiveXObject!==undefined?function(){return this.isLocal?ee():8<ne.documentMode?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var pi=0,_i={},gi=fe.ajaxSettings.xhr();S.attachEvent&&S.attachEvent("onunload",function(){for(var e in _i)_i[e](undefined,!0)}),he.cors=!!gi&&"withCredentials"in gi,(gi=he.ajax=!!gi)&&fe.ajaxTransport(function(l){var u;if(!l.crossDomain||he.cors)return{send:function(e,s){var t,a=l.xhr(),c=++pi;if(a.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(t in l.xhrFields)a[t]=l.xhrFields[t];for(t in l.mimeType&&a.overrideMimeType&&a.overrideMimeType(l.mimeType),l.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)e[t]!==undefined&&a.setRequestHeader(t,e[t]+"");a.send(l.hasContent&&l.data||null),u=function(e,t){var i,n,r;if(u&&(t||4===a.readyState))if(delete _i[c],u=undefined,a.onreadystatechange=fe.noop,t)4!==a.readyState&&a.abort();else{r={},i=a.status,"string"==typeof a.responseText&&(r.text=a.responseText);try{n=a.statusText}catch(o){n=""}i||!l.isLocal||l.crossDomain?1223===i&&(i=204):i=r.text?200:404}r&&s(i,n,r,a.getAllResponseHeaders())},l.async?4===a.readyState?S.setTimeout(u):a.onreadystatechange=_i[c]=u:u()},abort:function(){u&&u(undefined,!0)}}}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(t){if(t.crossDomain){var n,r=ne.head||fe("head")[0]||ne.documentElement;return{send:function(e,i){(n=ne.createElement("script")).async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(undefined,!0)}}}});var vi=[],mi=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=vi.pop()||fe.expando+"_"+Gt++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(e,t,i){var n,r,o,s=!1!==e.jsonp&&(mi.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&mi.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=fe.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(mi,"$1"+n):!1!==e.jsonp&&(e.url+=(Xt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return o||fe.error(n+" was not called"),o[0]},e.dataTypes[0]="json",r=S[n],S[n]=function(){o=arguments},i.always(function(){r===undefined?fe(S).removeProp(n):S[n]=r,e[n]&&(e.jsonpCallback=t.jsonpCallback,vi.push(n)),o&&fe.isFunction(r)&&r(o[0]),o=r=undefined}),"script"}),fe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||ne;var n=Ce.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=_([e],t,r),r&&r.length&&fe(r).remove(),fe.merge([],n.childNodes))};var yi=fe.fn.load;fe.fn.load=function(e,t,i){if("string"!=typeof e&&yi)return yi.apply(this,arguments);var n,r,o,s=this,a=e.indexOf(" ");return-1<a&&(n=fe.trim(e.slice(a,e.length)),e=e.slice(0,a)),fe.isFunction(t)?(i=t,t=undefined):t&&"object"==typeof t&&(r="POST"),0<s.length&&fe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(n?fe("<div>").append(fe.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(t){return fe.grep(fe.timers,function(e){return t===e.elem}).length},fe.offset={setOffset:function(e,t,i){var n,r,o,s,a,c,l=fe.css(e,"position"),u=fe(e),h={};"static"===l&&(e.style.position="relative"),a=u.offset(),o=fe.css(e,"top"),c=fe.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<fe.inArray("auto",[o,c])?(s=(n=u.position()).top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(c)||0),fe.isFunction(t)&&(t=t.call(e,i,fe.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):u.css(h)}},fe.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){fe.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,fe.contains(e,r)?("undefined"!=typeof r.getBoundingClientRect&&(n=r.getBoundingClientRect()),i=te(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===fe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(i=e.offset()),i.top+=fe.css(e[0],"borderTopWidth",!0),i.left+=fe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-fe.css(n,"marginTop",!0),left:t.left-i.left-fe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||_t})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o=/Y/.test(r);fe.fn[t]=function(e){return $e(this,function(e,t,i){var n=te(e);if(i===undefined)return n?r in n?n[r]:n.document.documentElement[t]:e[t];n?n.scrollTo(o?fe(n).scrollLeft():i,o?i:fe(n).scrollTop()):e[t]=i},t,e,arguments.length,null)}}),fe.each(["top","left"],function(e,i){fe.cssHooks[i]=R(he.pixelPosition,function(e,t){if(t)return t=vt(e,i),ft.test(t)?fe(e).position()[i]+"px":t})}),fe.each({Height:"height",Width:"width"},function(o,s){fe.each({padding:"inner"+o,content:s,"":"outer"+o},function(n,e){fe.fn[e]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),r=n||(!0===e||!0===t?"margin":"border");return $e(this,function(e,t,i){var n;return fe.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+o],n["scroll"+o],e.body["offset"+o],n["offset"+o],n["client"+o])):i===undefined?fe.css(e,t,r):fe.style(e,t,i,r)},s,i?e:undefined,i,null)}})}),fe.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var bi=S.jQuery,wi=S.$;return fe.noConflict=function(e){return S.$===fe&&(S.$=wi),e&&S.jQuery===fe&&(S.jQuery=bi),fe},e||(S.jQuery=S.$=fe),fe}),function(u,c){"use strict";var l;u.rails!==c&&u.error("jquery-ujs has already been loaded!");var e=u(document);u.rails=l={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",
inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return u("meta[name=csrf-token]").attr("content")},csrfParam:function(){return u("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=l.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){u('form input[name="'+l.csrfParam()+'"]').val(l.csrfToken())},fire:function(e,t,i){var n=u.Event(t);return e.trigger(n,i),!1!==n.result},confirm:function(e){return confirm(e)},ajax:function(e){return u.ajax(e)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==c&&!1!==e.data("remote")},handleRemote:function(n){var e,t,i,r,o,s;if(l.fire(n,"ajax:before")){if(r=n.data("with-credentials")||null,o=n.data("type")||u.ajaxSettings&&u.ajaxSettings.dataType,n.is("form")){e=n.data("ujs:submit-button-formmethod")||n.attr("method"),t=n.data("ujs:submit-button-formaction")||n.attr("action"),i=u(n[0]).serializeArray();var a=n.data("ujs:submit-button");a&&(i.push(a),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(l.inputChangeSelector)?(e=n.data("method"),t=n.data("url"),i=n.serialize(),n.data("params")&&(i=i+"&"+n.data("params"))):n.is(l.buttonClickSelector)?(e=n.data("method")||"get",t=n.data("url"),i=n.serialize(),n.data("params")&&(i=i+"&"+n.data("params"))):(e=n.data("method"),t=l.href(n),i=n.data("params")||null);return s={type:e||"GET",data:i,dataType:o,beforeSend:function(e,t){if(t.dataType===c&&e.setRequestHeader("accept","*/*;q=0.5, "+t.accepts.script),!l.fire(n,"ajax:beforeSend",[e,t]))return!1;n.trigger("ajax:send",e)},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:l.isCrossDomain(t)},r&&(s.xhrFields={withCredentials:r}),t&&(s.url=t),l.ajax(s)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(e){var t=l.href(e),i=e.data("method"),n=e.attr("target"),r=l.csrfToken(),o=l.csrfParam(),s=u('<form method="post" action="'+t+'"></form>'),a='<input name="_method" value="'+i+'" type="hidden" />';o===c||r===c||l.isCrossDomain(t)||(a+='<input name="'+o+'" value="'+r+'" type="hidden" />'),n&&s.attr("target",n),s.hide().append(a).appendTo("body"),s.submit()},formElements:function(e,t){return e.is("form")?u(e[0].elements).filter(t):e.find(t)},disableFormElements:function(e){l.formElements(e,l.disableSelector).each(function(){l.disableFormElement(u(this))})},disableFormElement:function(e){var t,i;t=e.is("button")?"html":"val",(i=e.data("disable-with"))!==c&&(e.data("ujs:enable-with",e[t]()),e[t](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(e){l.formElements(e,l.enableSelector).each(function(){l.enableFormElement(u(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")!==c&&(e[t](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,i=e.data("confirm"),n=!1;if(!i)return!0;if(l.fire(e,"confirm")){try{n=l.confirm(i)}catch(r){(console.error||console.log).call(console,r.stack||r)}t=l.fire(e,"confirm:complete",[n])}return n&&t},blankInputs:function(e,t,i){var n,r,o,s=u(),a=t||"input,textarea",c=e.find(a),l={};return c.each(function(){(n=u(this)).is("input[type=radio]")?(o=n.attr("name"),l[o]||(0===e.find('input[type=radio]:checked[name="'+o+'"]').length&&(r=e.find('input[type=radio][name="'+o+'"]'),s=s.add(r)),l[o]=o)):(n.is("input[type=checkbox],input[type=radio]")?n.is(":checked"):!!n.val())===i&&(s=s.add(n))}),!!s.length&&s},nonBlankInputs:function(e,t){return l.blankInputs(e,t,!0)},stopEverything:function(e){return u(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(e){var t=e.data("disable-with");t!==c&&(e.data("ujs:enable-with",e.html()),e.html(t)),e.bind("click.railsDisable",function(e){return l.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==c&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},l.fire(e,"rails:attachBindings")&&(u.ajaxPrefilter(function(e,t,i){e.crossDomain||l.CSRFProtection(i)}),u(window).on("pageshow.rails",function(){u(u.rails.enableSelector).each(function(){var e=u(this);e.data("ujs:disabled")&&u.rails.enableFormElement(e)}),u(u.rails.linkDisableSelector).each(function(){var e=u(this);e.data("ujs:disabled")&&u.rails.enableElement(e)})}),e.on("ajax:complete",l.linkDisableSelector,function(){l.enableElement(u(this))}),e.on("ajax:complete",l.buttonDisableSelector,function(){l.enableFormElement(u(this))}),e.on("click.rails",l.linkClickSelector,function(e){var t=u(this),i=t.data("method"),n=t.data("params"),r=e.metaKey||e.ctrlKey;if(!l.allowAction(t))return l.stopEverything(e);if(!r&&t.is(l.linkDisableSelector)&&l.disableElement(t),l.isRemote(t)){if(r&&(!i||"GET"===i)&&!n)return!0;var o=l.handleRemote(t);return!1===o?l.enableElement(t):o.fail(function(){l.enableElement(t)}),!1}return i?(l.handleMethod(t),!1):void 0}),e.on("click.rails",l.buttonClickSelector,function(e){var t=u(this);if(!l.allowAction(t)||!l.isRemote(t))return l.stopEverything(e);t.is(l.buttonDisableSelector)&&l.disableFormElement(t);var i=l.handleRemote(t);return!1===i?l.enableFormElement(t):i.fail(function(){l.enableFormElement(t)}),!1}),e.on("change.rails",l.inputChangeSelector,function(e){var t=u(this);return l.allowAction(t)&&l.isRemote(t)?(l.handleRemote(t),!1):l.stopEverything(e)}),e.on("submit.rails",l.formSubmitSelector,function(e){var t,i,n=u(this),r=l.isRemote(n);if(!l.allowAction(n))return l.stopEverything(e);if(n.attr("novalidate")===c)if(n.data("ujs:formnovalidate-button")===c){if((t=l.blankInputs(n,l.requiredInputSelector,!1))&&l.fire(n,"ajax:aborted:required",[t]))return l.stopEverything(e)}else n.data("ujs:formnovalidate-button",c);if(r){if(i=l.nonBlankInputs(n,l.fileInputSelector)){setTimeout(function(){l.disableFormElements(n)},13);var o=l.fire(n,"ajax:aborted:file",[i]);return o||setTimeout(function(){l.enableFormElements(n)},13),o}return l.handleRemote(n),!1}setTimeout(function(){l.disableFormElements(n)},13)}),e.on("click.rails",l.formInputClickSelector,function(e){var t=u(this);if(!l.allowAction(t))return l.stopEverything(e);var i=t.attr("name"),n=i?{name:i,value:t.val()}:null,r=t.closest("form");0===r.length&&(r=u("#"+t.attr("form"))),r.data("ujs:submit-button",n),r.data("ujs:formnovalidate-button",t.attr("formnovalidate")),r.data("ujs:submit-button-formaction",t.attr("formaction")),r.data("ujs:submit-button-formmethod",t.attr("formmethod"))}),e.on("ajax:send.rails",l.formSubmitSelector,function(e){this===e.target&&l.disableFormElements(u(this))}),e.on("ajax:complete.rails",l.formSubmitSelector,function(e){this===e.target&&l.enableFormElements(u(this))}),u(function(){l.refreshCSRFTokens()}))}(jQuery),$(function(){$(".mobile-nav-toggle, .close-panel").on("click",function(e){e.stopPropagation(),$("body").toggleClass("mobile-nav-open")}),$(document).on("click",function(e){var t=$("body"),i=$(e.target);!$("body").hasClass("mobile-nav-open")||i.parents(".mobile-nav").length||i.hasClass("mobile-nav")||t.toggleClass("mobile-nav-open")})}),function(t,i,n){"function"==typeof define&&define.amd?define(["jquery"],function(e){return n(e,t,i),e.mobile}):n(t.jQuery,t,i)}(this,document,function(e,t,o){var r,n,i,s,a,c,l,u,h,d,f,p,_,g,v,m,y,b,w,C,S,x,E,k,T,A,L,D;!function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",o)},teardown:function(){e(this).unbind("resize",o)}};var t,i,n,r=250,o=function(){i=(new Date).getTime(),r<=(n=i-s)?(s=i,e(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(o,r-n))},s=0}(e),e.mobile={},i={},s=(r=e).find,a=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,c=/:jqmData\(([^)]*)\)/g,r.extend(r.mobile,{ns:"",getAttribute:function(e,t){var i;(e=e.jquery?e[0]:e)&&e.getAttribute&&(i=e.getAttribute("data-"+r.mobile.ns+t));try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:a.test(i)?JSON.parse(i):i)}catch(n){}return i},nsNormalizeDict:i,nsNormalize:function(e){return i[e]||(i[e]=r.camelCase(r.mobile.ns+e))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),r.fn.jqmData=function(e,t){var i;return void 0!==e&&(e&&(e=r.mobile.nsNormalize(e)),i=arguments.length<2||t===n?this.data(e):this.data(e,t)),i},r.jqmData=function(e,t,i){var n;return void 0!==t&&(n=r.data(e,t?r.mobile.nsNormalize(t):t,i)),n},r.fn.jqmRemoveData=function(e){return this.removeData(r.mobile.nsNormalize(e))},r.jqmRemoveData=function(e,t){return r.removeData(e,r.mobile.nsNormalize(t))},r.find=function(e,t,i,n){return-1<e.indexOf(":jqmData")&&(e=e.replace(c,"[data-"+(r.mobile.ns||"")+"$1]")),s.call(this,e,t,i,n)},r.extend(r.find,s),(l=e).extend(l.mobile,{version:"1.4.3",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:l(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"}),function(a,c){function n(e,t){var i,n,r,o=e.nodeName.toLowerCase();return"area"===o?(n=(i=e.parentNode).name,!(!e.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(r=a("img[usemap=#"+n+"]")[0])&&s(r))):(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o&&e.href||t)&&s(e)}function s(e){return a.expr.filters.visible(e)&&!a(e).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e,t,i=0,r=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:(e=a.fn.focus,function(t,i){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){a(e).focus(),i&&i.call(e)},t)}):e.apply(this,arguments)}),scrollParent:function(){var e;return e=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?a(this[0].ownerDocument||o):e},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(t){return function(e){return!!a.data(e,t)}}):function(e,t,i){return!!a.data(e,i[3])},focusable:function(e){return n(e,!isNaN(a.attr(e,"tabindex")))},tabbable:function(e){var t=a.attr(e,"tabindex"),i=isNaN(t);return(i||0<=t)&&n(e,!i)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(e,i){function n(e,t,i,n){return a.each(r,function(){t-=parseFloat(a.css(e,"padding"+this))||0,i&&(t-=parseFloat(a.css(e,"border"+this+"Width"))||0),n&&(t-=parseFloat(a.css(e,"margin"+this))||0)}),t}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),s={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+i]=function(e){return e===c?s["inner"+i].call(this):this.each(function(){a(this).css(o,n(this,e)+"px")})},a.fn["outer"+i]=function(e,t){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){a(this).css(o,n(this,e,!0,t)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=(t=a.fn.removeData,function(e){return arguments.length?t.call(this,a.camelCase(e)):t.call(this)})),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in o.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(e!==c)return this.css("zIndex",e);if(this.length)for(var t,i,n=a(this[0]);n.length&&n[0]!==o;){if(("absolute"===(t=n.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}}),a.ui.plugin={add:function(e,t,i){var n,r=a.ui[e].prototype;for(n in i)r.plugins[n]=r.plugins[n]||[],r.plugins[n].push([t,i[n]])},call:function(e,t,i,n){var r,o=e.plugins[t];if(o&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,i)}}}(e),h=this,d=function(e,i){var t=e.parent(),n=[],r=t.children(":jqmData(role='header')"),o=e.children(":jqmData(role='header')"),s=t.children(":jqmData(role='footer')"),a=e.children(":jqmData(role='footer')");return 0===o.length&&0<r.length&&(n=n.concat(r.toArray())),0===a.length&&0<s.length&&(n=n.concat(s.toArray())),u.each(n,function(e,t){i-=u(t).outerHeight()}),Math.max(0,i)},(u=e).extend(u.mobile,{window:u(h),document:u(o),keyCode:u.ui.keyCode,behaviors:{},silentScroll:function(e){"number"!==u.type(e)&&(e=u.mobile.defaultHomeScroll),u.event.special.scrollstart.enabled=!1,setTimeout(function(){h.scrollTo(0,e),u.mobile.document.trigger("silentscroll",{x:0,y:e})},20),setTimeout(function(){u.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(e){var t=u(e).closest(".ui-page").jqmData("url"),i=u.mobile.path.documentBase.hrefNoHash;return u.mobile.dynamicBaseEnabled&&t&&u.mobile.path.isPath(t)||(t=i),u.mobile.path.makeUrlAbsolute(t,i)},removeActiveLinkClass:function(e){!u.mobile.activeClickedLink||u.mobile.activeClickedLink.closest("."+u.mobile.activePageClass).length&&!e||u.mobile.activeClickedLink.removeClass(u.mobile.activeBtnClass),u.mobile.activeClickedLink=null},getInheritedTheme:function(e,t){for(var i,n,r=e[0],o="",s=/ui-(bar|body|overlay)-([a-z])\b/;r&&!((i=r.className||"")&&(n=s.exec(i))&&(o=n[2]));)r=r.parentNode;return o||t||"a"},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(e,t){if(!u.mobile.ignoreContentEnabled)return e;var i,n,r,o,s=e.length,a=u();for(o=0;o<s;o++){for(n=e.eq(o),r=!1,i=e[o];i;){if("false"===(i.getAttribute?i.getAttribute("data-"+u.mobile.ns+t):"")){r=!0;break}i=i.parentNode}r||(a=a.add(n))}return a},getScreenHeight:function(){return h.innerHeight||u.mobile.window.height()},resetActivePageHeight:function(e){var t=u("."+u.mobile.activePageClass),i=t.height(),n=t.outerHeight(!0);e=d(t,"number"==typeof e?e:u.mobile.getScreenHeight()),t.css("min-height",""),t.height()<e&&t.css("min-height",e-(n-i))},loading:function(){var e=this.loading._widget||u(u.mobile.loader.prototype.defaultHtml).loader(),t=e.loader.apply(e,arguments);return this.loading._widget=e,t}}),u.addDependents=function(e,t){var i=u(e),n=i.jqmData("dependents")||u();i.jqmData("dependents",u(n).add(t))},u.fn.extend({removeWithDependents:function(){u.removeWithDependents(this)},enhanceWithin:function(){var e,n={},r=u.mobile.page.prototype.keepNativeSelector(),o=this;for(e in u.mobile.nojs&&u.mobile.nojs(this),u.mobile.links&&u.mobile.links(this),u.mobile.degradeInputsWithin&&u.mobile.degradeInputsWithin(this),u.fn.buttonMarkup&&this.find(u.fn.buttonMarkup.initSelector).not(r).jqmEnhanceable().buttonMarkup(),u.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(r).jqmEnhanceable().fieldcontain(),u.each(u.mobile.widgets,function(e,t){if(t.initSelector){var i=u.mobile.enhanceable(o.find(t.initSelector));0<i.length&&(i=i.not(r)),0<i.length&&(n[t.prototype.widgetName]=i)}}),n)n[e][e]();return this},addDependents:function(e){u.addDependents(this,e)},getEncodedText:function(){return u("<a>").text(this.text()).html()},jqmEnhanceable:function(){return u.mobile.enhanceable(this)},jqmHijackable:function(){return u.mobile.hijackable(this)}}),u.removeWithDependents=function(e){var t=u(e);(t.jqmData("dependents")||u()).remove(),t.remove()},u.addDependents=function(e,t){var i=u(e),n=i.jqmData("dependents")||u();i.jqmData("dependents",u(n).add(t))},u.find.matches=function(e,t){return u.find(e,null,null,t)},u.find.matchesSelector=function(e,t){return 0<u.find(t,null,null,[e]).length},f=e,t.matchMedia=t.matchMedia||(g=(p=o).documentElement,v=g.firstElementChild||g.firstChild,m=p.createElement("body"),(y=p.createElement("div")).id="mq-test-1",y.style.cssText="position:absolute;top:-100em",m.style.background="none",m.appendChild(y),function(e){return y.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',g.insertBefore(m,v),_=42===y.offsetWidth,g.removeChild(m),{matches:_,media:e}}),f.mobile.media=function(e){return t.matchMedia(e).matches},b=e,C=0,S=Array.prototype.slice,x=b.cleanData,b.cleanData=function(e){for(var t,i=0;null!=(t=e[i]);i++)try{b(t).triggerHandler("remove")}catch(n){}x(e)},b.widget=function(e,i,t){var n,r,o,s,a={},c=e.split(".")[0];return e=e.split(".")[1],n=c+"-"+e,t||(t=i,i=b.Widget),b.expr[":"][n.toLowerCase()]=function(e){return!!b.data(e,n)},b[c]=b[c]||{},r=b[c][e],o=b[c][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},b.extend(o,r,{version:t.version,_proto:b.extend({},t),_childConstructors:[]}),(s=new i).options=b.widget.extend({},s.options),b.each(t,function(t,n){var r,o;b.isFunction(n)?a[t]=(r=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)},function(){var e,t=this._super,i=this._superApply;return this._super=r,this._superApply=o,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}):a[t]=n}),o.prototype=b.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:c,widgetName:e,widgetFullName:n}),r?(b.each(r._childConstructors,function(e,t){var i=t.prototype;b.widget(i.namespace+"."+i.widgetName,o,t._proto)}),delete r._childConstructors):i._childConstructors.push(o),b.widget.bridge(e,o),o},b.widget.extend=function(e){for(var t,i,n=S.call(arguments,1),r=0,o=n.length;r<o;r++)for(t in n[r])i=n[r][t],n[r].hasOwnProperty(t)&&i!==w&&(b.isPlainObject(i)?e[t]=b.isPlainObject(e[t])?b.widget.extend({},e[t],i):b.widget.extend({},i):e[t]=i);return e},b.widget.bridge=function(o,t){var s=t.prototype.widgetFullName||o;b.fn[o]=function(i){var e="string"==typeof i,n=S.call(arguments,1),r=this;return i=!e&&n.length?b.widget.extend.apply(null,[i].concat(n)):i,e?this.each(function(){var e,t=b.data(this,s);return"instance"===i?(r=t,!1):t?b.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,n))!==t&&e!==w?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:b.error("no such method '"+i+"' for "+o+" widget instance"):b.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):this.each(function(){var e=b.data(this,s);e?e.option(i||{})._init():b.data(this,s,new t(i,this))}),r}},b.Widget=function(){},b.Widget._childConstructors=[],b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=b(t||this.defaultElement||this)[0],this.element=b(t),this.uuid=C++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=b.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=b(),this.hoverable=b(),this.focusable=b(),t!==this&&(b.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=b(t.style?t.ownerDocument:t.document||t),this.window=b(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(e,t){var i,n,r,o=e;if(0===arguments.length)return b.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(i=e.split(".")).shift(),i.length){for(n=o[e]=b.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)n[i[r]]=n[i[r]]||{},n=n[i[r]];if(e=i.pop(),t===w)return n[e]===w?null:n[e];n[e]=t}else{if(t===w)return this.options[e]===w?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(s,a,e){var c,l=this;"boolean"!=typeof s&&(e=a,a=s,s=!1),e?(a=c=b(a),this.bindings=this.bindings.add(a)):(e=a,a=this.element,c=this.widget()),b.each(e,function(e,t){function i(){if(s||!0!==l.options.disabled&&!b(this).hasClass("ui-state-disabled"))return("string"==typeof t?l[t]:t).apply(l,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||b.guid++);var n=e.match(/^(\w+)\s*(.*)$/),r=n[1]+l.eventNamespace,o=n[2];o?c.delegate(o,r,i):a.bind(r,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){b(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){b(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){b(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){b(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,i){var n,r,o=this.options[e];if(i=i||{},(t=b.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(n in r)n in t||(t[n]=r[n]);return this.element.trigger(t,i),!(b.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},b.each({show:"fadeIn",hide:"fadeOut"},function(o,s){b.Widget.prototype["_"+o]=function(t,e,i){"string"==typeof e&&(e={effect:e});var n,r=e?!0===e||"number"==typeof e?s:e.effect||s:o;"number"==typeof(e=e||{})&&(e={duration:e}),n=!b.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),n&&b.effects&&b.effects.effect[r]?t[o](e):r!==o&&t[r]?t[r](e.duration,e.easing,i):t.queue(function(e){b(this)[o](),i&&i.call(t[0]),e()})}}),k=/[A-Z]/g,T=function(e){return"-"+e.toLowerCase()},(E=e).extend(E.Widget.prototype,{_getCreateOptions:function(){var e,t,i=this.element[0],n={};if(!E.mobile.getAttribute(i,"defaults"))for(e in this.options)null!=(t=E.mobile.getAttribute(i,e.replace(k,T)))&&(n[e]=t);return n}}),E.mobile.widget=E.Widget,function(s,r){s.mobile.widgets={};var i,e=s.widget,a=s.mobile.keepNative;s.widget=(i=s.widget,function(){var e=i.apply(this,arguments),t=e.prototype.widgetName;return e.initSelector=e.prototype.initSelector!==r?e.prototype.initSelector:":jqmData(role='"+t+"')",s.mobile.widgets[t]=e}),s.extend(s.widget,e),s.mobile.document.on("create",function(e){s(e.target).enhanceWithin()}),s.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:s.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){s.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){if(!1===this._trigger("beforecreate"))return!1;this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),"dialog"===s.mobile.getAttribute(this.element[0],"role")&&s.mobile.dialog&&this.element.dialog()},_enhance:function(){var i="data-"+s.mobile.ns,n=this;this.options.role&&this.element.attr("data-"+s.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+i+"role='content']").each(function(){var e=s(this),t=this.getAttribute(i+"theme")||r;n.options.contentTheme=t||n.options.contentTheme||n.options.dialog&&n.options.theme||"dialog"===n.element.jqmData("role")&&n.options.theme,e.addClass("ui-content"),n.options.contentTheme&&e.addClass("ui-body-"+n.options.contentTheme),e.attr("role","main").addClass("ui-content")})},bindRemove:function(e){var t=this.element;!t.data("mobile-page").options.domCache&&t.is(":jqmData(external-page='true')")&&t.bind("pagehide.remove",e||function(e,t){if(!t.samePage){var i=s(this),n=new s.Event("pageremove");i.trigger(n),n.isDefaultPrevented()||i.removeWithDependents()}})},_setOptions:function(e){e.theme!==r&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+e.theme),e.contentTheme!==r&&this.element.find("[data-"+s.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+e.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(e){this.element.parent().pagecontainer({theme:e||this.options.theme})},keepNativeSelector:function(){var e=this.options,t=s.trim(e.keepNative||""),i=s.trim(s.mobile.keepNative),n=s.trim(e.keepNativeDefault),r=a===i?"":i,o=""===r?n:"";return(t?[t]:[]).concat(r?[r]:[]).concat(o?[o]:[]).join(", ")}})}(e),(A=e).widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table),A.extend(this,{headers:L,allHeaders:L}),this._refresh(!0)},_setHeaders:function(){var e=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(e.children())},refresh:function(){this._refresh()},rebuild:A.noop,_refresh:function(){var r=this.element,o=r.find("thead tr");this._setHeaders(),o.each(function(){var n=0;A(this).children().each(function(){var e,t=parseInt(this.getAttribute("colspan"),10),i=":nth-child("+(n+1)+")";if(this.setAttribute("data-"+A.mobile.ns+"colstart",n+1),t)for(e=0;e<t-1;e++)i+=", :nth-child("+(++n+1)+")";A(this).jqmData("cells",r.find("tr").not(o.eq(0)).not(this).children(i)),n++})})}}),(D=e).widget("mobile.table",D.mobile.table,{options:{mode:"reflow",classes:D.extend(D.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super(),"reflow"===this.options.mode&&(this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow()))},rebuild:function(){this._super(),"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(e){this._super(e),e||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){var s=this,a=this.options;D(s.allHeaders.get().reverse()).each(function(){var e,t,i=D(this).jqmData("cells"),n=D.mobile.getAttribute(this,"colstart"),r=i.not(this).filter("thead th").length&&" ui-table-cell-label-top",o=D(this).clone().contents();0<o.length&&(r?(t="",(e=parseInt(this.getAttribute("colspan"),10))&&(t="td:nth-child("+e+"n + "+n+")"),s._addLabels(i.filter(t),a.classes.cellLabels+r,o)):s._addLabels(i,a.classes.cellLabels,o))})},_addLabels:function(e,t,i){e.not(":has(b."+t+")").prepend(D("<b class='"+t+"'></b>").append(i))}})}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(o){"use strict";function s(n,r){return this.each(function(){var e=o(this),t=e.data("bs.modal"),i=o.extend({},a.DEFAULTS,e.data(),"object"==typeof n&&n);t||e.data("bs.modal",t=new a(this,i)),"string"==typeof n?t[n](r):i.show&&t.show(r)})}var a=function(e,t){this.options=t,this.$body=o(document.body),this.$element=o(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};a.VERSION="3.2.0",a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},a.prototype.show=function(i){var n=this,e=o.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.backdrop(function(){var e=o.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),e&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var t=o.Event("shown.bs.modal",{relatedTarget:i});e?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(t)}))},a.prototype.hide=function(e){e&&e.preventDefault(),e=o.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},a.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",o.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},a.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger(
"hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(e){var t=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=o.support.transition&&i;if(this.$backdrop=o('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){t.removeBackdrop(),e&&e()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(150):r()}else e&&e()},a.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},a.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},a.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var e=o.fn.modal;o.fn.modal=s,o.fn.modal.Constructor=a,o.fn.modal.noConflict=function(){return o.fn.modal=e,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=o(this),i=t.attr("href"),n=o(t.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=n.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(i)&&i},n.data(),t.data());t.is("a")&&e.preventDefault(),n.one("show.bs.modal",function(e){e.isDefaultPrevented()||n.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),s.call(n,r,this)})}(jQuery),function(g){"use strict";function e(n){return this.each(function(){var e=g(this),t=e.data("bs.tooltip"),i="object"==typeof n&&n;(t||"destroy"!=n)&&(t||e.data("bs.tooltip",t=new r(this,i)),"string"==typeof n&&t[n]())})}var r=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};r.VERSION="3.2.0",r.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},r.prototype.init=function(e,t,i){this.enabled=!0,this.type=e,this.$element=g(t),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&g(this.options.viewport.selector||this.options.viewport);for(var n=this.options.trigger.split(" "),r=n.length;r--;){var o=n[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",a="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},r.prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.getOptions=function(e){return(e=g.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},r.prototype.getDelegateOptions=function(){var i={},n=this.getDefaults();return this._options&&g.each(this._options,function(e,t){n[e]!=t&&(i[e]=t)}),i},r.prototype.enter=function(e){var t=e instanceof this.constructor?e:g(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t)),clearTimeout(t.timeout),t.hoverState="in",!t.options.delay||!t.options.delay.show)return t.show();t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)},r.prototype.leave=function(e){var t=e instanceof this.constructor?e:g(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t)),clearTimeout(t.timeout),t.hoverState="out",!t.options.delay||!t.options.delay.hide)return t.hide();t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)},r.prototype.show=function(){var e=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var t=g.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!t)return;var i=this,n=this.tip(),r=this.getUID(this.type);this.setContent(),n.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&n.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,a=s.test(o);a&&(o=o.replace(s,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var c=this.getPosition(),l=n[0].offsetWidth,u=n[0].offsetHeight;if(a){var h=o,d=this.$element.parent(),f=this.getPosition(d);o="bottom"==o&&c.top+c.height+u-f.scroll>f.height?"top":"top"==o&&c.top-f.scroll-u<0?"bottom":"right"==o&&c.right+l>f.width?"left":"left"==o&&c.left-l<f.left?"right":o,n.removeClass(h).addClass(o)}var p=this.getCalculatedOffset(o,c,l,u);this.applyPlacement(p,o);var _=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};g.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",_).emulateTransitionEnd(150):_()}},r.prototype.applyPlacement=function(e,t){var i=this.tip(),n=i[0].offsetWidth,r=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),e.top=e.top+o,e.left=e.left+s,g.offset.setOffset(i[0],g.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),i.addClass("in");var a=i[0].offsetWidth,c=i[0].offsetHeight;"top"==t&&c!=r&&(e.top=e.top+r-c);var l=this.getViewportAdjustedDelta(t,e,a,c);l.left?e.left+=l.left:e.top+=l.top;var u=l.left?2*l.left-n+a:2*l.top-r+c,h=l.left?"left":"top",d=l.left?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(u,i[0][d],h)},r.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},r.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},r.prototype.hide=function(){function e(){"in"!=t.hoverState&&i.detach(),t.$element.trigger("hidden.bs."+t.type)}var t=this,i=this.tip(),n=g.Event("hide.bs."+this.type);if(this.$element.removeAttr("aria-describedby"),this.$element.trigger(n),!n.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this},r.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},r.prototype.hasContent=function(){return this.getTitle()},r.prototype.getPosition=function(e){var t=(e=e||this.$element)[0],i="BODY"==t.tagName;return g.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:i?g(window).width():e.outerWidth(),height:i?g(window).height():e.outerHeight()},i?{top:0,left:0}:e.offset())},r.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},r.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-o-s.scroll,c=t.top+o-s.scroll+n;a<s.top?r.top=s.top-a:c>s.top+s.height&&(r.top=s.top+s.height-c)}else{var l=t.left-o,u=t.left+o+i;l<s.left?r.left=s.left-l:u>s.width&&(r.left=s.left+s.width-u)}return r},r.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},r.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},r.prototype.tip=function(){return this.$tip=this.$tip||g(this.options.template)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},r.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},r.prototype.enable=function(){this.enabled=!0},r.prototype.disable=function(){this.enabled=!1},r.prototype.toggleEnabled=function(){this.enabled=!this.enabled},r.prototype.toggle=function(e){var t=this;e&&((t=g(e.currentTarget).data("bs."+this.type))||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t))),t.tip().hasClass("in")?t.leave(t):t.enter(t)},r.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var t=g.fn.tooltip;g.fn.tooltip=e,g.fn.tooltip.Constructor=r,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=t,this}}(jQuery),function(c){"use strict";function i(n){return this.each(function(){var e=c(this),t=e.data("bs.affix"),i="object"==typeof n&&n;t||e.data("bs.affix",t=new l(this,i)),"string"==typeof n&&t[n]()})}var l=function(e,t){this.options=c.extend({},l.DEFAULTS,t),this.$target=c(this.options.target).on("scroll.bs.affix.data-api",c.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",c.proxy(this.checkPositionWithEventLoop,this)),this.$element=c(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};l.VERSION="3.3.7",l.RESET="affix affix-top affix-bottom",l.DEFAULTS={offset:0,target:window},l.prototype.getState=function(e,t,i,n){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return r<i&&"top";if("bottom"==this.affixed)return null!=i?!(r+this.unpin<=o.top)&&"bottom":!(r+s<=e-n)&&"bottom";var a=null==this.affixed,c=a?r:o.top;return null!=i&&r<=i?"top":null!=n&&e-n<=c+(a?s:t)&&"bottom"},l.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(l.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},l.prototype.checkPositionWithEventLoop=function(){setTimeout(c.proxy(this.checkPosition,this),1)},l.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),t=this.options.offset,i=t.top,n=t.bottom,r=Math.max(c(document).height(),c(document.body).height());"object"!=typeof t&&(n=i=t),"function"==typeof i&&(i=t.top(this.$element)),"function"==typeof n&&(n=t.bottom(this.$element));var o=this.getState(r,e,i,n);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var s="affix"+(o?"-"+o:""),a=c.Event(s+".bs.affix");if(this.$element.trigger(a),a.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(l.RESET).addClass(s).trigger(s.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-e-n})}};var e=c.fn.affix;c.fn.affix=i,c.fn.affix.Constructor=l,c.fn.affix.noConflict=function(){return c.fn.affix=e,this},c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var e=c(this),t=e.data();t.offset=t.offset||{},null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom),null!=t.offsetTop&&(t.offset.top=t.offsetTop),i.call(e,t)})})}(jQuery),function(p){var _,e={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},g=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],v=p('<textarea tabindex="-1" aria-hidden="true", style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];(v.style.lineHeight="99px")===p(v).css("lineHeight")&&g.push("lineHeight"),v.style.lineHeight="",p.fn.autosize=function(f){return this.length?(f=p.extend({},e,f||{}),v.parentNode!==document.body&&p(document.body).append(v),this.each(function(){function n(){var i,n=!!window.getComputedStyle&&window.getComputedStyle(a,null);n?((0===(i=a.getBoundingClientRect().width)||"number"!=typeof i)&&(i=parseInt(n.width,10)),p.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,t){i-=parseInt(n[t],10)})):i=Math.max(c.width(),0),v.style.width=i+"px"}function i(){var i={};if(_=a,v.className=f.className,v.id=f.id,r=parseInt(c.css("maxHeight"),10),p.each(g,function(e,t){i[t]=c.css(t)}),p(v).css(i).attr("wrap",c.attr("wrap")),n(),window.chrome){var e=a.style.width;a.style.width="0px",a.offsetWidth,a.style.width=e}}function t(){var e,t;_!==a?i():n(),v.value=!a.value&&f.placeholder?(c.attr("placeholder")||"")+f.append:a.value+f.append,v.style.overflowY=a.style.overflowY,t=parseInt(a.style.height,10),v.scrollTop=0,v.scrollTop=9e4,e=v.scrollTop,r&&r<e?(a.style.overflowY="scroll",e=r):(a.style.overflowY="hidden",e<o&&(e=o)),t!==(e+=l)&&(a.style.height=e+"px",u&&f.callback.call(a,a))}function e(){clearTimeout(s),s=setTimeout(function(){var e=c.width();e!==d&&(d=e,t())},parseInt(f.resizeDelay,10))}var r,o,s,a=this,c=p(a),l=0,u=p.isFunction(f.callback),h={height:a.style.height,overflow:a.style.overflow,overflowY:a.style.overflowY,wordWrap:a.style.wordWrap,resize:a.style.resize},d=c.width();c.data("autosize")||(c.data("autosize",!0),("border-box"===c.css("box-sizing")||"border-box"===c.css("-moz-box-sizing")||"border-box"===c.css("-webkit-box-sizing"))&&(l=c.outerHeight()-c.height()),o=Math.max(parseInt(c.css("minHeight"),10)-l||0,c.height()),c.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===c.css("resize")||"vertical"===c.css("resize")?"none":"horizontal"}),"onpropertychange"in a?"oninput"in a?c.on("input.autosize keyup.autosize",t):c.on("propertychange.autosize",function(){"value"===event.propertyName&&t()}):c.on("input.autosize",t),!1!==f.resizeDelay&&p(window).on("resize.autosize",e),c.on("autosize.resize",t),c.on("autosize.resizeIncludeStyle",function(){_=null,t()}),c.on("autosize.destroy",function(){_=null,clearTimeout(s),p(window).off("resize",e),c.off("autosize").off(".autosize").css(h).removeData("autosize")}),t())})):this}}(window.jQuery||window.$);var Hogan={};!function(e){function u(e,t,i){var n;return t&&"object"==typeof t&&(null!=t[e]?n=t[e]:i&&t.get&&"function"==typeof t.get&&(n=t.get(e))),n}function r(e,t,i,n,r,o){function s(){}function a(){}var c;s.prototype=e,a.prototype=e.subs;var l=new s;for(c in l.subs=new a,l.subsText={},l.buf="",n=n||{},l.stackSubs=n,l.subsText=o,t)n[c]||(n[c]=t[c]);for(c in n)l.subs[c]=n[c];for(c in r=r||{},l.stackPartials=r,i)r[c]||(r[c]=i[c]);for(c in r)l.partials[c]=r[c];return l}function s(e){return String(null===e||e===undefined?"":e)}function t(e){return e=s(e),l.test(e)?e.replace(i,"&amp;").replace(n,"&lt;").replace(o,"&gt;").replace(a,"&#39;").replace(c,"&quot;"):e}e.Template=function(e,t,i,n){e=e||{},this.r=e.code||this.r,this.c=i,this.options=n||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(){return""},v:t,t:s,render:function d(e,t,i){return this.ri([e],t||{},i)},ri:function(e,t,i){return this.r(e,t,i)},ep:function(e,t){var i=this.partials[e],n=t[i.name];if(i.instance&&i.base==n)return i.instance;if("string"==typeof n){if(!this.c)throw new Error("No compiler available.");n=this.c.compile(n,this.options)}if(!n)return null;if(this.partials[e].base=n,i.subs){for(key in t.stackText||(t.stackText={}),i.subs)t.stackText[key]||(t.stackText[key]=this.activeSub!==undefined&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);n=r(n,i.subs,i.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=n},rp:function(e,t,i,n){var r=this.ep(e,i);return r?r.ri(t,i,n):""},rs:function(e,t,i){var n=e[e.length-1];if(h(n))for(var r=0;r<n.length;r++)e.push(n[r]),i(e,t,this),e.pop();else i(e,t,this)},s:function(e,t,i,n,r,o,s){var a;return(!h(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,i,n,r,o,s)),a=!!e,!n&&a&&t&&t.push("object"==typeof e?e:t[t.length-1]),a)},d:function(e,t,i,n){var r,o=e.split("."),s=this.f(o[0],t,i,n),a=this.options.modelGet,c=null;if("."===e&&h(t[t.length-2]))s=t[t.length-1];else for(var l=1;l<o.length;l++)null!=(r=u(o[l],s,a))?(c=s,s=r):s="";return!(n&&!s)&&(n||"function"!=typeof s||(t.push(c),s=this.mv(s,t,i),t.pop()),s)},f:function(e,t,i,n){for(var r=!1,o=!1,s=this.options.modelGet,a=t.length-1;0<=a;a--)if(null!=(r=u(e,t[a],s))){o=!0;break}return o?(n||"function"!=typeof r||(r=this.mv(r,t,i)),r):!n&&""},ls:function(e,t,i,n,r){var o=this.options.delimiters;return this.options.delimiters=r,this.b(this.ct(s(e.call(t,n)),t,i)),this.options.delimiters=o,!1},ct:function(e,t,i){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,i)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,i,n,r,o,s){var a,c=t[t.length-1],l=e.call(c);return"function"==typeof l?!!n||(a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(l,c,i,a.substring(r,o),s)):l},mv:function(e,t,i){var n=t[t.length-1],r=e.call(n);return"function"==typeof r?this.ct(s(r.call(n)),n,i):r},sub:function(e,t,i,n){var r=this.subs[e];r&&(this.activeSub=e,r(t,i,this,n),this.activeSub=!1)}};var i=/&/g,n=/</g,o=/>/g,a=/\'/g,c=/\"/g,l=/[&<>\"\']/,h=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(b){function w(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function C(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function S(e,t,i){if(t.charAt(i)!=e.charAt(0))return!1;for(var n=1,r=e.length;n<r;n++)if(t.charAt(i+n)!=e.charAt(n))return!1;return!0}function c(e,t,i,n){var r=[],o=null,s=null,a=null;for(s=i[i.length-1];0<e.length;){if(a=e.shift(),s&&"<"==s.tag&&!(a.tag in p))throw new Error("Illegal content in < super tag.");if(b.tags[a.tag]<=b.tags.$||l(a,n))i.push(a),a.nodes=c(e,a.tag,i,n);else{if("/"==a.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+a.n);if(o=i.pop(),a.n!=o.n&&!u(a.n,o.n,n))throw new Error("Nesting error: "+o.n+" vs. "+a.n);return o.end=a.i,r}"\n"==a.tag&&(a.last=0==e.length||"\n"==e[0].tag)}r.push(a)}if(0<i.length)throw new Error("missing closing tag: "+i.pop().n);return r}function l(e,t){for(var i=0,n=t.length;i<n;i++)if(t[i].o==e.n)return e.tag="#",!0}function u(e,t,i){for(var n=0,r=i.length;n<r;n++)if(i[n].c==e&&i[n].o==t)return!0}function n(e){var t=[];for(var i in e)t.push('"'+o(i)+'": function(c,p,t,i) {'+e[i]+"}");return"{ "+t.join(",")+" }"}function r(e){var t=[];for(var i in e.partials)t.push('"'+o(i)+'":{name:"'+o(e.partials[i].name)+'", '+r(e.partials[i])+"}");return"partials: {"+t.join(",")+"}, subs: "+n(e.subs)}function o(e){return e.replace(f,"\\\\").replace(t,'\\"').replace(h,"\\n").replace(d,"\\r")}function i(e){return~e.indexOf(".")?"d":"f"}function s(e,t){var i="<"+(t.prefix||"")+e.n+_++;return t.partials[i]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+o(i)+'",c,p,"'+(e.indent||"")+'"));',i}function e(e,t){t.code+="t.b(t.t(t."+i(e.n)+'("'+o(e.n)+'",c,p,0)));'}function a(e){return"t.b("+e+");"}var x=/\S/,t=/\"/g,h=/\n/g,d=/\r/g,f=/\\/g;b.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},b.scan=function E(e,t){function r(){0<f.length&&(p.push({tag:"_t",text:new String(f)}),f="")}function o(){for(var e=!0,t=v;t<p.length;t++)if(!(e=b.tags[p[t].tag]<b.tags._v||"_t"==p[t].tag&&null===p[t].text.match(x)))return!1;return e}function i(e,t){if(r(),e&&o())for(var i,n=v;n<p.length;n++)p[n].text&&((i=p[n+1])&&">"==i.tag&&(i.indent=p[n].text.toString()),p.splice(n,1));else t||p.push({tag:"\n"});_=!1,v=p.length}function n(e,t){var i="="+y,n=e.indexOf(i,t),r=C(e.substring(e.indexOf("=",t)+1,n)).split(" ");return m=r[0],y=r[r.length-1],n+i.length-1}var s=e.length,a=0,c=1,l=2,u=a,h=null,d=null,f="",p=[],_=!1,g=0,v=0,m="{{",y="}}";for(t&&(t=t.split(" "),m=t[0],y=t[1]),g=0;g<s;g++)u==a?S(m,e,g)?(--g,r(),u=c):"\n"==e.charAt(g)?i(_):f+=e.charAt(g):u==c?(g+=m.length-1,"="==(h=(d=b.tags[e.charAt(g+1)])?e.charAt(g+1):"_v")?(g=n(e,g),u=a):(d&&g++,u=l),_=g):S(y,e,g)?(p.push({tag:h,n:C(f),otag:m,ctag:y,i:"/"==h?_-m.length:g+y.length}),f="",g+=y.length-1,u=a,"{"==h&&("}}"==y?g++:w(p[p.length-1]))):f+=e.charAt(g);return i(_,!0),p};var p={_t:!0,"\n":!0,$:!0,"/":!0};b.stringify=function(e){return"{code: function (c,p,i) { "+b.wrapMain(e.code)+" },"+r(e)+"}"};var _=0;b.generate=function(e,t,i){_=0;var n={code:"",subs:{},partials:{}};return b.walk(e,n),i.asString?this.stringify(n,t,i):this.makeTemplate(n,t,i)},b.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},b.template=b.Template,b.makeTemplate=function(e,t,i){var n=this.makePartials(e);return n.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(n,t,this,i)},b.makePartials=function(e){var t,i={subs:{},partials:e.partials,name:e.name};for(t in i.partials)i.partials[t]=this.makePartials(i.partials[t]);for(t in e.subs)i.subs[t]=new Function("c","p","t","i",e.subs[t]);return i},b.codegen={"#":function(e,t){t.code+="if(t.s(t."+i(e.n)+'("'+o(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',b.walk(e.nodes,t),t.code+="});c.pop();}"},"^":function(e,t){t.code+="if(!t.s(t."+i(e.n)+'("'+o(e.n)+'",c,p,1),c,p,1,0,0,"")){',b.walk(e.nodes,t),t.code+="};"},">":s,"<":function(e,t){var i={partials:{},code:"",subs:{},inPartial:!0};b.walk(e.nodes,i);var n=t.partials[s(e,t)];n.subs=i.subs,n.partials=i.partials},$:function(e,t){var i={subs:{},code:"",partials:t.partials,prefix:e.n};b.walk(e.nodes,i),t.subs[e.n]=i.code,t.inPartial||(t.code+='t.sub("'+o(e.n)+'",c,p,i);')},"\n":function(e,t){t.code+=a('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+i(e.n)+'("'+o(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=a('"'+o(e.text)+'"')},"{":e,"&":e},b.walk=function(e,t){for(var i,n=0,r=e.length;n<r;n++)(i=b.codegen[e[n].tag])&&i(e[n],t);return t},b.parse=function(e,t,i){return c(e,"",[],(i=i||{}).sectionTags||[])},b.cache={},b.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},b.compile=function(e,t){t=t||{};var i=b.cacheKey(e,t),n=this.cache[i];if(n){var r=n.partials;for(var o in r)delete r[o].instance;return n}return n=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[i]=n}}("undefined"!=typeof exports?exports:Hogan),function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.ALGOLIA_MIGRATION_LAYER=e()}(function(){return function u(o,s,a){function c(i,e){if(!s[i]){if(!o[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(l)return l(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var r=s[i]={exports:{}};o[i][0].call(r.exports,function(e){var t=o[i][1][e];return c(t||e)},r,r.exports,u,o,s,a)}return s[i].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)c(a[e]);return c}({1:[function(e,t){function o(e,t){for(var i in t)e.setAttribute(i,t[i])}function s(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function a(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,i){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script");"function"==typeof t&&(i=t,t={}),t=t||{},i=i||function(){},r.type=t.type||"text/javascript",r.charset=t.charset||"utf8",r.async=!("async"in t&&!t.async),r.src=e,t.attrs&&o(r,t.attrs),t.text&&(r.text=""+t.text),("onload"in r?s:a)(r,i),r.onload||s(r,i),n.appendChild(r)}},{}],2:[function(e,t){"use strict";function i(e){for(var t=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+e.replace(".","\\.")+"(?:\\.min)?\\.js$"),i=document.getElementsByTagName("script"),n=!1,r=0,o=i.length;r<o;r++)if(i[r].src&&t.test(i[r].src)){n=!0;break}return n}t.exports=i},{}],3:[function(o,e){"use strict";function t(e){var t=o(1),i="//cdn.jsdelivr.net/algoliasearch/2/"+e+".min.js",n="-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --";window.console&&(window.console.warn?window.console.warn(n):window.console.log&&window.console.log(n));try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true</script>"),!0===window.ALGOLIA_SUPPORTS_DOCWRITE?(document.write('<script src="'+i+'"></script>'),s("document.write")()):t(i,s("DOMElement"))}catch(r){t(i,s("DOMElement"))}}function s(t){return function(){var e="AlgoliaSearch: loaded V2 script using "+t;window.console&&window.console.log&&window.console.log(e)}}e.exports=t},{1:1}],4:[function(e,t){"use strict";function i(){var e="-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(e)},window.AlgoliaSearchHelper=function(){throw new Error(e)},window.AlgoliaExplainResults=function(){throw new Error(e)}}t.exports=i},{}],5:[function(r){"use strict";function e(e){var t=r(2),i=r(3),n=r(4);t(e)?i(e):n()}e("algoliasearch")},{2:2,3:3,4:4}]},{},[5])(5)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).algoliasearch=e()}}(function(){var r;return function u(o,s,a){function c(i,e){if(!s[i]){if(!o[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(l)return l(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var r=s[i]={exports:{}};o[i][0].call(r.exports,function(e){var t=o[i][1][e];return c(t||e)},r,r.exports,u,o,s,a)}return s[i].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)c(a[e]);return c}({1:[function(a,c,l){(function(e){function t(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+l.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var n=0,r=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))}),e.splice(r,0,i),e}function n(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function r(e){try{null==e?l.storage.removeItem("debug"):l.storage.debug=e}catch(c){}}function o(){try{return l.storage.debug}catch(a){}if(void 0!==e&&"env"in e)return e.env.DEBUG}function s(){try{return window.localStorage}catch(a){}}(l=c.exports=a(2)).log=n,l.formatArgs=i,l.save=r,l.load=o,l.useColors=t,l.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:s(),l.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],l.formatters.j=function(e){try{return JSON.stringify(e)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}},l.enable(o())}).call(this,a(12))},{12:12,2:2}],2:[function(e,t,a){function c(){return a.colors[u++%a.colors.length]}function i(e){function t(){}function n(){var r=n,e=+new Date,t=e-(l||e);r.diff=t,r.prev=l,r.curr=e,l=e,null==r.useColors&&(r.useColors=a.useColors()),null==r.color&&r.useColors&&(r.color=c());for(var o=new Array(arguments.length),i=0;i<o.length;i++)o[i]=arguments[i];o[0]=a.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var s=0;o[0]=o[0].replace(/%([a-z%])/g,function(e,t){if("%%"===e)return e;s++;var i=a.formatters[t];if("function"==typeof i){var n=o[s];e=i.call(r,n),o.splice(s,1),s--}return e}),o=a.formatArgs.apply(r,o),(n.log||a.log||console.log.bind(console)).apply(r,o)}t.enabled=!1,n.enabled=!0;var i=a.enabled(e)?n:t;return i.namespace=e,i}function n(e){a.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,n=0;n<i;n++)t[n]&&("-"===(e=t[n].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))}function r(){a.enable("")}function o(e){var t,i;for(t=0,i=a.skips.length;t<i;t++)if(a.skips[t].test(e))return!1;for(t=0,i=a.names.length;t<i;t++)if(a.names[t].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}(a=t.exports=i.debug=i).coerce=s,a.disable=r,a.enable=n,a.enabled=o,a.humanize=e(9),a.names=[],a.skips=[],a.formatters={};var l,u=0},{9:9}],3:[function(le,i,n){(function(ae,ce){var e,t;e=this,t=function(){"use strict";function i(e){return"function"==typeof e||"object"==typeof e&&null!==e}function l(e){return"function"==typeof e}function t(e){z=e}function e(e){K=e}function n(){return function(){return ae.nextTick(c)}}function r(){return void 0!==W?function(){W(c)}:a()}function o(){var e=0,t=new X(c),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}function s(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}function a(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<U;e+=2){(0,Q[e])(Q[e+1]),Q[e]=void 0,Q[e+1]=void 0}U=0}function u(){try{var e=le("vertx");return W=e.runOnLoop||e.runOnContext,r()}catch(t){return a()}}function h(e,t){var i=arguments,n=this,r=new this.constructor(f);void 0===r[ee]&&O(r);var o,s=n._state;return s?(o=i[s-1],K(function(){return L(s,r,o,n._result)})):E(n,r,e,t),r}function d(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var i=new t(f);return w(i,e),i}function f(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(le){return re.error=le,re}}function v(e,t,i,n){try{e.call(t,i,n)}catch(ae){return ae}}function m(e,n,r){K(function(t){var i=!1,e=v(r,n,function(e){i||(i=!0,n!==e?w(t,e):S(t,e))},function(e){i||(i=!0,x(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&e&&(i=!0,x(t,e))},e)}function y(t,e){e._state===ie?S(t,e._result):e._state===ne?x(t,e._result):E(e,void 0,function(e){return w(t,e)},function(e){return x(t,e)})}function b(e,t,i){t.constructor===e.constructor&&i===h&&t.constructor.resolve===d?y(e,t):i===re?x(e,re.error):void 0===i?S(e,t):l(i)?m(e,t,i):S(e,t)}function w(e,t){e===t?x(e,p()):i(t)?b(e,t,g(t)):S(e,t)}function C(e){e._onerror&&e._onerror(e._result),k(e)}function S(e,t){e._state===te&&(e._result=t,e._state=ie,
0!==e._subscribers.length&&K(k,e))}function x(e,t){e._state===te&&(e._state=ne,e._result=t,K(C,e))}function E(e,t,i,n){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+ie]=i,r[o+ne]=n,0===o&&e._state&&K(k,e)}function k(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)n=t[s],r=t[s+i],n?L(i,n,r,o):r(o);e._subscribers.length=0}}function T(){this.error=null}function A(e,t){try{return e(t)}catch(l){return oe.error=l,oe}}function L(e,t,i,n){var r=l(i),o=void 0,s=void 0,a=void 0,c=void 0;if(r){if((o=A(i,n))===oe?(c=!0,s=o.error,o=null):a=!0,t===o)return void x(t,_())}else o=n,a=!0;t._state!==te||(r&&a?w(t,o):c?x(t,s):e===ie?S(t,o):e===ne&&x(t,o))}function D(t,e){try{e(function(e){w(t,e)},function(e){x(t,e)})}catch(l){x(t,l)}}function R(){return se++}function O(e){e[ee]=se++,e._state=void 0,e._result=void 0,e._subscribers=[]}function P(e,t){this._instanceConstructor=e,this.promise=new e(f),this.promise[ee]||O(this.promise),$(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):x(this.promise,I())}function I(){return new Error("Array Methods must be provided an Array")}function M(e){return new P(this,e).promise}function j(r){var o=this;return new o($(r)?function(e,t){for(var i=r.length,n=0;n<i;n++)o.resolve(r[n]).then(e,t)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function H(e){var t=new this(f);return x(t,e),t}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this[ee]=R(),this._result=this._state=void 0,this._subscribers=[],f!==e&&("function"!=typeof e&&N(),this instanceof F?D(this,e):B())}function q(){var e=void 0;if(void 0!==ce)e=ce;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(le){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(le){}if("[object Promise]"===i&&!t.cast)return}e.Promise=F}var $=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},U=0,W=void 0,z=void 0,K=function(e,t){Q[U]=e,Q[U+1]=t,2===(U+=2)&&(z?z(c):Z())},V="undefined"!=typeof window?window:void 0,G=V||{},X=G.MutationObserver||G.WebKitMutationObserver,Y="undefined"==typeof self&&void 0!==ae&&"[object process]"==={}.toString.call(ae),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),Z=void 0;Z=Y?n():X?o():J?s():void 0===V&&"function"==typeof le?u():a();var ee=Math.random().toString(36).substring(16),te=void 0,ie=1,ne=2,re=new T,oe=new T,se=0;return P.prototype._enumerate=function(){for(var e=this.length,t=this._input,i=0;this._state===te&&i<e;i++)this._eachEntry(t[i],i)},P.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===d){var r=g(t);if(r===h&&t._state!==te)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(i===F){var o=new i(f);b(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},P.prototype._settledAt=function(e,t,i){var n=this.promise;n._state===te&&(this._remaining--,e===ne?x(n,i):this._result[t]=i),0===this._remaining&&S(n,this._result)},P.prototype._willSettleAt=function(e,t){var i=this;E(e,void 0,function(e){return i._settledAt(ie,t,e)},function(e){return i._settledAt(ne,t,e)})},F.all=M,F.race=j,F.resolve=d,F.reject=H,F._setScheduler=t,F._setAsap=e,F._asap=K,F.prototype={constructor:F,then:h,"catch":function(e){return this.then(null,e)}},F.polyfill=q,F.Promise=F},"object"==typeof n&&void 0!==i?i.exports=t():"function"==typeof r&&r.amd?r(t):e.ES6Promise=t()}).call(this,le(12),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{12:12}],4:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function u(e){return"function"==typeof e}function i(e){return"number"==typeof e}function h(e){return"object"==typeof e&&null!==e}function d(e){return void 0===e}((t.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e,t,i){var n,r,o,s,a,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||h(this._events.error)&&!this._events.error.length)){if((n=t)instanceof Error)throw n;var l=new Error('Uncaught, unspecified "error" event. ('+n+")");throw l.context=n,l}if(d(r=this._events[e]))return!1;if(u(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,t);break;case 3:r.call(this,t,i);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(h(r))for(s=Array.prototype.slice.call(arguments,1),o=(c=r.slice()).length,a=0;a<o;a++)c[a].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!u(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,u(t.listener)?t.listener:t),this._events[e]?h(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,h(this._events[e])&&!this._events[e].warned&&((i=d(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<i&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!u(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var i,n,r,o;if(!u(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(i=this._events[e]).length,n=-1,i===t||u(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(h(i)){for(o=r;0<o--;)if(i[o]===t||i[o].listener&&i[o].listener===t){n=o;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(u(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?u(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(u(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],5:[function(e,t){var s=Object.prototype.hasOwnProperty,a=Object.prototype.toString;t.exports=function(e,t,i){if("[object Function]"!==a.call(t))throw new TypeError("iterator must be a function");var n=e.length;if(n===+n)for(var r=0;r<n;r++)t.call(i,e[r],r,e);else for(var o in e)s.call(e,o)&&t.call(i,e[o],o,e)}},{}],6:[function(e,t){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],8:[function(e,t){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],9:[function(e,t){function n(e){if(!(1e4<(e=String(e)).length)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*u;case"days":case"day":case"d":return i*l;case"hours":case"hour":case"hrs":case"hr":case"h":return i*c;case"minutes":case"minute":case"mins":case"min":case"m":return i*a;case"seconds":case"second":case"secs":case"sec":case"s":return i*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function r(e){return l<=e?Math.round(e/l)+"d":c<=e?Math.round(e/c)+"h":a<=e?Math.round(e/a)+"m":s<=e?Math.round(e/s)+"s":e+"ms"}function o(e){return i(e,l,"day")||i(e,c,"hour")||i(e,a,"minute")||i(e,s,"second")||e+" ms"}function i(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}var s=1e3,a=60*s,c=60*a,l=24*c,u=365.25*l;t.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&0<e.length)return n(e);if("number"===i&&!1===isNaN(e))return t["long"]?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],10:[function(e,t){"use strict";var d=Object.prototype.hasOwnProperty,f=Object.prototype.toString,i=Array.prototype.slice,p=e(11),n=Object.prototype.propertyIsEnumerable,_=!n.call({toString:null},"toString"),g=n.call(function(){},"prototype"),v=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(e){var t=e.constructor;return t&&t.prototype===e},o={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},s=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!o["$"+e]&&d.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{r(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),m=function(e){if("undefined"==typeof window||!s)return r(e);try{return r(e)}catch(t){return!1}},a=function(e){var t=null!==e&&"object"==typeof e,i="[object Function]"===f.call(e),n=p(e),r=t&&"[object String]"===f.call(e),o=[];if(!t&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var s=g&&i;if(r&&0<e.length&&!d.call(e,0))for(var a=0;a<e.length;++a)o.push(String(a));if(n&&0<e.length)for(var c=0;c<e.length;++c)o.push(String(c));else for(var l in e)s&&"prototype"===l||!d.call(e,l)||o.push(String(l));if(_)for(var u=m(e),h=0;h<v.length;++h)u&&"constructor"===v[h]||!d.call(e,v[h])||o.push(v[h]);return o};a.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var t=Object.keys;Object.keys=function(e){return t(p(e)?i.call(e):e)}}}else Object.keys=a;return Object.keys||a},t.exports=a},{11:11}],11:[function(e,t){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),i="[object Arguments]"===t;return i||(i="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&0<=e.length&&"[object Function]"===n.call(e.callee)),i}},{}],12:[function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function s(){_&&f&&(_=!1,f.length?p=f.concat(p):g=-1,p.length&&a())}function a(){if(!_){var e=r(s);_=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,_=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,h,d=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(e){u=i}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(e){h=n}}();var f,p=[],_=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new c(e,t)),1!==p.length||_||r(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],13:[function(e,t){"use strict";function o(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n));return i}var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(i,n,r,e){return n=n||"&",r=r||"=",null===i&&(i=void 0),"object"==typeof i?o(c(i),function(e){var t=encodeURIComponent(s(e))+r;return a(i[e])?o(i[e],function(e){return t+encodeURIComponent(s(e))}).join(n):t+encodeURIComponent(s(i[e]))}).join(n):e?encodeURIComponent(s(e))+r+encodeURIComponent(s(i)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},{}],14:[function(s,e){function t(){a.apply(this,arguments)}function i(){var e="Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com";throw new l.AlgoliaSearchError(e)}e.exports=t;var n=s(16),r=s(26),o=s(27),a=s(15),c=s(7),l=s(28);c(t,a),t.prototype.deleteIndex=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},t.prototype.moveIndex=function(e,t,i){var n={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:n,hostType:"write",callback:i})},t.prototype.copyIndex=function(e,t,i){var n={operation:"copy",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:n,hostType:"write",callback:i})},t.prototype.getLogs=function(e,t,i){var n=s(25),r={};return"object"==typeof e?(r=n(e),i=t):0===arguments.length||"function"==typeof e?i=e:1===arguments.length||"function"==typeof t?(i=t,r.offset=e):(r.offset=e,r.length=t),void 0===r.offset&&(r.offset=0),void 0===r.length&&(r.length=10),this._jsonRequest({method:"GET",url:"/1/logs?"+this._getSearchParams(r,""),hostType:"read",callback:i})},t.prototype.listIndexes=function(e,t){var i="";return void 0===e||"function"==typeof e?t=e:i="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+i,hostType:"read",callback:t})},t.prototype.initIndex=function(e){return new n(this,e)},t.prototype.listUserKeys=function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},t.prototype.getUserKeyACL=function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},t.prototype.deleteUserKey=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},t.prototype.addUserKey=function(e,t,i){var n="Usage: client.addUserKey(arrayOfAcls[, params, callback])";if(!s(8)(e))throw new Error(n);1!==arguments.length&&"function"!=typeof t||(i=t,t=null);var r={acl:e};return t&&(r.validity=t.validity,r.maxQueriesPerIPPerHour=t.maxQueriesPerIPPerHour,r.maxHitsPerQuery=t.maxHitsPerQuery,r.indexes=t.indexes,r.description=t.description,t.queryParameters&&(r.queryParameters=this._getSearchParams(t.queryParameters,"")),r.referers=t.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:r,hostType:"write",callback:i})},t.prototype.addUserKeyWithValidity=r(function(e,t,i){return this.addUserKey(e,t,i)},o("client.addUserKeyWithValidity()","client.addUserKey()")),t.prototype.updateUserKey=function(e,t,i,n){var r="Usage: client.updateUserKey(key, arrayOfAcls[, params, callback])";if(!s(8)(t))throw new Error(r);2!==arguments.length&&"function"!=typeof i||(n=i,i=null);var o={acl:t};return i&&(o.validity=i.validity,o.maxQueriesPerIPPerHour=i.maxQueriesPerIPPerHour,o.maxHitsPerQuery=i.maxHitsPerQuery,o.indexes=i.indexes,o.description=i.description,i.queryParameters&&(o.queryParameters=this._getSearchParams(i.queryParameters,"")),o.referers=i.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+e,body:o,hostType:"write",callback:n})},t.prototype.startQueriesBatch=r(function(){this._batch=[]},o("client.startQueriesBatch()","client.search()")),t.prototype.addQueryInBatch=r(function(e,t,i){this._batch.push({indexName:e,query:t,params:i})},o("client.addQueryInBatch()","client.search()")),t.prototype.sendQueriesBatch=r(function(e){return this.search(this._batch,e)},o("client.sendQueriesBatch()","client.search()")),t.prototype.batch=function(e,t){var i="Usage: client.batch(operations[, callback])";if(!s(8)(e))throw new Error(i);return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:e},hostType:"write",callback:t})},t.prototype.destroy=i,t.prototype.enableRateLimitForward=i,t.prototype.disableRateLimitForward=i,t.prototype.useSecuredAPIKey=i,t.prototype.disableSecuredAPIKey=i,t.prototype.generateSecuredApiKey=i},{15:15,16:16,25:25,26:26,27:27,28:28,7:7,8:8}],15:[function(E,c){(function(e){function t(t,e,i){var n=E(1)("algoliasearch"),r=E(25),o=E(8),s=E(30),a="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==i._allowEmptyCredentials&&!t)throw new x.AlgoliaSearchError("Please provide an application ID. "+a);if(!0!==i._allowEmptyCredentials&&!e)throw new x.AlgoliaSearchError("Please provide an API key. "+a);this.applicationID=t,this.apiKey=e,this.hosts={read:[],write:[]};var c=(i=i||{}).protocol||"https:";if(this._timeouts=i.timeouts||{connect:1e3,read:2e3,write:3e4},i.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=i.timeout),/:$/.test(c)||(c+=":"),"http:"!==i.protocol&&"https:"!==i.protocol)throw new x.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+i.protocol+"`)");if(this._checkAppIdData(),i.hosts)o(i.hosts)?(this.hosts.read=r(i.hosts),this.hosts.write=r(i.hosts)):(this.hosts.read=r(i.hosts.read),this.hosts.write=r(i.hosts.write));else{var l=s(this._shuffleResult,function(e){return t+"-"+e+".algolianet.com"});this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(l),this.hosts.write=[this.applicationID+".algolia.net"].concat(l)}this.hosts.read=s(this.hosts.read,u(c)),this.hosts.write=s(this.hosts.write,u(c)),this.extraHeaders=[],this.cache=i._cache||{},this._ua=i._ua,this._useCache=!(void 0!==i._useCache&&!i._cache)||i._useCache,this._useFallback=void 0===i.useFallback||i.useFallback,this._setTimeout=i._setTimeout,n("init done, %j",this)}function u(t){return function(e){return t+"//"+e.toLowerCase()}}function C(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var i=JSON.stringify(e);return Array.prototype.toJSON=t,i}function i(e){for(var t,i,n=e.length;0!==n;)i=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[i],e[i]=t;return e}function S(e){var t={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n;n="x-algolia-api-key"===i||"x-algolia-application-id"===i?"**hidden for security purposes**":e[i],t[i]=n}return t}c.exports=t;var x=E(28),n=E(29),r=E(18),o=E(34),s=500,a=e.env.RESET_APP_DATA_TIMER&&parseInt(e.env.RESET_APP_DATA_TIMER,10)||12e4;t.prototype.initIndex=function(e){return new r(this,e)},t.prototype.setExtraHeader=function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},t.prototype.addAlgoliaAgent=function(e){-1===this._ua.indexOf(";"+e)&&(this._ua+=";"+e)},t.prototype._jsonRequest=function(h){function d(e,o){function t(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;_("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers);var i=2===Math.floor(t/100),n=new Date;if(w.push({currentHost:l,headers:S(p),content:f||null,contentLength:void 0!==f?f.length:null,method:o.method,timeouts:o.timeouts,url:o.url,startTime:c,endTime:n,duration:n-c,statusCode:t}),i)return v._useCache&&g&&(g[a]=e.responseText),e.body;if(4!==Math.floor(t/100))return m+=1,s();_("unrecoverable error");var r=new x.AlgoliaSearchError(e.body&&e.body.message,{debugData:w,statusCode:t});return v._promise.reject(r)}function i(e){_("error: %s, stack: %s",e.message,e.stack);var t=new Date;return w.push({currentHost:l,headers:S(p),content:f||null,contentLength:void 0!==f?f.length:null,method:o.method,timeouts:o.timeouts,url:o.url,startTime:c,endTime:t,duration:t-c}),e instanceof x.AlgoliaSearchError||(e=new x.Unknown(e&&e.message,e)),m+=1,e instanceof x.Unknown||e instanceof x.UnparsableJSON||m>=v.hosts[h.hostType].length&&(y||!b)?(e.debugData=w,v._promise.reject(e)):e instanceof x.RequestTimeout?n():s()}function s(){return _("retrying request"),v._incrementHostIndex(h.hostType),d(e,o)}function n(){return _("retrying request with higher timeout"),v._incrementHostIndex(h.hostType),v._incrementTimeoutMultipler(),o.timeouts=v._getTimeoutsForRequest(h.hostType),d(e,o)}v._checkAppIdData();var a,c=new Date;if(v._useCache&&(a=h.url),v._useCache&&f&&(a+="_body_"+o.body),v._useCache&&g&&void 0!==g[a])return _("serving response from cache"),v._promise.resolve(JSON.parse(g[a]));if(m>=v.hosts[h.hostType].length)return!b||y?(_("could not get any response"),v._promise.reject(new x.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+v.applicationID,{debugData:w}))):(_("switching to fallback"),m=0,o.method=h.fallback.method,o.url=h.fallback.url,o.jsonBody=h.fallback.body,o.jsonBody&&(o.body=C(o.jsonBody)),p=v._computeRequestHeaders(),o.timeouts=v._getTimeoutsForRequest(h.hostType),v._setHostIndexByType(0,h.hostType),y=!0,d(v._request.fallback,o));var l=v._getHostByType(h.hostType),r=l+o.url,u={body:o.body,jsonBody:o.jsonBody,method:o.method,headers:p,timeouts:o.timeouts,debug:_};return _("method: %s, url: %s, headers: %j, timeouts: %d",u.method,r,u.headers,u.timeouts),e===v._request.fallback&&_("using fallback"),e.call(v,r,u).then(t,i)}this._checkAppIdData();var f,p,_=E(1)("algoliasearch:"+h.url),g=h.cache,v=this,m=0,y=!1,b=v._useFallback&&v._request.fallback&&h.fallback;this.apiKey.length>s&&void 0!==h.body&&(void 0!==h.body.params||void 0!==h.body.requests)?(h.body.apiKey=this.apiKey,p=this._computeRequestHeaders(!1)):p=this._computeRequestHeaders(),void 0!==h.body&&(f=C(h.body)),_("request start");var w=[],e=d(v._request,{url:h.url,method:h.method,body:f,jsonBody:h.body,timeouts:v._getTimeoutsForRequest(h.hostType)});return h.callback?void e.then(function(e){n(function(){h.callback(null,e)},v._setTimeout||setTimeout)},function(e){n(function(){h.callback(e)},v._setTimeout||setTimeout)}):e},t.prototype._getSearchParams=function(e,t){if(null==e)return t;for(var i in e)null!==i&&void 0!==e[i]&&e.hasOwnProperty(i)&&(t+=""===t?"":"&",t+=i+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[i])?C(e[i]):e[i]));return t},t.prototype._computeRequestHeaders=function(e){var t=E(5),i={"x-algolia-agent":this._ua,"x-algolia-application-id":this.applicationID};return!1!==e&&(i["x-algolia-api-key"]=this.apiKey),this.userToken&&(i["x-algolia-usertoken"]=this.userToken),this.securityTags&&(i["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&t(this.extraHeaders,function(e){i[e.name]=e.value}),i},t.prototype.search=function(e,t,i){var n=E(8),r=E(30),o="Usage: client.search(arrayOfQueries[, callback])";if(!n(e))throw new Error(o);"function"==typeof t?(i=t,t={}):void 0===t&&(t={});var s=this,a={requests:r(e,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:s._getSearchParams(e.params,t)}})},c=r(a.requests,function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)}).join("&"),l="/1/indexes/*/queries";return void 0!==t.strategy&&(l+="?strategy="+t.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:l,body:a,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:c}},callback:i})},t.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],i=0;i<e.length;++i)if("[object Array]"===Object.prototype.toString.call(e[i])){for(var n=[],r=0;r<e[i].length;++r)n.push(e[i][r]);t.push("("+n.join(",")+")")}else t.push(e[i]);e=t.join(",")}this.securityTags=e},t.prototype.setUserToken=function(e){this.userToken=e},t.prototype.clearCache=function(){this.cache={}},t.prototype.setRequestTimeout=function(e){e&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=e)},t.prototype.setTimeouts=function(e){this._timeouts=e},t.prototype.getTimeouts=function(){return this._timeouts},t.prototype._getAppIdData=function(){var e=o.get(this.applicationID);return null!==e&&this._cacheAppIdData(e),e},t.prototype._setAppIdData=function(e){return e.lastChange=(new Date).getTime(),this._cacheAppIdData(e),o.set(this.applicationID,e)},t.prototype._checkAppIdData=function(){var e=this._getAppIdData(),t=(new Date).getTime();return null===e||t-e.lastChange>a?this._resetInitialAppIdData(e):e},t.prototype._resetInitialAppIdData=function(e){var t=e||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||i([1,2,3]),this._setAppIdData(t)},t.prototype._cacheAppIdData=function(e){this._hostIndexes=e.hostIndexes,this._timeoutMultiplier=e.timeoutMultiplier,this._shuffleResult=e.shuffleResult},t.prototype._partialAppIdDataUpdate=function(e){var t=E(5),i=this._getAppIdData();return t(e,function(e,t){i[t]=e}),this._setAppIdData(i)},t.prototype._getHostByType=function(e){return this.hosts[e][this._getHostIndexByType(e)]},t.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},t.prototype._getHostIndexByType=function(e){return this._hostIndexes[e]},t.prototype._setHostIndexByType=function(e,t){var i=E(25)(this._hostIndexes);return i[t]=e,this._partialAppIdDataUpdate({hostIndexes:i}),e},t.prototype._incrementHostIndex=function(e){return this._setHostIndexByType((this._getHostIndexByType(e)+1)%this.hosts[e].length,e)},t.prototype._incrementTimeoutMultipler=function(){var e=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:e})},t.prototype._getTimeoutsForRequest=function(e){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[e]*this._timeoutMultiplier}}}).call(this,E(12))},{1:1,12:12,18:18,25:25,28:28,29:29,30:30,34:34,5:5,8:8}],16:[function(f,e){function t(){n.apply(this,arguments)}var i=f(7),n=f(18),r=f(26),o=f(27),p=f(29),s=f(28);i(e.exports=t,n),t.prototype.addObject=function(e,t,i){var n=this;return 1!==arguments.length&&"function"!=typeof t||(i=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:i})},t.prototype.addObjects=function(e,t){var i="Usage: index.addObjects(arrayOfObjects[, callback])";if(!f(8)(e))throw new Error(i);for(var n=this,r={requests:[]},o=0;o<e.length;++o){var s={action:"addObject",body:e[o]};r.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/batch",body:r,hostType:"write",callback:t})},t.prototype.partialUpdateObject=function(e,t,i){1!==arguments.length&&"function"!=typeof t||(i=t,t=void 0);var n="/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial";return!1===t&&(n+="?createIfNotExists=false"),this.as._jsonRequest({method:"POST",url:n,body:e,hostType:"write",callback:i})},t.prototype.partialUpdateObjects=function(e,t){var i="Usage: index.partialUpdateObjects(arrayOfObjects[, callback])";if(!f(8)(e))throw new Error(i);for(var n=this,r={requests:[]},o=0;o<e.length;++o){var s={action:"partialUpdateObject",objectID:e[o].objectID,body:e[o]};r.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/batch",body:r,hostType:"write",callback:t})},t.prototype.saveObject=function(e,t){var i=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},t.prototype.saveObjects=function(e,t){var i="Usage: index.saveObjects(arrayOfObjects[, callback])";if(!f(8)(e))throw new Error(i);for(var n=this,r={requests:[]},o=0;o<e.length;++o){var s={action:"updateObject",objectID:e[o].objectID,body:e[o]};r.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/batch",body:r,hostType:"write",callback:t})},t.prototype.deleteObject=function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var i=new s.AlgoliaSearchError("Cannot delete an object without an objectID");return"function"==typeof(t=e)?t(i):this.as._promise.reject(i)}var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},t.prototype.deleteObjects=function(e,t){var i=f(8),n=f(30),r="Usage: index.deleteObjects(arrayOfObjectIDs[, callback])";if(!i(e))throw new Error(r);var o=this,s={requests:n(e,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:s,hostType:"write",callback:t})},t.prototype.deleteByQuery=function(e,t,i){function n(e){if(0===e.nbHits)return e;var t=l(e.hits,function(e){return e.objectID});return u.deleteObjects(t).then(r).then(o)}function r(e){return u.waitTask(e.taskID)}function o(){return u.deleteByQuery(e,t)}function s(){p(function(){i(null)},h._setTimeout||setTimeout)}function a(e){p(function(){i(e)},h._setTimeout||setTimeout)}var c=f(25),l=f(30),u=this,h=u.as;1===arguments.length||"function"==typeof t?(i=t,t={}):t=c(t),t.attributesToRetrieve="objectID",t.hitsPerPage=1e3,t.distinct=!1,this.clearCache();var d=this.search(e,t).then(n);return i?void d.then(s,a):d},t.prototype.browseAll=function(e,t){function i(e){var t;o._stopped||(t=void 0!==e?"cursor="+encodeURIComponent(e):c,s._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/browse?"+t,hostType:"read",callback:n}))}function n(e,t){if(!o._stopped)return e?void o._error(e):(o._result(t),void 0===t.cursor?void o._end():void i(t.cursor))}"object"==typeof e&&(t=e,e=void 0);var r=f(31),o=new(f(17)),s=this.as,a=this,c=s._getSearchParams(r({},t||{},{query:e}),"");return i(),o},t.prototype.ttAdapter=function(r){var o=this;return function(e,t,i){var n;n="function"==typeof i?i:t,o.search(e,r,function(e,t){return e?void n(e):void n(t.hits)})}},t.prototype.waitTask=function(e,t){function i(){return l._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/task/"+e}).then(function(e){var t=o*++a*a;return s<t&&(t=s),"published"!==e.status?l._promise.delay(t).then(i):e})}function n(e){p(function(){t(null,e)},l._setTimeout||setTimeout)}function r(e){p(function(){t(e)},l._setTimeout||setTimeout)}var o=100,s=5e3,a=0,c=this,l=c.as,u=i();return t?void u.then(n,r):u},t.prototype.clearIndex=function(e){var t=this
;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},t.prototype.getSettings=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings?getVersion=2",hostType:"read",callback:e})},t.prototype.searchSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/search",body:e,hostType:"read",callback:t})},t.prototype.saveSynonym=function(e,t,i){return"function"==typeof t?(i=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e.objectID)+"?forwardToSlaves="+(t.forwardToSlaves?"true":"false"),body:e,hostType:"write",callback:i})},t.prototype.getSynonym=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e),hostType:"read",callback:t})},t.prototype.deleteSynonym=function(e,t,i){return"function"==typeof t?(i=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e)+"?forwardToSlaves="+(t.forwardToSlaves?"true":"false"),hostType:"write",callback:i})},t.prototype.clearSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/clear?forwardToSlaves="+(e.forwardToSlaves?"true":"false"),hostType:"write",callback:t})},t.prototype.batchSynonyms=function(e,t,i){return"function"==typeof t?(i=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/batch?forwardToSlaves="+(t.forwardToSlaves?"true":"false")+"&replaceExistingSynonyms="+(t.replaceExistingSynonyms?"true":"false"),hostType:"write",body:e,callback:i})},t.prototype.setSettings=function(e,t,i){1!==arguments.length&&"function"!=typeof t||(i=t,t={});var n=t.forwardToSlaves||!1,r=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/settings?forwardToSlaves="+(n?"true":"false"),hostType:"write",body:e,callback:i})},t.prototype.listUserKeys=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},t.prototype.getUserKeyACL=function(e,t){var i=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/keys/"+e,hostType:"read",callback:t})},t.prototype.deleteUserKey=function(e,t){var i=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/keys/"+e,hostType:"write",callback:t})},t.prototype.addUserKey=function(e,t,i){var n="Usage: index.addUserKey(arrayOfAcls[, params, callback])";if(!f(8)(e))throw new Error(n);1!==arguments.length&&"function"!=typeof t||(i=t,t=null);var r={acl:e};return t&&(r.validity=t.validity,r.maxQueriesPerIPPerHour=t.maxQueriesPerIPPerHour,r.maxHitsPerQuery=t.maxHitsPerQuery,r.description=t.description,t.queryParameters&&(r.queryParameters=this.as._getSearchParams(t.queryParameters,"")),r.referers=t.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:r,hostType:"write",callback:i})},t.prototype.addUserKeyWithValidity=r(function(e,t,i){return this.addUserKey(e,t,i)},o("index.addUserKeyWithValidity()","index.addUserKey()")),t.prototype.updateUserKey=function(e,t,i,n){var r="Usage: index.updateUserKey(key, arrayOfAcls[, params, callback])";if(!f(8)(t))throw new Error(r);2!==arguments.length&&"function"!=typeof i||(n=i,i=null);var o={acl:t};return i&&(o.validity=i.validity,o.maxQueriesPerIPPerHour=i.maxQueriesPerIPPerHour,o.maxHitsPerQuery=i.maxHitsPerQuery,o.description=i.description,i.queryParameters&&(o.queryParameters=this.as._getSearchParams(i.queryParameters,"")),o.referers=i.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+e,body:o,hostType:"write",callback:n})}},{17:17,18:18,25:25,26:26,27:27,28:28,29:29,30:30,31:31,7:7,8:8}],17:[function(e,t){"use strict";function i(){}t.exports=i,e(7)(i,e(4).EventEmitter),i.prototype.stop=function(){this._stopped=!0,this._clean()},i.prototype._end=function(){this.emit("end"),this._clean()},i.prototype._error=function(e){this.emit("error",e),this._clean()},i.prototype._result=function(e){this.emit("result",e)},i.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{4:4,7:7}],18:[function(c,e){function t(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}var i=c(24),n=c(26),r=c(27);(e.exports=t).prototype.clearCache=function(){this.cache={}},t.prototype.search=i("query"),t.prototype.similarSearch=i("similarQuery"),t.prototype.browse=function(e,t,i){var n,r,o=c(31),s=this;0===arguments.length||1===arguments.length&&"function"==typeof e?(i=e,e=void(n=0)):"number"==typeof e?(n=e,"number"==typeof t?r=t:"function"==typeof t&&(i=t,r=void 0),t=e=void 0):"object"==typeof e?("function"==typeof t&&(i=t),t=e,e=void 0):"string"==typeof e&&"function"==typeof t&&(i=t,t=void 0),t=o({},t||{},{page:n,hitsPerPage:r,query:e});var a=this.as._getSearchParams(t,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/browse?"+a,hostType:"read",callback:i})},t.prototype.browseFrom=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+encodeURIComponent(e),hostType:"read",callback:t})},t.prototype.searchForFacetValues=function(e,t){var i=c(25),n=c(32),r="Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])";if(void 0===e.facetName||void 0===e.facetQuery)throw new Error(r);var o=e.facetName,s=n(i(e),function(e){return"facetName"===e}),a=this.as._getSearchParams(s,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(o)+"/query",hostType:"read",body:{params:a},callback:t})},t.prototype.searchFacet=n(function(e,t){return this.searchForFacetValues(e,t)},r("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),t.prototype._search=function(e,t,i){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:i})},t.prototype.getObject=function(e,t,i){var n=this;1!==arguments.length&&"function"!=typeof t||(i=t,t=void 0);var r="";if(void 0!==t){r="?attributes=";for(var o=0;o<t.length;++o)0!==o&&(r+=","),r+=t[o]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e)+r,hostType:"read",callback:i})},t.prototype.getObjects=function(e,i,t){var n=c(8),r=c(30),o="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!n(e))throw new Error(o);var s=this;1!==arguments.length&&"function"!=typeof i||(t=i,i=void 0);var a={requests:r(e,function(e){var t={indexName:s.indexName,objectID:e};return i&&(t.attributesToRetrieve=i.join(",")),t})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:a,callback:t})},t.prototype.as=null,t.prototype.indexName=null,t.prototype.typeAheadArgs=null,t.prototype.typeAheadValueOption=null},{24:24,25:25,26:26,27:27,30:30,31:31,32:32,8:8}],19:[function(e,t){"use strict";var i=e(14),n=e(20);t.exports=n(i)},{14:14,20:20}],20:[function(u,e){(function(a){"use strict";var c=u(6),l=c.Promise||u(3).Promise;e.exports=function(e,t){function o(e,t,i){var n=u(25),r=u(21);return void 0===(i=n(i||{})).protocol&&(i.protocol=r()),i._ua=i._ua||o.ua,new s(e,t,i)}function s(){e.apply(this,arguments)}var i=u(7),_=u(28),g=u(22),r=u(23),n=u(33);t=t||"","debug"===a.env.NODE_ENV&&u(1).enable("algoliasearch*"),o.version=u(35),o.ua="Algolia for vanilla JavaScript "+t+o.version,o.initPlaces=n(o),c.__algolia={debug:u(1),algoliasearch:o};var v={hasXMLHttpRequest:"XMLHttpRequest"in c,hasXDomainRequest:"XDomainRequest"in c};return v.hasXMLHttpRequest&&(v.cors="withCredentials"in new XMLHttpRequest),i(s,e),s.prototype._request=function(f,p){return new l(function(t,i){function e(){if(!l){var e;clearTimeout(c);try{e={body:JSON.parse(h.responseText),responseText:h.responseText,statusCode:h.status,headers:h.getAllResponseHeaders&&h.getAllResponseHeaders()||{}}}catch(p){e=new _.UnparsableJSON({more:h.responseText})}e instanceof _.UnparsableJSON?i(e):t(e)}}function n(e){l||(clearTimeout(c),i(new _.Network({more:e})))}function r(){l=!0,h.abort(),i(new _.RequestTimeout)}function o(){d=!0,clearTimeout(c),c=setTimeout(r,p.timeouts.complete)}function s(){d||o()}function a(){!d&&1<h.readyState&&o()}if(v.cors||v.hasXDomainRequest){f=g(f,p.headers);var c,l,u=p.body,h=v.cors?new XMLHttpRequest:new XDomainRequest,d=!1;c=setTimeout(r,p.timeouts.connect),h.onprogress=s,"onreadystatechange"in h&&(h.onreadystatechange=a),h.onload=e,h.onerror=n,h instanceof XMLHttpRequest?h.open(p.method,f,!0):h.open(p.method,f),v.cors&&(u&&("POST"===p.method?h.setRequestHeader("content-type","application/x-www-form-urlencoded"):h.setRequestHeader("content-type","application/json")),h.setRequestHeader("accept","application/json")),h.send(u)}else i(new _.Network("CORS not supported"))})},s.prototype._request.fallback=function(e,t){return e=g(e,t.headers),new l(function(i,n){r(e,t,function(e,t){return e?void n(e):void i(t)})})},s.prototype._promise={reject:function(e){return l.reject(e)},resolve:function(e){return l.resolve(e)},delay:function(t){return new l(function(e){setTimeout(e,t)})}},o}}).call(this,u(12))},{1:1,12:12,21:21,22:22,23:23,25:25,28:28,3:3,33:33,35:35,6:6,7:7}],21:[function(e,t){"use strict";function i(){var e=window.document.location.protocol;return"http:"!==e&&"https:"!==e&&(e="http:"),e}t.exports=i},{}],22:[function(e,t){"use strict";function i(e,t){return(e+=/\?/.test(e)?"&":"?")+n(t)}t.exports=i;var n=e(13)},{13:13}],23:[function(e,t){"use strict";function i(e,t,i){function n(){t.debug("JSONP: success"),p||u||(p=!0,l||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),o(),i(new g.JSONPScriptFail)))}function r(){"loaded"!==this.readyState&&"complete"!==this.readyState||n()}function o(){clearTimeout(_),d.onload=null,d.onreadystatechange=null,d.onerror=null,h.removeChild(d)}function s(){try{delete window[f],delete window[f+"_loaded"]}catch(e){window[f]=window[f+"_loaded"]=void 0}}function a(){t.debug("JSONP: Script timeout"),u=!0,o(),i(new g.RequestTimeout)}function c(){t.debug("JSONP: Script error"),p||u||(o(),i(new g.JSONPScriptError))}if("GET"===t.method){t.debug("JSONP: start");var l=!1,u=!1;v+=1;var h=document.getElementsByTagName("head")[0],d=document.createElement("script"),f="algoliaJSONP_"+v,p=!1;window[f]=function(e){return s(),u?void t.debug("JSONP: Late answer, ignoring"):(l=!0,o(),void i(null,{body:e}))},e+="&callback="+f,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var _=setTimeout(a,t.timeouts.complete);d.onreadystatechange=r,d.onload=n,d.onerror=c,d.async=!0,d.defer=!0,d.src=e,h.appendChild(d)}else i(new Error("Method "+t.method+" "+e+" is not supported by JSONP."))}t.exports=i;var g=e(28),v=0},{28:28}],24:[function(e,t){function i(r,o){return function(e,t,i){if("function"==typeof e&&"object"==typeof t||"object"==typeof i)throw new s.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof e?(i=e,e=""):1!==arguments.length&&"function"!=typeof t||(i=t,t=void 0),"object"==typeof e&&null!==e?(t=e,e=void 0):null!=e||(e="");var n="";return void 0!==e&&(n+=r+"="+encodeURIComponent(e)),void 0!==t&&(n=this.as._getSearchParams(t,n)),this._search(n,o,i)}}t.exports=i;var s=e(28)},{28:28}],25:[function(e,t){t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],26:[function(e,t){t.exports=function(e,t){function i(){return n||(console.log(t),n=!0),e.apply(this,arguments)}var n=!1;return i}},{}],27:[function(e,t){t.exports=function(e,t){var i=e.toLowerCase().replace(".","").replace("()","");return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+i}},{}],28:[function(r,e){"use strict";function n(e,t){var i=r(5),n=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):n.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=e||"Unknown error",t&&i(t,function(e,t){n[t]=e})}function t(t,i){function e(){var e=Array.prototype.slice.call(arguments,0);"string"!=typeof e[0]&&e.unshift(i),n.apply(this,e),this.name="AlgoliaSearch"+t+"Error"}return o(e,n),e}var o=r(7);o(n,Error),e.exports={AlgoliaSearchError:n,UnparsableJSON:t("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:t("RequestTimeout","Request timedout before getting a response"),Network:t("Network","Network issue, see err.more for details"),JSONPScriptFail:t("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:t("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:t("Unknown","Unknown error occured")}},{5:5,7:7}],29:[function(e,t){t.exports=function(e,t){t(e,0)}},{}],30:[function(e,t){var o=e(5);t.exports=function(i,n){var r=[];return o(i,function(e,t){r.push(n(e,t,i))}),r}},{5:5}],31:[function(e,t){var n=e(5);t.exports=function r(i){var e=Array.prototype.slice.call(arguments);return n(e,function(e){for(var t in e)e.hasOwnProperty(t)&&("object"==typeof i[t]&&"object"==typeof e[t]?i[t]=r({},i[t],e[t]):void 0!==e[t]&&(i[t]=e[t]))}),i}},{5:5}],32:[function(o,e){e.exports=function(t,i){var e=o(10),n=o(5),r={};return n(e(t),function(e){!0!==i(e)&&(r[e]=t[e])}),r}},{10:10,5:5}],33:[function(s,e){function t(o){return function(e,t,i){var n=s(25);(i=i&&n(i)||{}).hosts=i.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof e&&void 0!==e||(t=e="",i._allowEmptyCredentials=!0);var r=o(e,t,i).initIndex("places");return r.search=a("query","/1/places/query"),r}}e.exports=t;var a=s(24)},{24:24,25:25}],34:[function(i,u){(function(n){function e(e,t){return 1===arguments.length?s.get(e):s.set(e,t)}function r(){try{return"localStorage"in n&&null!==n.localStorage&&!n.localStorage[c]&&(n.localStorage.setItem(c,JSON.stringify({})),!0)}catch(i){return!1}}function o(){try{n.localStorage.removeItem(c)}catch(i){}}var s,a=i(1)("algoliasearch:src/hostIndexState.js"),c="algoliasearch-client-js",l={state:{},set:function(e,t){return this.state[e]=t,this.state[e]},get:function(e){return this.state[e]||null}},t={set:function(e,t){try{var i=JSON.parse(n.localStorage[c]);return i[e]=t,n.localStorage[c]=JSON.stringify(i),i[e]}catch(r){return a("localStorage set failed with",r),o(),(s=l).set(e,t)}},get:function(e){return JSON.parse(n.localStorage[c])[e]||null}};s=r()?t:l,u.exports={get:e,set:e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],35:[function(e,t){"use strict";t.exports="3.20.3"},{}]},{},[19])(19)}),function(R){var O=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:R.isArray,isFunction:R.isFunction,isObject:R.isPlainObject,isUndefined:function(e){return void 0===e},toStr:function t(e){return O.isUndefined(e)||null===e?"":e+""},bind:R.proxy,each:function(e,i){function t(e,t){return i(t,e)}R.each(e,t)},map:R.map,filter:R.grep,every:function(i,n){var r=!0;return i?(R.each(i,function(e,t){if(!(r=n.call(null,t,e,i)))return!1}),!!r):r},some:function(i,n){var r=!1;return i?(R.each(i,function(e,t){if(r=n.call(null,t,e,i))return!1}),!!r):r},mixin:R.extend,getUniqueId:(e=0,function(){return e++}),templatify:function i(e){function t(){return String(e)}return R.isFunction(e)?e:t},defer:function(e){setTimeout(e,0)},debounce:function(r,o,s){var a,c;return function(){var e,t,i=this,n=arguments;return e=function(){a=null,s||(c=r.apply(i,n))},t=s&&!a,clearTimeout(a),a=setTimeout(e,o),t&&(c=r.apply(i,n)),c}},throttle:function(i,n){var r,o,s,a,c,l;return c=0,l=function(){c=new Date,s=null,a=i.apply(r,o)},function(){var e=new Date,t=n-(e-c);return r=this,o=arguments,t<=0?(clearTimeout(s),s=null,c=e,a=i.apply(r,o)):s||(s=setTimeout(l,t)),a}},noop:function(){}};var e}(),P={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},I=function(){"use strict";var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return O.isMsie()&&O.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),O.isMsie()&&O.isMsie()<=7&&O.mixin(e.input,{marginTop:"-1px"}),e}(),M=function(){"use strict";function e(e){e&&e.el||R.error("EventBus initialized without el"),this.$el=R(e.el)}var i="typeahead:";return O.mixin(e.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger(i+e,t)}}),e}(),k=function(){"use strict";function n(e,t,i,n){var r;if(!i)return this;for(t=t.split(c),i=n?a(i,n):i,this._callbacks=this._callbacks||{};r=t.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][e].push(i);return this}function e(e,t,i){return n.call(this,"async",e,t,i)}function t(e,t,i){return n.call(this,"sync",e,t,i)}function i(e){var t;if(!this._callbacks)return this;for(e=e.split(c);t=e.shift();)delete this._callbacks[t];return this}function r(e){var t,i,n,r,o;if(!this._callbacks)return this;for(e=e.split(c),n=[].slice.call(arguments,1);(t=e.shift())&&(i=this._callbacks[t]);)r=s(i.sync,this,[t].concat(n)),o=s(i.async,this,[t].concat(n)),r()&&l(o);return this}function s(n,r,o){function e(){for(var e,t=0,i=n.length;!e&&t<i;t+=1)e=!1===n[t].apply(r,o);return!e}return e}function o(){return window.setImmediate?function t(e){setImmediate(function(){e()})}:function i(e){setTimeout(function(){e()},0)}}function a(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var c=/\s+/,l=o();return{onSync:t,onAsync:e,off:i,trigger:r}}(),g=function(a){"use strict";function t(e,t,i){for(var n,r=[],o=0,s=e.length;o<s;o++)r.push(O.escapeRegExChars(e[o]));return n=i?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",t?new RegExp(n):new RegExp(n,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function n(r){function e(e){var t,i,n;return(t=s.exec(e.data))&&(n=a.createElement(r.tagName),r.className&&(n.className=r.className),(i=e.splitText(t.index)).splitText(t[0].length),n.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(n,i)),!!t}function o(e,t){for(var i,n=3,r=0;r<e.childNodes.length;r++)(i=e.childNodes[r]).nodeType===n?r+=t(i)?1:0:o(i,t)}var s;(r=O.mixin({},i,r)).node&&r.pattern&&(r.pattern=O.isArray(r.pattern)?r.pattern:[r.pattern],s=t(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,e))}}(window.document),j=function(){"use strict";function i(e){var t,i,n,r,o=this;(e=e||{}).input||R.error("input is missing"),t=O.bind(this._onBlur,this),i=O.bind(this._onFocus,this),n=O.bind(this._onKeydown,this),r=O.bind(this._onInput,this),this.$hint=R(e.hint),this.$input=R(e.input).on("blur.tt",t).on("focus.tt",i).on("keydown.tt",n),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=O.noop),O.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){a[e.which||e.keyCode]||O.defer(O.bind(o._onInput,o,e))}):this.$input.on("input.tt",r),this.query=this.$input.val(),this.$overflowHelper=s(this.$input)}function s(e){return R('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function n(e,t){return i.normalizeQuery(e)===i.normalizeQuery(t)}function o(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},O.mixin(i.prototype,k,{_onBlur:function e(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function t(){this.trigger("focused")},_onKeydown:function r(e){var t=a[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function c(){this._checkInputValue()},_managePreventDefault:function l(e,t){var i,n,r;switch(e){case"tab":n=this.getHint(),r=this.getInputValue(),i=n&&n!==r&&!o(t);break;case"up":case"down":i=!o(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function u(e,t){var i;switch(e){case"tab":i=!o(t);break;default:i=!0}return i},_checkInputValue:function h(){var e,t,i;i=!!(t=n(e=this.getInputValue(),this.query))&&this.query.length!==e.length,this.query=e,t?i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function d(){this.$input.focus()},blur:function f(){this.$input.blur()},getQuery:function p(){return this.query},setQuery:function _(e){this.query=e},getInputValue:function g(){return this.$input.val()},setInputValue:function v(e,t){this.$input.val(e),t?this.clearHint():this._checkInputValue()},resetInputValue:function m(){this.setInputValue(this.query,!0)},getHint:function y(){return this.$hint.val()},setHint:function b(e){this.$hint.val(e)},clearHint:function w(){this.setHint("")},clearHintIfInvalid:function C(){var e,t,i;i=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),!(""!==e&&i&&!this.hasOverflow())&&this.clearHint()},getLanguageDirection:function S(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function x(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,t,i;return e=this.$input.val().length,t=this.$input[0].selectionStart,O.isNumber(t)?t===e:!document.selection||((i=document.selection.createRange()).moveStart("character",-e),e===i.text.length)},destroy:function E(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),i}(),x=function(){"use strict";function e(e){(e=e||{}).templates=e.templates||{},e.source||R.error("missing source"),e.name&&!n(e.name)&&R.error("invalid dataset name: "+e.name),this.query=null,this.highlight=!!e.highlight,this.name=e.name||O.getUniqueId(),this.source=e.source,this.displayFn=t(e.display||e.displayKey),this.templates=i(e.templates,this.displayFn),this.$el=R(P.dataset.replace("%CLASS%",this.name))}function t(t){function e(e){return e[t]}return t=t||"value",O.isFunction(t)?t:e}function i(e,t){function i(e){return"<p>"+t(e)+"</p>"}return{empty:e.empty&&O.templatify(e.empty),header:e.header&&O.templatify(e.header),footer:e.footer&&O.templatify(e.footer),suggestion:e.suggestion||i}}function n(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var c="ttDataset",l="ttValue",u="ttDatum";return e.extractDatasetName=function r(e){return R(e).data(c)},e.extractValue=function o(e){return R(e).data(l)},e.extractDatum=function o(e){return R(e).data(u)},O.mixin(e.prototype,k,{_render:function h(n,r){function e(){return a.templates.empty({query:n,isEmpty:!0})}function t(){function e(e){var t;return(t=R(P.suggestion).append(a.templates.suggestion(e)).data(c,a.name).data(l,a.displayFn(e)).data(u,e)).children().each(function(){R(this).css(I.suggestionChild)}),t}var t,i;return t=R(P.suggestions).css(I.suggestions),i=O.map(r,e),t.append.apply(t,i),a.highlight&&g({className:"tt-highlight",node:t[0],pattern:n}),t}function i(){return a.templates.header({query:n,isEmpty:!s})}function o(){return a.templates.footer({query:n,isEmpty:!s})}if(this.$el){var s,a=this;this.$el.empty(),!(s=r&&r.length)&&this.templates.empty?this.$el.html(e()).prepend(a.templates.header?i():null).append(a.templates.footer?o():null):s&&this.$el.html(t()).prepend(a.templates.header?i():null).append(a.templates.footer?o():null),this.trigger("rendered")}},getRoot:function s(){return this.$el},update:function a(t){function e(e){i.canceled||t!==i.query||i._render(t,e)}var i=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function d(){this.canceled=!0},clear:function f(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function p(){return this.$el.is(":empty")},destroy:function _(){this.$el=null}}),e}(),H=function(){"use strict";function e(e){var t,i,n,r=this;(e=e||{}).menu||R.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=O.map(e.datasets,o),t=O.bind(this._onSuggestionClick,this),i=O.bind(this._onSuggestionMouseEnter,this),n=O.bind(this._onSuggestionMouseLeave,this),this.$menu=R(e.menu).on("click.tt",".tt-suggestion",t).on("mouseenter.tt",".tt-suggestion",i).on("mouseleave.tt",".tt-suggestion",n),O.each(this.datasets,function(e){r.$menu.append(e.getRoot()),e.onSync("rendered",r._onRendered,r)})}function o(e){return new x(e)}return O.mixin(e.prototype,k,{_onSuggestionClick:function t(e){this.trigger("suggestionClicked",R(e.currentTarget))},_onSuggestionMouseEnter:function i(e){this._removeCursor(),this._setCursor(R(e.currentTarget),!0)},_onSuggestionMouseLeave:function n(){this._removeCursor()},_onRendered:function r(){function e(e){return e.isEmpty()}this.isEmpty=O.every(this.datasets,e),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function s(){return this.$menu.find(".tt-suggestion")},_getCursor:function a(){return this.$menu.find(".tt-cursor").first()},_setCursor:function c(e,t){e.first().addClass("tt-cursor"),!t&&this.trigger("cursorMoved")},_removeCursor:function l(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function u(e){var t,i,n,r;this.isOpen&&(i=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),-1!==(n=((n=t.index(i)+e)+1)%(t.length+1)-1)?(n<-1&&(n=t.length-1),this._setCursor(r=t.eq(n)),this._ensureVisible(r)):this.trigger("cursorRemoved"))},_ensureVisible:function h(e){var t,i,n,r;i=(t=e.position().top)+e.outerHeight(!0),n=this.$menu.scrollTop(),r=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),t<0?this.$menu.scrollTop(n+t):r<i&&this.$menu.scrollTop(n+(i-r))},close:function d(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function f(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function p(e){this.$menu.css("ltr"===e?I.ltr:I.rtl)},moveCursorUp:function _(){this._moveCursor(-1)},moveCursorDown:function g(){this._moveCursor(1)},getDatumForSuggestion:function v(e){var t=null;return e.length&&(t={raw:x.extractDatum(e),value:x.extractValue(e),datasetName:x.extractDatasetName(e)}),t},getDatumForCursor:function m(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function y(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function b(t){function e(e){e.update(t)}O.each(this.datasets,e)},empty:function w(){function e(e){e.clear()}O.each(this.datasets,e),this.isEmpty=!0},isVisible:function C(){return this.isOpen&&!this.isEmpty},destroy:function S(){function e(e){e.destroy()}this.$menu.off(".tt"),this.$menu=null,O.each(this.datasets,e)}}),e}(),l=function(){"use strict";function e(e){var r,o,t;(e=e||{}).input||R.error("missing input"),this.isActivated=!1,this.autoselect=!!e.autoselect,this.minLength=O.isNumber(e.minLength)?e.minLength:1,this.$node=i(e.input,e.withHint),r=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),t=this.$node.find(".tt-hint"),o.on("blur.tt",function(e){var t,i,n;t=document.activeElement,i=r.is(t),n=0<r.has(t).length,O.isMsie()&&(i||n)&&(e.preventDefault(),e.stopImmediatePropagation(),O.defer(function(){o.focus()}))}),r.on("mousedown.tt",function(e){e.preventDefault()}),this.eventBus=e.eventBus||new M({el:o}),this.dropdown=new H({menu:r,datasets:e.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new j({input:o,hint:t}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(e,t){var i,n,r,o;i=R(e),n=R(P.wrapper).css(I.wrapper),r=R(P.dropdown).css(I.dropdown),(o=i.clone().css(I.hint).css(a(i))).val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.data(c,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(t?I.input:I.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(s){}return i.wrap(n).parent().prepend(t?o:null).append(r)}function a(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function t(e){var i=e.find(".tt-input");O.each(i.data(c),function(e,t){O.isUndefined(e)?i.removeAttr(t):i.attr(t,e)}),i.detach().removeData(c).removeClass("tt-input").insertAfter(e),e.remove()}var c="ttAttrs";return O.mixin(e.prototype,{_onSuggestionClicked:function n(e,t){var i;(i=this.dropdown.getDatumForSuggestion(t))&&this._select(i)},_onCursorMoved:function r(){var e=this.dropdown.getDatumForCursor();this.input.setInputValue(e.value,!0),this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function o(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function s(){this._updateHint()},_onOpened:function l(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function u(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function h(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function d(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function f(e,t){var i,n;i=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),i?(this._select(i),t.preventDefault()):this.autoselect&&n&&(
this._select(n),t.preventDefault())},_onTabKeyed:function p(e,t){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),t.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function _(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function g(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function v(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function m(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function y(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function b(e,t){this.input.clearHintIfInvalid(),t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function w(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function C(){var e;this.dir!==(e=this.input.getLanguageDirection())&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function S(){var e,t,i,n,r;(e=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(t=this.input.getInputValue(),i=j.normalizeQuery(t),n=O.escapeRegExChars(i),(r=new RegExp("^(?:"+n+")(.+$)","i").exec(e.value))?this.input.setHint(t+r[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function x(e){var t,i,n,r;t=this.input.getHint(),i=this.input.getQuery(),n=e||this.input.isCursorAtEnd(),t&&i!==t&&n&&((r=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.raw,r.datasetName))},_select:function E(e){this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",e.raw,e.datasetName),this.dropdown.close(),O.defer(O.bind(this.dropdown.empty,this.dropdown))},open:function k(){this.dropdown.open()},close:function T(){this.dropdown.close()},setVal:function A(e){e=O.toStr(e),this.isActivated?this.input.setInputValue(e):(this.input.setQuery(e),this.input.setInputValue(e,!0)),this._setLanguageDirection()},getVal:function L(){return this.input.getQuery()},destroy:function D(){this.input.destroy(),this.dropdown.destroy(),t(this.$node),this.$node=null}}),e}();!function(){"use strict";var e,r,i;e=R.fn.typeahead,r="ttTypeahead",i={initialize:function t(i,n){function e(){var e,t=R(this);O.each(n,function(e){e.highlight=!!i.highlight}),e=new l({input:t,eventBus:new M({el:t}),withHint:!!O.isUndefined(i.hint)||!!i.hint,minLength:i.minLength,autoselect:i.autoselect,datasets:n}),t.data(r,e)}return n=O.isArray(n)?n:[].slice.call(arguments,1),i=i||{},this.each(e)},open:function n(){function e(){var e;(e=R(this).data(r))&&e.open()}return this.each(e)},close:function o(){function e(){var e;(e=R(this).data(r))&&e.close()}return this.each(e)},val:function s(t){function e(){var e;(e=R(this).data(r))&&e.setVal(t)}function i(e){var t,i;return(t=e.data(r))&&(i=t.getVal()),i}return arguments.length?this.each(e):i(this.first())},destroy:function a(){function e(){var e,t=R(this);(e=t.data(r))&&(e.destroy(),t.removeData(r))}return this.each(e)}},R.fn.typeahead=function(e){var t;return i[e]&&"initialize"!==e?(t=this.filter(function(){return!!R(this).data(r)}),i[e].apply(t,[].slice.call(arguments,1))):i.initialize.apply(this,arguments)},R.fn.typeahead.noConflict=function c(){return R.fn.typeahead=e,this}}()}(window.jQuery),function(){var e,n=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function i(e,t){this.form_field=e,this.options=null!=t?t:{},this.label_click_handler=n(this.label_click_handler,this),i.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return i.prototype.set_default_values=function(){var t,i;return this.click_test_action=(t=this,function(e){return t.test_active_click(e)}),this.activate_action=(i=this,function(e){return i.activate_field(e)}),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},i.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||i.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||i.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||i.default_no_result_text},i.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+this.escape_html(e.group_label)+"</b>"+e.html:e.html},i.prototype.mouse_enter=function(){return this.mouse_on_container=!0},i.prototype.mouse_leave=function(){return this.mouse_on_container=!1},i.prototype.input_focus=function(){if(this.is_multiple){if(!this.active_field)return setTimeout((e=this,function(){return e.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field();var e},i.prototype.input_blur=function(){if(!this.mouse_on_container)return this.active_field=!1,setTimeout((e=this,function(){return e.blur_test()}),100);var e},i.prototype.label_click_handler=function(e){return this.is_multiple?this.container_mousedown(e):this.activate_field()},i.prototype.results_option_build=function(e){var t,i,n,r,o,s,a;for(t="",r=a=0,o=(s=this.results_data).length;r<o&&((n="")!==(n=(i=s[r]).group?this.result_add_group(i):this.result_add_option(i))&&(a++,t+=n),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(a>=this.max_shown_results));r++);return t},i.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(i=document.createElement("li")).className=t.join(" "),e.style&&(i.style.cssText=e.style),i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.highlighted_html||e.html,e.title&&(i.title=e.title),this.outerHTML(i)):""},i.prototype.result_add_group=function(e){var t,i;return(e.search_match||e.group_match)&&0<e.active_options?((t=[]).push("group-result"),e.classes&&t.push(e.classes),(i=document.createElement("li")).className=t.join(" "),i.innerHTML=e.highlighted_html||this.escape_html(e.label),e.title&&(i.title=e.title),this.outerHTML(i)):""},i.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},i.prototype.reset_single_select_options=function(){var e,t,i,n,r;for(r=[],e=0,t=(i=this.results_data).length;e<t;e++)(n=i[e]).selected?r.push(n.selected=!1):r.push(void 0);return r},i.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},i.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},i.prototype.winnow_results=function(e){var t,i,n,r,o,s,a,c,l,u,h,d,f,p,_;for(this.no_results_clear(),u=0,t=(a=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=this.get_search_regex(t),n=0,r=(c=this.results_data).length;n<r;n++)(o=c[n]).search_match=!1,d=h=null,o.highlighted_html="",this.include_option_in_results(o)&&(o.group&&(o.group_match=!1,o.active_options=0),null!=o.group_array_index&&this.results_data[o.group_array_index]&&(0===(h=this.results_data[o.group_array_index]).active_options&&h.search_match&&(u+=1),h.active_options+=1),_=o.group?o.label:o.text,o.group&&!this.group_search||(d=this.search_string_match(_,l),o.search_match=null!=d,o.search_match&&!o.group&&(u+=1),o.search_match?(a.length&&(f=d.index,s=_.slice(0,f),i=_.slice(f,f+a.length),p=_.slice(f+a.length),o.highlighted_html=this.escape_html(s)+"<em>"+this.escape_html(i)+"</em>"+this.escape_html(p)),null!=h&&(h.group_match=!0)):null!=o.group_array_index&&this.results_data[o.group_array_index].search_match&&(o.search_match=!0)));return this.result_clear_highlight(),u<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),(null!=e?e.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},i.prototype.get_search_regex=function(e){var t,i;return i=this.search_contains?e:"(^|\\s|\\b)"+e+"[^\\s]*",this.enable_split_word_search||this.search_contains||(i="^"+i),t=this.case_sensitive_search?"":"i",new RegExp(i,t)},i.prototype.search_string_match=function(e,t){var i;return i=t.exec(e),!this.search_contains&&(null!=i?i[1]:void 0)&&(i.index+=1),i},i.prototype.choices_count=function(){var e,t,i;if(null!=this.selected_option_count)return this.selected_option_count;for(e=this.selected_option_count=0,t=(i=this.form_field.options).length;e<t;e++)i[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},i.prototype.choices_click=function(e){if(e.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},i.prototype.keydown_checker=function(e){var t,i;switch(i=null!=(t=e.which)?t:e.keyCode,this.search_field_scale(),8!==i&&this.pending_backstroke&&this.clear_backstroke(),i){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.keyup_checker=function(e){var t,i;switch(i=null!=(t=e.which)?t:e.keyCode,this.search_field_scale(),i){case 8:this.is_multiple&&this.backstroke_length<1&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:e.preventDefault(),this.results_showing&&this.result_select(e);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},i.prototype.clipboard_event_checker=function(){var e;if(!this.is_disabled)return setTimeout((e=this,function(){return e.results_search()}),50)},i.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},i.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},i.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},i.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},i.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},i.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:((t=document.createElement("div")).appendChild(e),t.innerHTML)},i.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},i.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},i.prototype.get_no_results_html=function(e){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(e)+"</span>\n</li>"},i.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},i.default_multiple_text="Select Some Options",i.default_single_text="Select an Option",i.default_no_result_text="No results match",i}(),window.AbstractChosen=e}.call(this),function(){var s;(s=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,r,o,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),s=[],i=0,n=(o=e.childNodes).length;i<n;i++)r=o[i],s.push(this.add_option(r,t,e.disabled));return s},e.prototype.add_option=function(e,t,i){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:!0===i?i:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e}()).select_to_array=function(e){var t,i,n,r,o;for(r=new s,i=0,n=(o=e.childNodes).length;i<n;i++)t=o[i],r.add_node(t);return r.parsed},window.SelectParser=s}.call(this),function(){var a,n,i=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty;(a=jQuery).fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var e,t;t=(e=a(this)).data("chosen"),"destroy"!==i?t instanceof n||e.data("chosen",new n(this,i)):t instanceof n&&t.destroy()}):this}}),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},t.prototype.set_up_html=function(){var e,t;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),t={"class":e.join(" "),title:this.form_field.title},this.form_field.id.length&&(t.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",t),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},t.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},t.prototype.register_observers=function(){var t,i,n,r,o,s,a,c,l,u,h,d,f,p,_,g,v,m,y,b,w,C,S,x;return this.container.on("touchstart.chosen",(t=this,function(e){t.container_mousedown(e)})),this.container.on("touchend.chosen",(i=this,function(e){i.container_mouseup(e)})),this.container.on("mousedown.chosen",(n=this,function(e){n.container_mousedown(e)})),this.container.on("mouseup.chosen",(r=this,function(e){r.container_mouseup(e)})),this.container.on("mouseenter.chosen",(o=this,function(e){o.mouse_enter(e)})),this.container.on("mouseleave.chosen",(s=this,function(e){s.mouse_leave(e)})),this.search_results.on("mouseup.chosen",(a=this,function(e){a.search_results_mouseup(e)})),this.search_results.on("mouseover.chosen",(c=this,function(e){c.search_results_mouseover(e)})),this.search_results.on("mouseout.chosen",(l=this,function(e){l.search_results_mouseout(e)})),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",(u=this,function(e){u.search_results_mousewheel(e)})),this.search_results.on("touchstart.chosen",(h=this,function(e){h.search_results_touchstart(e)})),this.search_results.on("touchmove.chosen",(d=this,function(e){d.search_results_touchmove(e)})),this.search_results.on("touchend.chosen",(f=this,function(e){f.search_results_touchend(e)})),this.form_field_jq.on("chosen:updated.chosen",(p=this,function(e){p.results_update_field(e)})),this.form_field_jq.on("chosen:activate.chosen",(_=this,function(e){_.activate_field(e)})),this.form_field_jq.on("chosen:open.chosen",(g=this,function(e){g.container_mousedown(e)})),this.form_field_jq.on("chosen:close.chosen",(v=this,function(e){v.close_field(e)})),this.search_field.on("blur.chosen",(m=this,function(e){m.input_blur(e)})),this.search_field.on("keyup.chosen",(y=this,function(e){y.keyup_checker(e)})),this.search_field.on("keydown.chosen",(b=this,function(e){b.keydown_checker(e)})),this.search_field.on("focus.chosen",(w=this,function(e){w.input_focus(e)})),this.search_field.on("cut.chosen",(C=this,function(e){C.clipboard_event_checker(e)})),this.search_field.on("paste.chosen",(S=this,function(e){S.clipboard_event_checker(e)})),this.is_multiple?this.search_choices.on("click.chosen",(x=this,function(e){x.choices_click(e)})):this.container.on("click.chosen",function(e){e.preventDefault()})},t.prototype.destroy=function(){return a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),0<this.form_field_label.length&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},t.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},t.prototype.container_mousedown=function(e){var t;if(!this.is_disabled)return!e||"mousedown"!==(t=e.type)&&"touchstart"!==t||this.results_showing||e.preventDefault(),null!=e&&a(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||a(e.target)[0]!==this.selected_item[0]&&!a(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},t.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},t.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},t.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},t.prototype.close_field=function(){return a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},t.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},t.prototype.test_active_click=function(e){var t;return(t=a(e.target).closest(".chosen-container")).length&&this.container[0]===t[0]?this.active_field=!0:this.close_field()},t.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},t.prototype.result_do_highlight=function(e){var t,i,n,r;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),(n=parseInt(this.search_results.css("maxHeight"),10))+(r=this.search_results.scrollTop())<=(t=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<t-n?t-n:0);if(i<r)return this.search_results.scrollTop(i)}},t.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},t.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},t.prototype.update_results_content=function(e){return this.search_results.html(e)},t.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},t.prototype.set_tab_index=function(){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},t.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.on("click.chosen",this.label_click_handler)},t.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},t.prototype.search_results_mouseup=function(e){var t;if((t=a(e.target).hasClass("active-result")?a(e.target):a(e.target).parents(".active-result").first()).length)return this.result_highlight=t,this.result_select(e),this.search_field.focus()},t.prototype.search_results_mouseover=function(e){var t;if(t=a(e.target).hasClass("active-result")?a(e.target):a(e.target).parents(".active-result").first())return this.result_do_highlight(t)},t.prototype.search_results_mouseout=function(e){if(a(e.target).hasClass("active-result")||a(e.target).parents(".active-result").first())return this.result_clear_highlight()},t.prototype.choice_build=function(e){var t,i,n;return t=a("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?t.addClass("search-choice-disabled"):((i=a("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index})).on("click.chosen",(n=this,function(e){return n.choice_destroy_link_click(e)})),t.append(i)),this.search_container.before(t)},t.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(a(e.target))},t.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.get_search_field_value().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},t.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},t.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},t.prototype.result_select=function(e){var t,i;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),(i=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),this.is_multiple&&(!this.hide_results_on_select||e.metaKey||e.ctrlKey)?e.metaKey||e.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())},t.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},t.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},t.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},t.prototype.get_search_field_value=function(){return this.search_field.val()},t.prototype.get_search_text=function(){return a.trim(this.get_search_field_value())},t.prototype.escape_html=function(e){return a("<div/>").text(e).html()},t.prototype.winnow_results_set_highlight=function(){var e,t;if(null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},t.prototype.no_results=function(e){var t;return t=this.get_no_results_html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},t.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},t.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},t.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},t.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},t.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},t.prototype.search_field_scale=function(){var e,t,i,n,r,o,s;if(this.is_multiple){for(r={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},t=0,i=(o=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;t<i;t++)r[n=o[t]]=this.search_field.css(n);return(e=a("<div />").css(r)).text(this.get_search_field_value()),a("body").append(e),s=e.width()+25,e.remove(),this.container.is(":visible")&&(s=Math.min(this.container.outerWidth()-10,s)),this.search_field.width(s)}},t.prototype.trigger_form_field_change=function(e){return this.form_field_jq.trigger("input",e),this.form_field_jq.trigger("change",e)},t}(AbstractChosen)}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(d){function i(){if(!d.contains(document.documentElement,this))return d(this).timeago("dispose"),this;var e=n(this),t=s.settings;return isNaN(e.datetime)||(0==t.cutoff||Math.abs(o(e.datetime))<t.cutoff)&&d(this).text(r(e.datetime)),this}function n(e){if(!(e=d(e)).data("timeago")){e.data("timeago",{datetime:s.datetime(e)});var t=d.trim(e.text());s.settings.localeTitle?e.attr("title",e.data("timeago"
).datetime.toLocaleString()):!(0<t.length)||s.isTime(e)&&e.attr("title")||e.attr("title",t)}return e.data("timeago")}function r(e){return s.inWords(o(e))}function o(e){return(new Date).getTime()-e.getTime()}d.timeago=function(e){return e instanceof Date?r(e):r("string"==typeof e?d.timeago.parse(e):"number"==typeof e?new Date(e):d.timeago.datetime(e))};var s=d.timeago;d.extend(d.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(r){function e(e,t){var i=d.isFunction(e)?e(t,r):e,n=o.numbers&&o.numbers[t]||t;return i.replace(/%d/i,n)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var o=this.settings.strings,t=o.prefixAgo,i=o.suffixAgo;if(this.settings.allowFuture&&r<0&&(t=o.prefixFromNow,i=o.suffixFromNow),!this.settings.allowPast&&0<=r)return this.settings.strings.inPast;var n=Math.abs(r)/1e3,s=n/60,a=s/60,c=a/24,l=c/365,u=n<45&&e(o.seconds,Math.round(n))||n<90&&e(o.minute,1)||s<45&&e(o.minutes,Math.round(s))||s<90&&e(o.hour,1)||a<24&&e(o.hours,Math.round(a))||a<42&&e(o.day,1)||c<30&&e(o.days,Math.round(c))||c<45&&e(o.month,1)||c<365&&e(o.months,Math.round(c/30))||l<1.5&&e(o.year,1)||e(o.years,Math.round(l)),h=o.wordSeparator||"";return o.wordSeparator===undefined&&(h=" "),d.trim([t,u,i].join(h))},parse:function(e){var t=d.trim(e);return t=(t=(t=(t=(t=t.replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2")).replace(/([\+\-]\d\d)$/," $100"),new Date(t)},datetime:function(e){var t=s.isTime(e)?d(e).attr("datetime"):d(e).attr("title");return s.parse(t)},isTime:function(e){return"time"===d(e).get(0).tagName.toLowerCase()}});var a={init:function(){var e=d.proxy(i,this);e();var t=s.settings;0<t.refreshMillis&&(this._timeagoInterval=setInterval(e,t.refreshMillis))},update:function(e){var t=s.parse(e);d(this).data("timeago",{datetime:t}),s.settings.localeTitle&&d(this).attr("title",t.toLocaleString()),i.apply(this)},updateFromDOM:function(){d(this).data("timeago",{datetime:s.parse(s.isTime(this)?d(this).attr("datetime"):d(this).attr("title"))}),i.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};d.fn.timeago=function(e,t){var i=e?a[e]:a.init;if(!i)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){i.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")}),$(function(){window.content_filter=new function(){var a=this;a.init=function(e){jQuery.timeago.settings.allowFuture=!0,a.$base=$(e),a.INDEX_NAME_PATTERN="_community_consolidated",a.CONFIG_FIELDS=["type","tag_id","subtype","user","language","primary_filter","secondary_filter"],a.LOCKABLE_CONFIG_FIELDS=["type","tag_id","user"],a.LOCKED_CONFIG_FIELDS=[],a.is_user_search=!1,a.algolia=window.algoliasearch(window.comApp.algolia_application_id,window.comApp.algolia_api_key),a.$search_input=a.$base.find(".content-filter__query-input"),a.$content_filter_container=a.$base,a.$feedable_list=a.$base.find(".feedable-list:not(.static)").first(),a.$results_count=a.$base.find('*[data-js="results-count"]'),a.$no_results=a.$base.find('*[data-js="no-results"]'),a.$no_query=a.$base.find('*[data-js="no-query"]'),a.$results_descriptor=a.$base.find('*[data-js="results-descriptor"]'),a.$filter_bar=a.$base.find('*[data-js="filter-bar"]'),a.$filter_bar_selects=a.$filter_bar.find("select"),a.$filter_objects=a.$base.find('*[data-js="filter-objects"]'),a.feedable_template=window.Hogan.compile(a.$base.find('script[data-js="feedable-template"]').text()),a.$load_more_results_container=a.$base.find(".load-more-results-container"),a.$load_more_results=a.$base.find(".load-more-results"),a.default_primary_filter="results",a.$subtype_filterbar=a.$base.find('nav[data-js="responsive-navbar"]');var t=window.location.search.substr(1),i={},n={disable_search:!0,width:"auto"};t&&t.split("&").forEach(function(e){var t=e.split("=");i[t[0]]=t[1].replace(/\+/g," ")});a.CONFIG_FIELDS.map(function(e){a.get_config(e)&&-1<a.LOCKABLE_CONFIG_FIELDS.indexOf(e)?a.LOCKED_CONFIG_FIELDS.push(e):(i[e]&&i[e]!==a.set_config(e)&&a.set_config(e,i[e]),a.$filter_bar.find("#"+e).chosen("primary_filter"===e||"secondary_filter"===e?$.extend(n,{width:"135px"}):n).val(a.get_config(e)).trigger("chosen:updated").on("change",function(){if("language"===this.id){var e=window.currentUser.getData(),t="";e&&(t=t+"_"+e.data.id),Cookies.set("session_preferred_language"+t,this.value)}a.set_config(this.id,this.value),a.search()}))}),a.get_config("search_input")&&(a.$search_input=$(a.get_config("search_input"))),-1<a.LOCKED_CONFIG_FIELDS.indexOf("user")&&(a.is_user_search=!0,a.INDEX_NAME_PATTERN="_community_all"),a.$search_input.on("keyup paste input",a.search),$(a.$subtype_filterbar).on("click","a",function(e){e.preventDefault();var t=$(e.target).data("subtype");a.set_config("subtype",t),a.set_config("page_number",0),a.search()}),a.$load_more_results.click(function(){var e=parseInt(a.get_config("page_number"));a.set_config("page_number",e+1),a.set_config("load_new_page","true"),a.search()}),a.post_process_results()},a.set_config=function(e,t){a.$content_filter_container.data(e,t),"subtype"===e&&a.$subtype_filterbar.find("a").each(function(){$(this).removeClass("active")}).end().find('a[data-subtype="'+t+'"]').addClass("active")},a.get_config=function(e){var t=a.$content_filter_container.data(e);return"type"===e&&"tutorial_series"===a.get_config("primary_filter")?"tutorial_series":""!==t&&t},a.index_name=function(){return $("body").data("env")+a.INDEX_NAME_PATTERN},a.index=function(){var e=a.index_name();return"newest"===a.get_config("primary_filter")&&(e+="_newest"),a.algolia.initIndex(e)},a.show_no_results=function(){a.$no_results.removeClass("hidden"),a.$no_query.length&&a.$no_query.addClass("hidden"),a.$feedable_list.addClass("hidden")},a.show_no_query=function(){a.$no_results.addClass("hidden"),a.$no_query.length&&a.$no_query.removeClass("hidden"),a.$feedable_list.addClass("hidden")},a.show_feedable_results=function(){a.$no_results.addClass("hidden"),a.$no_query.length&&a.$no_query.addClass("hidden"),a.$feedable_list.removeClass("hidden")},a.search=function(){if(!a.$no_query.length||a.$search_input.val()){var e=a.search_options();a.update_url(),a.update_feed_filter(),a.index().search(e.query,e.params,a.algolia_callback)}else a.show_no_query()},a.search_options=function(){var e=a.$search_input.val(),t={page:parseInt(a.get_config("page_number")),hitsPerPage:a.get_config("hits_per_page"),facetFilters:[],numericFilters:[]};a.get_config("language")&&"all"!==a.get_config("language")&&t.facetFilters.push(["feedable_language:"+a.get_config("language")]);for(var i,n=/\[([^\]]+)\]/g,r=e;null!==(i=n.exec(e));)t.facetFilters.push("published_tag_list:"+i[1]),r=r.replace(i[0],"");a.get_config("type")&&t.facetFilters.push("item_type:"+a.get_config("type")),a.get_config("tag_id")&&t.facetFilters.push("tag_id_list:"+a.get_config("tag_id")),a.get_config("subtype")&&"all"!==a.get_config("subtype")&&t.facetFilters.push("item_subtype:"+a.get_config("subtype")),a.get_config("user")&&t.facetFilters.push(["item_owners:"+a.get_config("user"),"item_editors:"+a.get_config("user")]),"unanswered"===a.get_config("primary_filter")&&t.numericFilters.push("indexed_answers_count=0"),"unanswered"===a.get_config("secondary_filter")&&t.numericFilters.push("indexed_answers_count=0"),"answered"===a.get_config("secondary_filter")&&t.numericFilters.push("indexed_answers_count>0");var o=a.get_config("is_digitalocean");o!==undefined&&t.numericFilters.push("is_digitalocean="+o);var s=a.get_config("is_featured");return s!==undefined&&t.numericFilters.push("is_featured="+s),{params:t,query:r}},a.algolia_callback=function(e,t){if(e){a.$results_count.removeClass("hidden").text("0"),a.$no_results.removeClass("hidden");var i=a.$no_results.find(".search-query");i&&i.text(a.$search_input.val())}else{t.site_prefix=$("body").attr("data-prefix"),t.card_view=a.$filter_objects.hasClass("card")||a.$filter_objects.hasClass("large_card"),t.suggestions_view=!!a.get_config("search_input");var n=parseInt(a.get_config("user"),10);a.is_user_search&&$.each(t.hits,function(e,t){-1<t.item_editors.indexOf(n)&&(t.role="Edited"),-1<t.item_owners.indexOf(n)&&(t.role="Published")});var r=a.feedable_template.render(t);a.update_results_count(t.nbHits),a.set_results(t,r),a.post_process_results(),a.update_load_more_button()}},a.post_process_results=function(){a.$feedable_list.find(".timeago").timeago(),a.$feedable_list.find(".tag").click(function(){return a.$search_input.val(a.$search_input.val()+" ["+$(this).data("tag")+"]"),a.search(),$(document).scrollTop()>a.$base.offset().top-100&&$("html, body").animate({scrollTop:a.$base.offset().top-100}),!1}),a.$feedable_list.find(".dismiss").click(function(){return $(this).parents("li").remove(),a.$feedable_list.find("li").length||a.show_no_results(),!1})},a.update_results_count=function(e){if(a.set_config("results_count",e),a.$results_descriptor.text(a.get_config("descriptor")),a.$results_count.text(e),0<e)a.show_feedable_results();else{a.show_no_results();var t=a.$no_results.find(".search-query");t&&t.text(a.$search_input.val())}},a.set_results=function(e,t){"true"===a.get_config("load_new_page")?(a.$feedable_list.append(t),a.set_config("load_new_page","")):(a.$feedable_list.html(t),a.set_config("page_number",e.page))},a.update_load_more_button=function(){a.$load_more_results_container.removeClass("hidden"),20*(parseInt(a.get_config("page_number"))+1)>=parseInt(a.get_config("results_count"))&&a.$load_more_results_container.addClass("hidden")},a.update_url=function(){if(!a.get_config("search_input")){var t={};a.CONFIG_FIELDS.map(function(e){-1===a.LOCKED_CONFIG_FIELDS.indexOf(e)&&a.get_config(e)&&a.get_config(e)!==a.$content_filter_container.data(e+"_default")&&(t[e]=a.$content_filter_container.data(e))});var e=a.$search_input.val();e.length&&(t.q=e);var i=$.param(t);i=i.length?"?"+i:window.location.pathname,window.history.replaceState(t,document.title,i),$("body").hasClass("search")&&(document.title=a.$search_input.val()+" | DigitalOcean Community Search")}},a.update_feed_filter=function(){}},$('*[data-js="feed_container"]').each(function(){window.content_filter.init($(this))})}),$(function(){window.isElementInViewport=function(e){e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}}),$(function(){window.disable_forms=function(){$(".disabled-form").find("input, select, textarea, button").attr("disabled","disabled")},window.disable_forms(),window.init_autosize=function(){$("textarea:not([data-autosize='false'])").autosize({resizeDelay:!1})},window.init_autosize(),$(".responsive-table").table(),window.click_to_load=function(){$("a.js-click-on-load").trigger("click"),$("a.js-click-on-load").removeClass("js-click-on-load")},$("body").on("click","a.spam-all",function(){return!0===confirm("Are you sure?")&&(!0===confirm("Are you sure you want to spam ALL posts from this user?")&&void 0)}),$("#sign-in-modal").on("dialog.open",function(e){var t=$(e.relatedTarget),i=$(this).find(".horizontal-buttons a"),s=t.data("return-url");i.each(function(e,t){var i=$(t),n=i.data("default-url");if(s!==undefined&&null!==s&&s.length){var r=0<n.indexOf("?")?"&":"?",o=n+r+"origin="+encodeURIComponent(s);i.attr("href",o)}else i.attr("href",n)})})}),function(){var r,o="",e={initData:function(e){r=e},getData:function(){return r||null},getPreference:function(e){if(r)return r.data.attributes.preferences[e]},updatePreference:function(e,t){if(!r)return $.Deferred().reject(new Error("No current user data"));var i={};i[e]=t;var n=$.ajax(o+"/api/users/"+r.data.id,{method:"PATCH",data:{data:{attributes:{preferences:i}}}});return n.then(function(e){r=e}),n}};window.currentUser=e,$(function(){o=$(document.body).attr("data-prefix")})}(),function(i){function t(t){t.click(function(e){(e.target==t.get(0)||e.target.classList.contains("close-btn"))&&n(t)}).removeClass("hidden"),i("body").on("keyup.dialog_exit",function(e){"Escape"===e.key&&n(t)}),t.trigger("dialog.open")}function n(e){e.addClass("hidden"),i("body").off("keyup.dialog_exit"),e.trigger("dialog.close")}i.fn.dialog=function(e){return this.attr("role")&&"dialog"===this.attr("role").toLowerCase()&&(e?("open"===e&&t(this),"close"===e&&n(this)):this.hasClass("hidden")?t(this):n(this)),this}}(jQuery),$(function(){$("body").on("click",'[data-toggle="dialog"]',function(){$($(this).data("target")).dialog()});var e=(window.location.hash||"").match(/^#dialog=(.+)$/);e&&$(e[1]).dialog()}),$(function(){$(document).on("click","a[data-reveal]",function(e){e.preventDefault();var t=$(this),i=$(t.attr("href"));i.is(":visible")?i.slideUp("fast"):i.length&&i.removeClass("hidden").hide().slideDown(t.data("reveal"),function(){t.data("hide")&&t.hide(),t.trigger("reveal:revealed"),t.data("scroll")&&!window.isElementInViewport(i)&&$("html, body").animate({scrollTop:i.offset().top-100},100)})})}),$(function(){$(document).on("click",".flash .icon-close",function(){$(this).parents(".flash").slideUp(400)})}),function(){function e(e){return['<svg class="svg-icon svg-icon-',e,'"><use xlink:href="',window.comApp.svgIconPath,"#icon-",e,'"></use></svg>'].join("")}window.comApp.svgIcon=e}(),$(function(){var n=$('[data-js="rsvp-button"]');n.length&&$.getScript("https://anchor.digitalocean.com/js/forms2/js/forms2.min.js",function(e,t,i){200===i.status&&MktoForms2&&n.each(function(){var t=$(this).data("form_id");$("#dialog_"+t).length||($("body").append("<div id='dialog_${form_id}' role='dialog'                                aria-labelledby='dialog_label_${form_id}' aria-modal='true' class='hidden'>                                <div class='mini-dialog-panel'><div class='dialog-header'><span class='close-btn'>&times;</span>                                <span class='dialog-title' id='dialog_label_${form_id}'>Registration Form</span></div>                                <div class='dialog-body'><form id='mktoForm_${form_id}''></form></div></div></div>".replace(/\$\{form_id\}/g,t)),MktoForms2.loadForm("//anchor.digitalocean.com","113-DTN-266",parseInt(t,10),function(e){e&&(e.onSuccess(function(){return $("#dialog_"+t).find(".dialog-body").addClass("text-center").html("<h1 class='dialog-title'>Thank you for registering</h1>                          <p class='dialog-subtitle'>You should receive email confirmation of your registration soon.</p>                          <a class='button gray-button close-btn'>Close</a>"),!1}),$('[data-form_id="'+t+'"]').removeClass("hidden"),$("#mktoForm_"+t).find(".mktoButton").removeClass("mktoButton").addClass("button blue-button"),window.location.hash==="#dialog=#dialog_"+t&&$("#dialog_"+t).dialog())}))})})}),$(function(){var e=$(".navbar"),t=$(".moderation-nav"),i=$("body");e.on("focusin focusout",'*[aria-haspopup="true"]',function(){var e=$(this).find("*[aria-expanded]"),t="true"===e.attr("aria-expanded");e.attr("aria-expanded",!t)}).on("mousedown",".expander",function(){if("true"===$(this).parent().find("*[aria-expanded]").attr("aria-expanded"))return $(document.activeElement).blur(),!1}),e.find('*[data-js="modal_toggle"]').click(function(){i.toggleClass($(this).attr("data-body-class"))}),t.find("li:last-child").click(function(){$(this).parent().toggleClass("open")}),e.find('a[data-activatable="true"]').each(function(){-1<window.location.pathname.indexOf($(this).attr("href"))&&$(this).addClass("active")});var r=$('nav[data-js="responsive-navbar"]'),n=function(){u.each(function(){$(this).removeAttr("aria-hidden")});var t=d.outerWidth()+a.outerWidth(),i=[],n=o.outerWidth();s.each(function(e){n>=t+$(this).outerWidth()?t+=$(this).outerWidth():($(this).attr("aria-hidden",!0),i.push(e))}),i.length?l.each(function(e){i.includes(e)||$(this).attr("aria-hidden",!0)}):(h.attr("aria-hidden",!0),r.removeClass("--show-secondary"),d.attr("aria-expanded",!1))};if(r){var o=r.find(".primary"),s=o.find("li:not(.exclude)"),a=o.find("#content_filter_search"),c=r.find(".secondary");s.each(function(){$(this).clone().appendTo(c)});var l=c.find("li"),u=r.find("li"),h=r.find('*[data-js="responsive-submenu"]'),d=h.find(".mini");n(),$(window).on("throttledresize",n)}}),function(){var e,i,t,s,n,a,c,r,o,l,u,h,d,f,p,_,g,v,m,y,b,w,C,S,x,E,k,T,A,L,D,R,O=function(e,t){return function(){return e.apply(t,arguments)}},P=[].slice;i=o=!1,n="superclamp:done",h="superclamp:update",r="superclamp:instance",l="superclamp-ready",t="superclamp:dimensions",s="superclamp:distanceToBottomRight",a="superclamp:fragmentNodes",c="superclamp:fragmentValues",e=".clamp-ellipsis.is-not-required {\n  visibility: hidden !important;\n}\n.clamp-hidden {\n  display: none !important;\n}",u=function(){function o(e){var t;this.element=e,this._clampNode=O(this._clampNode,this),this._checkFit=O(this._checkFit,this),this._unchanged=O(this._unchanged,this),this._distanceToBottomRight=O(this._distanceToBottomRight,this),this._getEllipsisAt=O(this._getEllipsisAt,this),this._clampThis=O(this._clampThis,this),this._storeDistance=O(this._storeDistance,this),this._updateElementAt=O(this._updateElementAt,this),this._updateEllipsisSize=O(this._updateEllipsisSize,this),d("initialize",this.element),t=document.createTextNode(" "),this.ellipsis=document.createElement("span"),this.ellipsis.classList.add("clamp-ellipsis"),this.ellipsis.innerText="\u2026",this.element.appendChild(t),this.element.appendChild(this.ellipsis),(this.element[r]=this).element.setAttribute(l,!0)}return o.register=function(e){var t,i,n;for(d(".register",e),t=0,i=e.length;t<i;t++)n=e[t],this.clamp(n);p()},o.clamp=function(e){d(".clamp",e),(e[r]||new o(e)).clamp()},o.reclampAll=function(e){var t,i,n,r;for((null==e||null!=e.currentTarget)&&(e=document),i=0,n=(r=e.querySelectorAll("["+l+"]")).length;i<n;i++)t=r[i],o.clamp(t);return p(),e},o.prototype.clamp=function(){var e;k("query",(e=this,function(){return e._updateEllipsisSize(),e._updateElementAt(),e._unchanged()?d("unchanged",e.element):e._clampThis()}))},o.prototype._updateEllipsisSize=function(){return L(this.ellipsis)},o.prototype._updateElementAt=function(){return this.elementAt=y(this.element)},o.prototype._storeDistance=function(){var e;return e=this._distanceToBottomRight(),d("storing distance",e),this.ellipsis[s]=e},o.prototype._clampThis=function(){return E("_clampThis",this.element),this._clampNode(this.element,(t=this,function(e){return t._storeDistance(),k("layout",function(){return e?t.ellipsis.classList.add("is-not-required"):t.ellipsis.classList.remove("is-not-required"),R(t.element,n)})}));var t},o.prototype._getEllipsisAt=function(){return b(this.ellipsis)},o.prototype._distanceToBottomRight=function(){var e;return e=this._getEllipsisAt(),[this.elementAt.right-e.right,this.elementAt.bottom-e.bottom]},o.prototype._unchanged=function(){var e,t,i,n,r,o;return null!=(o=this.ellipsis[s])&&(e=o[0],i=o[1],t=(r=this._distanceToBottomRight())[0],n=r[1],d("_unchanged: %o == %o && %o == %o",e,t,i,n),e===t&&i===n)},o.prototype._checkFit=function(i){return k("query",(n=this,function(){var e,t;return e=(t=n._getEllipsisAt()).bottom<=n.elementAt.bottom&&t.right<=n.elementAt.right,d("checkFit: %o (bottom: %o <= %o, right: %o <= %o)",e,t.bottom,n.elementAt.bottom,t.right,n.elementAt.right),i(e)}));var n},o.prototype._clampNode=function(s,a,t){var c,l,i,u;return null==t&&(t=!0),u=this,c=function(n,r,o){return k("query",function(){var t,e,i;return d("findBestFit #contents: %o, nodeName: %o, prefix: %o",n,s.nodeName,r),0===n.length?a(o):1===n.length?l?(s.nodeValue=r+n[0],u._checkFit(function(e){return k("layout",function(){return e?a(o):(s.nodeValue=r.replace(RegExp(" $"),""),a(!1))})})):u._clampNode(n[0],a,o):(e=Math.floor(n.length/2),t=n.slice(0,e),i=n.slice(e),d("findBestFit head: %o, tail: %o",t,i),l?s.nodeValue=r+t.join(" "):(A(t),C(i)),u._checkFit(function(e){return k("layout",function(){return e?(d("fits"),c(i,l?s.nodeValue+" ":"",o)):(d("wont fit"),c(t,r,!1))})}))})},l="#text"===s.nodeName,k("layout",(i=this,function(){var e;return l?(S(s),c(m(s),"",t)):"#comment"!==s.nodeName?(A([s]),e=_(s),s===i.element&&(e=Array.prototype.slice.call(e,0,-2)),c(e,"",t)):void 0}))},o}(),x={layout:[],query:[]},k=function(e,t){x[e].push(t)},f=function(e){var t,i;if(0===(i=x[e]).length)return!0;for(d("draining",e);t=i.shift();)t();return!1},p=function(){for(var e,t;!e||!t;)e=f("layout"),t=f("query")},d=function(){var e,t;return e=1<=arguments.length?P.call(arguments,0):[],i&&null!=(t=window.console)&&"function"==typeof t.debug?t.debug.apply(t,e):void 0},E=function(){var e,t;return e=1<=arguments.length?P.call(arguments,0):[],o&&null!=(t=window.console)&&"function"==typeof t.log?t.log.apply(t,e):void 0},L=function(e){e[t]=g(e),d("storeDimensions",e[t])},g=function(e){var t,i,n;return t=window.getComputedStyle(e),i=e.offsetHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom),n=e.offsetWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight),d("getDimensions",[i,n]),[n,i]},w=function(e){return e[t]},b=function(e){var t,i,n,r;return r=(n=w(e)||g(e))[0],t=n[1],null==(i={top:e.offsetTop,left:e.offsetLeft}).bottom&&(i.bottom=i.top+t),null==i.right&&(i.right=i.left+r),d("getPosition of %o: %o",e,i),i},y=function(e){var t,i,n,r,o,s,a,c,l;return o=!!e.currentStyle,t="border-box"===(n=window.getComputedStyle(e)).boxSizing,c=e.offsetTop,s=e.offsetLeft,r=parseInt(n.maxHeight)||parseInt(n.height),l=parseInt(n.maxWidth)||parseInt(n.width),t&&(a={top:parseInt(n.paddingTop)||0,left:parseInt(n.paddingLeft)||0,right:parseInt(n.paddingRight)||0,bottom:parseInt(n.paddingBottom)||0},i={top:parseInt(n.borderTopWidth)||0,left:parseInt(n.borderLeftWidth)||0,right:parseInt(n.borderRightWidth)||0,bottom:parseInt(n.borderBottomWidth)||0},o||(c+=a.top+i.top,s+=a.left+i.left,l-=a.left+a.right+i.left+i.right,r-=a.top+a.bottom+i.top+i.bottom)),{top:c,left:s,right:s+l,bottom:c+r,width:l,height:r}},v=function(e){var t,i;return[t=(i=e.parentNode)[a]||[],i[c]||[],Array.prototype.indexOf.call(t,e),i]},T=function(e,t){var i,n,r,o,s;n=(o=v(e))[0],s=o[1],i=o[2],r=o[3],i<0&&(i=n.length),n[i]=e,s[i]=t,r[a]=n,r[c]=s},m=function(e){var t,i,n;return(i=v(e))[0],n=i[1],t=i[2],i[3],n[t]},S=function(e){null==m(e)&&T(e,e.nodeValue.split(/[ \t\r\n]+/))},_=function(e){return Array.prototype.slice.call(e.childNodes)},C=function(e){var t,i,n;for(d("hideAll",e),t=0,i=e.length;t<i;t++)"#text"===(n=e[t]).nodeName?(S(n),n.nodeValue=""):n.classList.add("clamp-hidden")},A=function(e){var t,i,n;for(d("showAll",e),t=0,i=e.length;t<i;t++)"#text"===(n=e[t]).nodeName?(S(n),n.nodeValue=m(n).join(" ")):(n.classList.remove("clamp-hidden"),A(_(n)))},R=function(e,t){var i;return"function"==typeof Event?i=new Event("submit"):(i=document.createEvent("Event")).initEvent(t,!0,!0),e.dispatchEvent(i)},(D=document.createElement("style")).type="text/css",D.appendChild(document.createTextNode(e)),document.head.appendChild(D),"undefined"!=typeof jQuery&&(jQuery.fn.clamp=function(){return u.register(this.get()),this}),document.addEventListener("DOMContentLoaded",function(){return document.addEventListener(h,u.reclampAll)}),"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=u:window.Superclamp=u}.call(this),$(function(){$("*[data-clamp]").clamp()}),function(e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof module&&module.exports){var t=require("jquery");module.exports=e(t)}else e(jQuery)}(function(e){if(void 0===e)throw new Error("jQuery.textcomplete requires jQuery");return function(o){"use strict";var s=function(e){console.warn&&console.warn(e)},a=1;o.fn.textcomplete=function(t,n){var r=Array.prototype.slice.call(arguments);return this.each(function(){var e=o(this),i=e.data("textComplete");if(i||(n||(n={}),n._oid=a++,i=new o.fn.textcomplete.Completer(this,n),e.data("textComplete",i)),"string"==typeof t){if(!i)return;r.shift(),i[t].apply(i,r),"destroy"===t&&e.removeData("textComplete")}else o.each(t,function(t){o.each(["header","footer","placement","maxCount"],function(e){t[e]&&(i.option[e]=t[e],s(e+"as a strategy param is deprecated. Use option."),delete t[e])})}),i.register(o.fn.textcomplete.Strategy.parse(t))})}}(e),function(n){"use strict";function r(e,t){if(this.$el=n(e),this.id="textcomplete"+o++,this.strategies=[],this.views=[],this.option=n.extend({},r._getDefaults(),t),!this.$el.is("input[type=text]")&&!this.$el.is("textarea")&&!e.isContentEditable&&"true"!=e.contentEditable)throw new Error("textcomplete must be called on a Textarea or a ContentEditable.");if(e===document.activeElement)this.initialize();else{var i=this;this.$el.one("focus."+this.id,function(){i.initialize()})}}var e=function(n){var r,o;return function(){var e=Array.prototype.slice.call(arguments);if(r)o=e;else{r=!0;var t=this;e.unshift(function i(){if(o){var e=o;o=undefined,e.unshift(i),n.apply(t,e)}else r=!1}),n.apply(this,e)}}},s=function(e){return"[object String]"===Object.prototype.toString.call(e)},a=function(e){return"[object Function]"===Object.prototype.toString.call(e)},o=0;r._getDefaults=function(){return r.DEFAULTS||(r.DEFAULTS={appendTo:n("body"),zIndex:"100"}),r.DEFAULTS},n.extend(r.prototype,{id:null,option:null,strategies:null,adapter:null,dropdown:null,$el:null,initialize:function(){var e,t,i=this.$el.get(0);this.dropdown=new n.fn.textcomplete.Dropdown(i,this,this.option),this.option.adapter?e=this.option.adapter:(t=this.$el.is("textarea")||this.$el.is("input[type=text]")?"number"==typeof i.selectionEnd?"Textarea":"IETextarea":"ContentEditable",e=n.fn.textcomplete[t]),this.adapter=new e(i,this,this.option)},destroy:function(){this.$el.off("."+this.id),this.adapter&&this.adapter.destroy(),this.dropdown&&this.dropdown.destroy(),this.$el=this.adapter=this.dropdown=null},trigger:function(e,t){this.dropdown||this.initialize(),null!=e||(e=this.adapter.getTextFromHeadToCaret());var i=this._extractSearchQuery(e);if(i.length){var n=i[1];if(t&&this._term===n)return;this._term=n,this._search.apply(this,i)}else this._term=null,this.dropdown.deactivate()},fire:function(e){var t=Array.prototype.slice.call(arguments,1);return this.$el.trigger(e,t),this},register:function(e){Array.prototype.push.apply(this.strategies,e)},select:function(e,t,i){this.adapter.select(e,t,i),this.fire("change").fire("textComplete:select",e,t),this.adapter.focus()},_clearAtNext:!0,_term:null,_extractSearchQuery:function(e){for(var t=0;t<this.strategies.length;t++){var i=this.strategies[t],n=i.context(e);if(n||""===n){var r=a(i.match)?i.match(e):i.match;s(n)&&(e=n);var o=e.match(r);if(o)return[i,o[i.index],o]}}return[]},_search:e(function(i,n,r,e){var o=this;n.search(r,function(e,t){o.dropdown.shown||o.dropdown.activate(),o._clearAtNext&&(o.dropdown.clear(),o._clearAtNext=!1),o.dropdown.setPosition(o.adapter.getCaretPosition()),o.dropdown.render(o._zip(e,n,r)),t||(i(),o._clearAtNext=!0)},e)}),_zip:function(e,t,i){return n.map(e,function(e){return{value:e,strategy:t,term:i}})}}),n.fn.textcomplete.Completer=r}(e),function(r){"use strict";function o(e,t,i){this.$el=o.createElement(i),this.completer=t,this.id=t.id+"dropdown",this._data=[],this.$inputEl=r(e),(this.option=i).listPosition&&(this.setPosition=i.listPosition),i.height&&this.$el.height(i.height);var n=this;r.each(["maxCount","placement","footer","header","noResultsMessage","className"],function(e,t){null!=i[t]&&(n[t]=i[t])}),this._bindEvents(e),a[this.id]=this}var i=r(window),s=function(e,t){var i,n,r=t.strategy.idProperty;for(i=0;i<e.length;i++)if((n=e[i]).strategy===t.strategy)if(r){if(n.value[r]===t.value[r])return!0}else if(n.value===t.value)return!0;return!1},a={};r(document).on("click",function(e){var i=e.originalEvent&&e.originalEvent.keepTextCompleteDropdown;r.each(a,function(e,t){e!==i&&t.deactivate()})});var n={SKIP_DEFAULT:0,KEY_UP:1,KEY_DOWN:2,KEY_ENTER:3,KEY_PAGEUP:4,KEY_PAGEDOWN:5,KEY_ESCAPE:6};r.extend(o,{createElement:function(e){var t=e.appendTo;return t instanceof r||(t=r(t)),r("<ul></ul>").addClass("dropdown-menu textcomplete-dropdown").attr("id","textcomplete-dropdown-"+e._oid).css({display:"none",left:0,position:"absolute",zIndex:e.zIndex}).appendTo(t)}}),r.extend(o.prototype,{$el:null,$inputEl:null,completer:null,footer:null,header:null,id:null,maxCount:10,placement:"",shown:!1,data:[],className:"",destroy:function(){this.deactivate(),this.$el.off("."+this.id),this.$inputEl.off("."+this.id),this.clear(),this.$el=this.$inputEl=this.completer=null,delete a[this.id]},render:function(e){var t=this._buildContents(e),i=r.map(this.data,function(e){return e.value});this.data.length?(this._renderHeader(i),this._renderFooter(i),t&&(this._renderContents(t),this._fitToBottom(),this._activateIndexedItem()),this._setScroll()):this.noResultsMessage?this._renderNoResultsMessage(i):this.shown&&this.deactivate()},setPosition:function(e){this.$el.css(this._applyPlacement(e));var t="absolute";return this.$inputEl.add(this.$inputEl.parents()).each(function(){return"absolute"!==r(this).css("position")&&("fixed"===r(this).css("position")?!(t="fixed"):void 0)}),this.$el.css({position:t}),this},clear:function(){this.$el.html(""),this.data=[],this._index=0,this._$header=this._$footer=this._$noResultsMessage=null},activate:function(){return this.shown||(this.clear(),this.$el.show(),this.className&&this.$el.addClass(this.className),this.completer.fire("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.className&&this.$el.removeClass(this.className),this.completer.fire("textComplete:hide"),this.shown=!1),this},isUp:function(e){return 38===e.keyCode||e.ctrlKey&&80===e.keyCode},isDown:function(e){return 40===e.keyCode||e.ctrlKey&&78===e.keyCode},isEnter:function(e){return!(e.ctrlKey||e.altKey||e.metaKey||e.shiftKey)&&(13===e.keyCode||9===e.keyCode||!0===this.option.completeOnSpace&&32===e.keyCode)},isPageup:function(e){return 33===e.keyCode},isPagedown:function(e){return 34===e.keyCode},isEscape:function(e){return 27===e.keyCode},_data:null,_index:null,_$header:null,_$noResultsMessage:null,_$footer:null,_bindEvents:function(){this.$el.on("mousedown."+this.id,".textcomplete-item",r.proxy(this._onClick,this)),this.$el.on("touchstart."+this.id,".textcomplete-item",r.proxy(this._onClick,this)),this.$el.on("mouseover."+this.id,".textcomplete-item",r.proxy(this._onMouseover,this)),this.$inputEl.on("keydown."+this.id,r.proxy(this._onKeydown,this))},_onClick:function(e){var t=r(e.target);e.preventDefault(),e.originalEvent.keepTextCompleteDropdown=this.id,t.hasClass("textcomplete-item")||(t=t.closest(".textcomplete-item"));var i=this.data[parseInt(t.data("index"),10)];this.completer.select(i.value,i.strategy,e);var n=this;setTimeout(function(){n.deactivate(),"touchstart"===e.type&&n.$inputEl.focus()},0)},_onMouseover:function(e){var t=r(e.target);e.preventDefault(),t.hasClass("textcomplete-item")||(t=t.closest(".textcomplete-item")),this._index=parseInt(t.data("index"),10),this._activateIndexedItem()},_onKeydown:function(e){var t;if(this.shown)switch(r.isFunction(this.option.onKeydown)&&(t=this.option.onKeydown(e,n)),null==t&&(t=this._defaultKeydown(e)),t){case n.KEY_UP:e.preventDefault(),this._up();break;case n.KEY_DOWN:e.preventDefault(),this._down();break;case n.KEY_ENTER:e.preventDefault(),this._enter(e);break;case n.KEY_PAGEUP:e.preventDefault(),this._pageup();break;case n.KEY_PAGEDOWN:e.preventDefault(),this._pagedown();break;case n.KEY_ESCAPE:e.preventDefault(),this.deactivate()}},_defaultKeydown:function(e){return this.isUp(e)?n.KEY_UP:this.isDown(e)?n.KEY_DOWN:this.isEnter(e)?n.KEY_ENTER:this.isPageup(e)?n.KEY_PAGEUP:this.isPagedown(e)?n.KEY_PAGEDOWN:this.isEscape(e)?n.KEY_ESCAPE:void 0},_up:function(){0===this._index?this._index=this.data.length-1:this._index-=1,this._activateIndexedItem(),this._setScroll()},_down:function(){this._index===this.data.length-1?this._index=0:this._index+=1,this._activateIndexedItem(),this._setScroll()},_enter:function(e){var t=this.data[parseInt(this._getActiveElement().data("index"),10)];this.completer.select(t.value,t.strategy,e),this.deactivate()},_pageup:function(){var t=0,i=this._getActiveElement().position().top-this.$el.innerHeight();this.$el.children().each(function(e){if(
r(this).position().top+r(this).outerHeight()>i)return t=e,!1}),this._index=t,this._activateIndexedItem(),this._setScroll()},_pagedown:function(){var t=this.data.length-1,i=this._getActiveElement().position().top+this.$el.innerHeight();this.$el.children().each(function(e){if(r(this).position().top>i)return t=e,!1}),this._index=t,this._activateIndexedItem(),this._setScroll()},_activateIndexedItem:function(){this.$el.find(".textcomplete-item.active").removeClass("active"),this._getActiveElement().addClass("active")},_getActiveElement:function(){return this.$el.children(".textcomplete-item:nth("+this._index+")")},_setScroll:function(){var e=this._getActiveElement(),t=e.position().top,i=e.outerHeight(),n=this.$el.innerHeight(),r=this.$el.scrollTop();0===this._index||this._index==this.data.length-1||t<0?this.$el.scrollTop(t+r):n<t+i&&this.$el.scrollTop(t+i+r-n)},_buildContents:function(e){var t,i,n,r="";for(i=0;i<e.length&&this.data.length!==this.maxCount;i++)t=e[i],s(this.data,t)||(n=this.data.length,this.data.push(t),r+='<li class="textcomplete-item" data-index="'+n+'"><a>',r+=t.strategy.template(t.value,t.term),r+="</a></li>");return r},_renderHeader:function(e){if(this.header){this._$header||(this._$header=r('<li class="textcomplete-header"></li>').prependTo(this.$el));var t=r.isFunction(this.header)?this.header(e):this.header;this._$header.html(t)}},_renderFooter:function(e){if(this.footer){this._$footer||(this._$footer=r('<li class="textcomplete-footer"></li>').appendTo(this.$el));var t=r.isFunction(this.footer)?this.footer(e):this.footer;this._$footer.html(t)}},_renderNoResultsMessage:function(e){if(this.noResultsMessage){this._$noResultsMessage||(this._$noResultsMessage=r('<li class="textcomplete-no-results-message"></li>').appendTo(this.$el));var t=r.isFunction(this.noResultsMessage)?this.noResultsMessage(e):this.noResultsMessage;this._$noResultsMessage.html(t)}},_renderContents:function(e){this._$footer?this._$footer.before(e):this.$el.append(e)},_fitToBottom:function(){var e=i.scrollTop()+i.height(),t=this.$el.height();this.$el.position().top+t>e&&this.$el.offset({top:e-t})},_applyPlacement:function(e){return-1!==this.placement.indexOf("top")?e={top:"auto",bottom:this.$el.parent().height()-e.top+e.lineHeight,left:e.left}:(e.bottom="auto",delete e.lineHeight),-1!==this.placement.indexOf("absleft")?e.left=0:-1!==this.placement.indexOf("absright")&&(e.right=0,e.left="auto"),e}}),r.fn.textcomplete.Dropdown=o,r.extend(r.fn.textcomplete,n)}(e),function(t){"use strict";function i(e){t.extend(this,e),this.cache&&(this.search=n(this.search))}var n=function(e){var n={};return function(t,i){n[t]?i(n[t]):e.call(this,t,function(e){n[t]=(n[t]||[]).concat(e),i.apply(null,arguments)})}};i.parse=function(e){return t.map(e,function(e){return new i(e)})},t.extend(i.prototype,{match:null,replace:null,search:null,cache:!1,context:function(){return!0},index:2,template:function(e){return e},idProperty:null}),t.fn.textcomplete.Strategy=i}(e),function(n){"use strict";function e(){}var l=Date.now||function(){return(new Date).getTime()},r=function(t,i){var n,r,o,s,a,c=function(){var e=l()-s;e<i?n=setTimeout(c,i-e):(n=null,a=t.apply(o,r),o=r=null)};return function(){return o=this,r=arguments,s=l(),n||(n=setTimeout(c,i)),a}};n.extend(e.prototype,{id:null,completer:null,el:null,$el:null,option:null,initialize:function(e,t,i){this.el=e,this.$el=n(e),this.id=t.id+this.constructor.name,this.completer=t,this.option=i,this.option.debounce&&(this._onKeyup=r(this._onKeyup,this.option.debounce)),this._bindEvents()},destroy:function(){this.$el.off("."+this.id),this.$el=this.el=this.completer=null},select:function(){throw new Error("Not implemented")},getCaretPosition:function(){var e=this._getCaretRelativePosition(),t=this.$el.offset();return e.top+=t.top,e.left+=t.left,e},focus:function(){this.$el.focus()},_bindEvents:function(){this.$el.on("keyup."+this.id,n.proxy(this._onKeyup,this))},_onKeyup:function(e){this._skipSearch(e)||this.completer.trigger(this.getTextFromHeadToCaret(),!0)},_skipSearch:function(e){switch(e.keyCode){case 13:case 40:case 38:return!0}if(e.ctrlKey)switch(e.keyCode){case 78:case 80:return!0}}}),n.fn.textcomplete.Adapter=e}(e),function(s){"use strict";function e(e,t,i){this.initialize(e,t,i)}var t;e.DIV_PROPERTIES={left:-9999,position:"absolute",top:0,whiteSpace:"pre-wrap"},e.COPY_PROPERTIES=["border-width","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","word-spacing","line-height","text-decoration","text-align","width","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","border-style","box-sizing","tab-size"],s.extend(e.prototype,s.fn.textcomplete.Adapter.prototype,{select:function(e,t,i){var n=this.getTextFromHeadToCaret(),r=this.el.value.substring(this.el.selectionEnd),o=t.replace(e,i);s.isArray(o)&&(r=o[1]+r,o=o[0]),n=n.replace(t.match,o),this.$el.val(n+r),this.el.selectionStart=this.el.selectionEnd=n.length},_getCaretRelativePosition:function(){var e=s("<div></div>").css(this._copyCss()).text(this.getTextFromHeadToCaret()),t=s("<span></span>").text(".").appendTo(e);this.$el.before(e);var i=t.position();return i.top+=t.height()-this.$el.scrollTop(),i.lineHeight=t.height(),e.remove(),i},_copyCss:function(){return s.extend({overflow:this.el.scrollHeight>this.el.offsetHeight?"scroll":"auto"},e.DIV_PROPERTIES,this._getStyles())},_getStyles:(t=s,void 0!==t("<div></div>").css(["color"]).color?function(){return this.$el.css(e.COPY_PROPERTIES)}:function(){var i=this.$el,n={};return t.each(e.COPY_PROPERTIES,function(e,t){n[t]=i.css(t)}),n}),getTextFromHeadToCaret:function(){return this.el.value.substring(0,this.el.selectionEnd)}}),s.fn.textcomplete.Textarea=e}(e),function(a){"use strict";function e(e,t,i){this.initialize(e,t,i),a("<span>"+n+"</span>").css({position:"absolute",top:-9999,left:-9999}).insertBefore(e)}var n="\u5436";a.extend(e.prototype,a.fn.textcomplete.Textarea.prototype,{select:function(e,t,i){var n=this.getTextFromHeadToCaret(),r=this.el.value.substring(n.length),o=t.replace(e,i);a.isArray(o)&&(r=o[1]+r,o=o[0]),n=n.replace(t.match,o),this.$el.val(n+r),this.el.focus();var s=this.el.createTextRange();s.collapse(!0),s.moveEnd("character",n.length),s.moveStart("character",n.length),s.select()},getTextFromHeadToCaret:function(){this.el.focus();var e=document.selection.createRange();e.moveStart("character",-this.el.value.length);var t=e.text.split(n);return 1===t.length?t[0]:t[1]}}),a.fn.textcomplete.IETextarea=e}(e),function(u){"use strict";function e(e,t,i){this.initialize(e,t,i)}u.extend(e.prototype,u.fn.textcomplete.Adapter.prototype,{select:function(e,t,i){var n=this.getTextFromHeadToCaret(),r=window.getSelection(),o=r.getRangeAt(0),s=o.cloneRange();s.selectNodeContents(o.startContainer);var a=s.toString().substring(o.startOffset),c=t.replace(e,i);u.isArray(c)&&(a=c[1]+a,c=c[0]),n=n.replace(t.match,c),o.selectNodeContents(o.startContainer),o.deleteContents();var l=document.createTextNode(n+a);o.insertNode(l),o.setStart(l,n.length),o.collapse(!0),r.removeAllRanges(),r.addRange(o)},_getCaretRelativePosition:function(){var e=window.getSelection().getRangeAt(0).cloneRange(),t=document.createElement("span");e.insertNode(t),e.selectNodeContents(t),e.deleteContents();var i=u(t),n=i.offset();return n.left-=this.$el.offset().left,n.top+=i.height()-this.$el.offset().top,n.lineHeight=i.height(),i.remove(),"rtl"===(this.$el.attr("dir")||this.$el.css("direction"))&&(n.left-=this.listView.$el.width()),n},getTextFromHeadToCaret:function(){var e=window.getSelection().getRangeAt(0),t=e.cloneRange();return t.selectNodeContents(e.startContainer),t.toString().substring(0,e.startOffset)}}),u.fn.textcomplete.ContentEditable=e}(e),e});var AutocompleteStrategies={usernameMention:function(n){return{match:/(\B)@([\w.]*)$/,search:function(t,e){var i=function(e,t){var i=e.toLowerCase();return 0===t.toLowerCase().indexOf(i)};e($.map(n,function(e){return i(t,e)?e:null}))},replace:function(e){return"@"+e+" "}}}};$(function(){"use strict";window.init_mentions=function(){var e=$.unique($(".username:not(.username-owner)").map(function(){return this.text.replace("@","")})),t={match:/```[\s\S]*\B@(\w*)/,search:function(e,t){t([])},context:function(e){return e.replace(/```[\s\S]*?```/g,"")}},i={match:/`[\s\S]*\B@(\w*)/,search:function(e,t){t([])},context:function(e){return e.replace(/`[\s\S]*?`/g,"")}},n={match:/ {4}.*\B@(\w*).*$/,search:function(e,t){t([])}};$("textarea").textcomplete([t,i,n,AutocompleteStrategies.usernameMention(e)],{appendTo:$("body")})}}),function(){function E(e,t,i,n){var r="ERR_NOT_DEFINED";window.analytics.track(k,{category:e||r,name:i||r,action:t||r,value:n})}window.trackInteraction=E,window.dataLayer=window.dataLayer||[],window.analyticsHelpers={};var k="Web Interaction",T=$(".related-question-detail-link");$(function(){function e(){E("Button","Click","Subscribe")}function t(){E("Button","Click","Unsubscribe")}function i(e){E("Tab","Click","Filter Bar",$(e.currentTarget).attr("data-filter-type"))}function n(){x||E("Modal","Close","Share")}function r(){x=!1,E("Modal","Open","Share")}function o(e){x=!0,E("Social Share","Click",s(e.currentTarget.title))}function s(e){for(var t=[{siteName:"Twitter",regex:/Twitter/},{siteName:"Hacker News",regex:/Hacker\ News/},{siteName:"Google+",regex:/Google/},{siteName:"Facebook",regex:/Facebook/}],i=0;i<t.length;i++){var n=t[i];if(n.regex.test(e))return n.siteName}}function a(){x=!1}function c(){x||E("Modal","Close","Post-Ask Share")}function l(){var e=$("#subscribe_email").val(),t=$("#course_title_js").text(),i=$("#product_emails").is(":checked"),n=window.currentUser.getData(),r={email:e,courseTitle:t,productEmails:i};if(null!=n){var o=n.data.attributes.uuid;window.analytics.identify(o)}window.analytics.track("Curriculum Subscribe Click",r)}function u(){x=!0,E("Social Share","Click","Twitter","Post-Ask"),$("#share-question-modal").dialog("close")}function h(){var e=$(".content-filter-query-input").val(),t=$(".header-search__input").val(),i=$(".results-number");return{category:"Button",action:"Click",name:"Ask a Question",value:{questionSearchValue:e,headerSearchValue:t,numQuestions:parseInt(i.text(),10)}}}function d(){return $('.featured-item-highlight[data-analytics="high-traffic"]').length}function f(){var e=y();return d()?p("cta_clicked","high_traffic",e):p("cta_clicked","right_rail",e)}function p(e,t,i){return{action:e,category:t,name:i}}function _(){return{action:"banner_clicked",category:"banner",name:$('li[data-js="global-navbar-banner"] a').attr("title")}}function g(){var e=y();d()?v("cta_clicked",e,"high_traffic"):v("cta_clicked",e,"right_rail")}function v(e,t,i){window.dataLayer.push({event:e,title:t,position:i})}function m(){v("cta_clicked",$('li[data-js="global-navbar-banner"] a').attr("title"),"banner")}function y(){return $(".featured-item-title").length?$(".featured-item-title").first().text():$.trim($.trim($(".featured-item-highlight").first().text()).split("  ")[0])}function b(){E("Button","Click","Profile Submit")}function w(){E("Button","Click","Finish Profile")}function C(){E("Modal","Open","Show Build Edit Modal")}function S(){E("Modal","Open","Show First Profile Modal")}var x=!1;window.clickFilterTab=i,window.analyticsHelpers.clickSubscribeButton=e,window.analyticsHelpers.clickUnsubscribeButton=t,window.analyticsHelpers.clickFilterTab=i,window.analyticsHelpers.onHideShareModal=n,window.analyticsHelpers.onShowShareModal=r,window.analyticsHelpers.clickSocialShare=o,window.analyticsHelpers.getSocialSite=s,window.analyticsHelpers.onShowQuestionShareModal=a,window.analyticsHelpers.onHideQuestionShareModal=c,window.analyticsHelpers.clickSubscribeToCurriculum=l,window.analyticsHelpers.clickQuestionShareLink=u,window.analyticsHelpers.clickAskQuestion=h,window.analyticsHelpers.highTrafficRecord=d,window.analyticsHelpers.clickFeaturedContentSegment=f,window.analyticsHelpers.pushToSegment=p,window.analyticsHelpers.clickFeaturedBannerSegment=_,window.analyticsHelpers.clickFeaturedContentGA=g,window.analyticsHelpers.pushToGA=v,window.analyticsHelpers.clickFeaturedBannerGA=m,window.analyticsHelpers.getFeaturedTitle=y,window.analyticsHelpers.clickUserDataButton=b,window.analyticsHelpers.clickCloseSecondModalButton=w,window.analyticsHelpers.onShowBuildEditModal=C,window.analyticsHelpers.onShowProfileFirstModal=S,window.analytics.trackLink(T,k,function(e){return{category:"Link",action:"Click",name:"Related Question",value:{questionValue:e.innerText,numRelatedQuestions:T.length}}})})}(),window.init_sharing=function nGa(){window.___gcfg={lang:"en-US",parsetags:"onload"},$(".share-popup").click(function(e){e.preventDefault();var t=575,i=400,n=screen.width/2-t/2,r=screen.height/2-i/2,o=this.href;window.open(o,"Share","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+t+", height="+i+", top="+r+", left="+n)})},function(i){function t(e){if(a)e.call(window.fakeUniversalSearch);else{var t=i.getElementById(n);t?r?e():o.push(e):((t=i.createElement("script")).id=n,t.defer=!0,t.src=s,t.onerror=function(){console.error("Failed to load UniversarlSearch")},o.push(e),t.onload=function(){r=!0;for(var e=0;e<o.length;e++)o[e]()},i.head.appendChild(t))}}var n="universal-search",r=!1,o=[],s="https://assets.digitalocean.com/labs/search.js.gz?20191126",a=!1;window.loadUniversalSearchScript=function(e){t(e)},window.enableReferenceSearch=function(){window.loadUniversalSearchScript(function(){new UniversalSearch({display_mode:"reference",search_on_phrase:"!ref",output_format:"markdown",primary_list:["tutorials","alldocs"],secondary_list:["marketplace"],algolia_app_id:"6ZHEUVKJ88",algolia_public_key:"c5470567eae7fa1177d43222e18ba086"}).start()})}}(document),$(function(){function a(){$("form.acknowledge-multiple").submit()}var e=$(".notifications .filter-bar ul li a");e.click(function(){e.removeClass("active"),$(this).addClass("active")}),window.mark_notifications_as_acknowledged=function(){var r=$(".notification-menu ul"),o=$("span.notification-menu-count"),s=r.offset().top+r.height();$.each(r.find("li.new"),function(e,t){t=$(t);var i=s-t.height();if(t.offset().top<i){t.removeClass("new"),t.find("input").prop("checked",!0);var n=r.find("li.new").length;o.html(n),0===n&&$(".notification-menu").addClass("empty"),"undefined"!=typeof window.notifications_timeout&&clearTimeout(window.notifications_timeout),window.notifications_timeout=setTimeout(a,1e3)}})},$(".notification-menu ul").scroll(function(){window.mark_notifications_as_acknowledged()}),$(document).on("click","a.acknowledge-latest",function(){$(this).parents("li").addClass("recently-acknowledged")}),$(document).on("click","a.undo-acknowledge-latest",function(){$(this).parents("li").removeClass("recently-acknowledged")})}),window.highlight_post=function(e,t){window.persistHighlight="undefined"!=typeof window.persistHighlight?window.persistHighlight:!!window.location.search,t=t||{},t=$.extend({duration:{show:0,hide:1500},stay:1500},t),$(".highlight-parent").remove();var i=$("<div></div>").addClass("highlight-parent");e.append(i),e.addClass("highlight-flash"),window.persistHighlight||setTimeout(function(){var e=$(".highlight-parent");e.fadeOut(t.duration.hide,function(){e.remove()})},t.stay),window.persistHighlight=!1},$(function(){window.scroll_to=function(){var e=$(".scroll-to");e.length&&($("html, body").animate({scrollTop:e.offset().top},0),window.persistHighlight=!0),window.highlight_post(e)},window.scroll_to(),window.show_progress_spinner=function(){setTimeout(function(){$(".progress").show()},200)}}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(window,function(){return function(i){function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n={};return r.m=i,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=34)}([function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0;var i=function(){function e(){this._listeners=[],this._disposed=!1}return Object.defineProperty(e.prototype,"event",{get:function(){var i=this;return this._event||(this._event=function(t){return i._listeners.push(t),{dispose:function(){if(!i._disposed)for(var e=0;e<i._listeners.length;e++)if(i._listeners[e]===t)return void i._listeners.splice(e,1)}}}),this._event},enumerable:!1,configurable:!0}),e.prototype.fire=function(e,t){for(var i=[],n=0;n<this._listeners.length;n++)i.push(this._listeners[n]);for(n=0;n<i.length;n++)i[n].call(void 0,e,t)},e.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},e}();t.EventEmitter=i,t.forwardEvent=function(e,t){return e(function(e){return t.fire(e)})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IUnicodeService=t.IOptionsService=t.ILogService=t.IInstantiationService=t.IDirtyRowService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;var n=i(14);t.IBufferService=n.createDecorator("BufferService"),t.ICoreMouseService=n.createDecorator("CoreMouseService"),t.ICoreService=n.createDecorator("CoreService"),t.ICharsetService=n.createDecorator("CharsetService"),t.IDirtyRowService=n.createDecorator("DirtyRowService"),t.IInstantiationService=n.createDecorator("InstantiationService"),t.ILogService=n.createDecorator("LogService"),t.IOptionsService=n.createDecorator("OptionsService"),t.IUnicodeService=n.createDecorator("UnicodeService")},function(e,t){"use strict";function i(e){for(var t=0,i=e;t<i.length;t++)i[t].dispose();e.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.Disposable=void 0;var n=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){this._isDisposed=!0;for(var e=0,t=this._disposables;e<t.length;e++)t[e].dispose();this._disposables.length=0},e.prototype.register=function(e){return this._disposables.push(e),e},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();t.Disposable=n,t.disposeArray=i,t.getDisposeArrayDisposable=function(e){return{dispose:function(){return i(e)}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=256,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;var o=i(8),s=i(3),a=i(6),c=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=0,e.fg=0,e.bg=0,e.extended=new a.ExtendedAttrs,e.combinedData="",e}return r(i,t),i.fromCharData=function(e){var t=new i;return t.setFromCharData(e),t},i.prototype.isCombined=function(){return 2097152&this.content},i.prototype.getWidth=function(){return this.content>>22},i.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?o.stringFromCodePoint(2097151&this.content):""},i.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},i.prototype.setFromCharData=function(e){this.fg=e[s.CHAR_DATA_ATTR_INDEX],this.bg=0;var t=!1;if(2<e[s.CHAR_DATA_CHAR_INDEX].length)t=!0;else if(2===e[s.CHAR_DATA_CHAR_INDEX].length){var i=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=i&&i<=56319){var n=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=n&&n<=57343?this.content=1024*(i-55296)+n-56320+65536|e[s.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[s.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[s.CHAR_DATA_WIDTH_INDEX]<<22)},i.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},i}(a.AttributeData);t.CellData=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISoundService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;var n=i(14);t.ICharSizeService=n.createDecorator("CharSizeService"),t.ICoreBrowserService=n.createDecorator("CoreBrowserService"),t.IMouseService=n.createDecorator("MouseService"),t.IRenderService=n.createDecorator("RenderService"),t.ISelectionService=n.createDecorator("SelectionService"),t.ISoundService=n.createDecorator("SoundService")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;var i=function(){function t(){this.fg=0,this.bg=0,this.extended=new n}return t.toColorRGB=function(e){return[e>>>16&255,e>>>8&255,255&e]},t.fromColorRGB=function(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},t.prototype.clone=function(){var e=new t;return e.fg=this.fg,e.bg=this.bg,e.extended=this.extended.clone(),e},t.prototype.isInverse=function(){return 67108864&this.fg},t.prototype.isBold=function(){return 134217728&this.fg},t.prototype.isUnderline=function(){return 268435456&this.fg},t.prototype.isBlink=function(){return 536870912&this.fg},t.prototype.isInvisible=function(){return 1073741824&this.fg},t.prototype.isItalic=function(){return 67108864&this.bg},t.prototype.isDim=function(){return 134217728&this.bg},t.prototype.getFgColorMode=function(){return 50331648&this.fg},t.prototype.getBgColorMode=function(){return 50331648&this.bg},t.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},t.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},t.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},t.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},t.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},t.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},t.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},t.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},t.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},t.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},t.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},t.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},t.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},t.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()},t.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()},t.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()},t.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},t}();t.AttributeData=i;var n=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=-1),this.underlineStyle=e,this.underlineColor=t}return e.prototype.clone=function(){return new e(this.underlineStyle,this.underlineColor)},e.prototype.isEmpty=function(){return 0===this.underlineStyle},e}();t.ExtendedAttrs=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,i,n){e.addEventListener(t,i,n);var r=!1;return{dispose:function(){r||(r=!0,e.removeEventListener(t,i,n))}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return 65535<e?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=e.length);for(var n="",r=t;r<i;++r){var o=e[r];65535<o?(o-=65536,n+=String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):n+=String.fromCharCode(o)}return n};var i=function(){function e(){this._interim=0}return e.prototype.clear=function(){this._interim=0},e.prototype.decode=function(e,t){var i=e.length;if(!i)return 0;var n=0,r=0;this._interim&&(56320<=(a=e.charCodeAt(r++))&&a<=57343?t[n++]=1024*(this._interim-55296)+a-56320+65536:(t[n++]=this._interim,t[n++]=a),this._interim=0);for(var o=r;o<i;++o){var s=e.charCodeAt(o);if(55296<=s&&s<=56319){if(++o>=i)return this._interim=s,n;var a;56320<=(a=e.charCodeAt(o))&&a<=57343?t[n++]=1024*(s-55296)+a-56320+65536:(t[n++]=s,t[n++]=a)}else t[n++]=s}return n},e}();t.StringToUtf32=i;var n=function(){function e(){this.interim=new Uint8Array(3)}return e.prototype.clear=function(){this.interim.fill(0)},e.prototype.decode=function(e,t){var i=e.length;if(!i)return 0;var n,r,o,s,a=0,c=0,l=0;if(this.interim[0]){var u=!1,h=this.interim[0];h&=192==(224&h)?31:224==(240&h)?15:7;for(var d=0,f=void 0;(f=63&this.interim[++d])&&d<4;)h<<=6,h|=f;for(var p=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,_=p-d;l<_;){if(i<=l)return 0;if(128!=(192&(f=e[l++]))){l--,u=!0;break}h<<=6,h|=63&(this.interim[d++]=f)}u||(2===p?h<128?l--:t[a++]=h:3===p?h<2048||55296<=h&&h<=57343||(t[a++]=h):h<65536||1114111<h||(t[a++]=h)),this.interim.fill(0)}for(var g=i-4,v=l;v<i;){for(;!(!(v<g)||128&(n=e[v])||128&(r=e[v+1])||128&(o=e[v+2])||128&(s=e[v+3]));)t[a++]=n,t[a++]=r,t[a++]=o,t[a++]=s,v+=4;if((n=e[v++])<128)t[a++]=n;else if(192==(224&n)){if(i<=v)return this.interim[0]=n,a;if(128!=(192&(r=e[v++]))){v--;continue}if((c=(31&n)<<6|63&r)<128){v--;continue}t[a++]=c}else if(224==(240&n)){if(i<=v)return this.interim[0]=n,a;if(128!=(192&(r=e[v++]))){v--;continue}if(i<=v)return this.interim[0]=n,this.interim[1]=r,a;if(128!=(192&(o=e[v++]))){v--;continue}if((c=(15&n)<<12|(63&r)<<6|63&o)<2048||55296<=c&&c<=57343)continue;t[a++]=c}else if(240==(248&n)){if(i<=v)return this.interim[0]=n,a;if(128!=(192&(r=e[v++]))){v--;continue}if(i<=v)return this.interim[0]=n,this.interim[1]=r,a;if(128!=(192&(o=e[v++]))){v--;continue}if(i<=v)return this.interim[0]=n,this.interim[1]=r,this.interim[2]=o,a;if(128!=(192&(s=e[v++]))){v--;continue}if((c=(7&n)<<18|(63&r)<<12|(63&o)<<6|63&s)<65536||1114111<c)continue;t[a++]=c}}return a},e}();t.Utf8ToUtf32=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR_ATLAS_CELL_SPACING=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0,t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.CHAR_ATLAS_CELL_SPACING=1},function(e,t){"use strict";function r(e){var t=e.toString(16);return t.length<2?"0"+t:t}function u(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}var d,i,h,a,n;Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=void 0,(n=d=t.channels||(t.channels={})).toCss=function(e,t,i,n){return void 0!==n?"#"+r(e)+r(t)+r(i)+r(n):"#"+r(e)+r(t)+r(i)},n.toRgba=function(e,t,i,n){return void 0===n&&(n=255),(e<<24|t<<16|i<<8|n)>>>0},(i=t.color||(t.color={})).blend=function(e,t){var i=(255&t.rgba)/255;if(1===i)return{css:t.css,rgba:t.rgba};var n=t.rgba>>24&255,r=t.rgba>>16&255,o=t.rgba>>8&255,s=e.rgba>>24&255,a=e.rgba>>16&255,c=e.rgba>>8&255,l=s+Math.round((n-s)*i),u=a+Math.round((r-a)*i),h=c+Math.round((o-c)*i);return{css:d.toCss(l,u,h),rgba:d.toRgba(l,u,h)}},i.isOpaque=function(e){return 255==(255&e.rgba)},i.ensureContrastRatio=function(e,t,i){var n=a.ensureContrastRatio(e.rgba,t.rgba,i);if(n)return a.toColor(n>>24&255,n>>16&255,n>>8&255)},i.opaque=function(e){var t=(255|e.rgba)>>>0,i=a.toChannels(t),n=i[0],r=i[1],o=i[2];return{css:d.toCss(n,r,o),rgba:t}},i.opacity=function(e,t){var i=Math.round(255*t),n=a.toChannels(e.rgba),r=n[0],o=n[1],s=n[2];return{css:d.toCss(r,o,s,i),rgba:d.toRgba(r,o,s,i)}},(t.css||(t.css={})).toColor=function(e){switch(e.length){case 7:return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0};case 9:return{css:e,rgba:parseInt(e.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(e){function t(e,t,i){var n=e/255,r=t/255,o=i/255;return.2126*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(h=t.rgb||(t.rgb={})),function(e){function o(e,t,i){for(var n=e>>24&255,r=e>>16&255,o=e>>8&255,s=t>>24&255,a=t>>16&255,c=t>>8&255,l=u(h.relativeLuminance2(s,c,a),h.relativeLuminance2(n,r,o));l<i&&(0<s||0<a||0<c);)s-=Math.max(0,Math.ceil(.1*s)),a-=Math.max(0,Math.ceil(.1*a)),c-=Math.max(0,Math.ceil(.1*c)),l=u(h.relativeLuminance2(s,c,a),h.relativeLuminance2(n,r,o));return(s<<24|a<<16|c<<8|255)>>>0}function s(e,t,i){for(var n=e>>24&255,r=e>>16&255,o=e>>8&255,s=t>>24&255,a=t>>16&255,c=t>>8&255,l=u(h.relativeLuminance2(s,c,a),h.relativeLuminance2(n,r,o));l<i&&(s<255||a<255||c<255);)s=Math.min(255,s+Math.ceil(.1*(255-s))),a=Math.min(255,a+Math.ceil(.1*(255-a))),c=Math.min(255,c+Math.ceil(.1*(255-c))),l=u(h.relativeLuminance2(s,c,a),h.relativeLuminance2(n,r,o));return(s<<24|a<<16|c<<8|255)>>>0}e.ensureContrastRatio=function(e,t,i){var n=h.relativeLuminance(e>>8),r=h.relativeLuminance(t>>8);if(u(n,r)<i)return r<n?o(e,t,i):s(e,t,i)},e.reduceLuminance=o,e.increaseLuminance=s,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,i){return{css:d.toCss(e,t,i),rgba:d.toRgba(e,t,i)}}}(a=t.rgba||(t.rgba={})),t.toPaddedHex=r,t.contrastRatio=u},function(e,t){"use strict";function i(e,t){return 0<=e.indexOf(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.isSafari=t.isFirefox=void 0;var n="undefined"==typeof navigator,r=n?"node":navigator.userAgent,o=n?"node":navigator.platform;t.isFirefox=!!~r.indexOf("Firefox"),t.isSafari=/^((?!chrome|android).)*safari/i.test(r),t.isMac=i(["Macintosh","MacIntel","MacPPC","Mac68K"],o),t.isIpad="iPad"===o,t.isIphone="iPhone"===o,t.isWindows=i(["Windows","Win16","Win32","WinCE"],o),t.isLinux=0<=o.indexOf("Linux")},function(e,t){"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.C1=t.C0=void 0,(n=t.C0||(t.C0={})).NUL="\0",n.SOH="\x01",n.STX="\x02",n.ETX="\x03",n.EOT="\x04",n.ENQ="\x05",n.ACK="\x06",n.BEL="\x07",n.BS="\b",n.HT="\t",n.LF="\n",n.VT="\x0B",n.FF="\f",n.CR="\r",n.SO="\x0e",n.SI="\x0f",n.DLE="\x10",n.DC1="\x11"
,n.DC2="\x12",n.DC3="\x13",n.DC4="\x14",n.NAK="\x15",n.SYN="\x16",n.ETB="\x17",n.CAN="\x18",n.EM="\x19",n.SUB="\x1a",n.ESC="\x1b",n.FS="\x1c",n.GS="\x1d",n.RS="\x1e",n.US="\x1f",n.SP=" ",n.DEL="\x7f",(i=t.C1||(t.C1={})).PAD="\x80",i.HOP="\x81",i.BPH="\x82",i.NBH="\x83",i.IND="\x84",i.NEL="\x85",i.SSA="\x86",i.ESA="\x87",i.HTS="\x88",i.HTJ="\x89",i.VTS="\x8a",i.PLD="\x8b",i.PLU="\x8c",i.RI="\x8d",i.SS2="\x8e",i.SS3="\x8f",i.DCS="\x90",i.PU1="\x91",i.PU2="\x92",i.STS="\x93",i.CCH="\x94",i.MW="\x95",i.SPA="\x96",i.EPA="\x97",i.SOS="\x98",i.SGCI="\x99",i.SCI="\x9a",i.CSI="\x9b",i.ST="\x9c",i.OSC="\x9d",i.PM="\x9e",i.APC="\x9f"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderLayer=void 0;var s=i(3),a=i(9),n=i(25),c=i(6),r=i(28),p=i(10),o=i(17),l=function(){function e(e,t,i,n,r,o,s,a){this._container=e,this._alpha=n,this._colors=r,this._rendererId=o,this._bufferService=s,this._optionsService=a,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=i.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){var e;o.removeElementFromParent(this._canvas),null===(e=this._charAtlas)||void 0===e||e.dispose()},e.prototype._initCanvas=function(){this._ctx=r.throwIfFalsy(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},e.prototype.onOptionsChanged=function(){},e.prototype.onBlur=function(){},e.prototype.onFocus=function(){},e.prototype.onCursorMove=function(){},e.prototype.onGridChanged=function(){},e.prototype.onSelectionChanged=function(e,t,i){void 0===i&&(i=!1)},e.prototype.setColors=function(e){this._refreshCharAtlas(e)},e.prototype._setTransparency=function(e){if(e!==this._alpha){var t=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,t),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},e.prototype._refreshCharAtlas=function(e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=n.acquireCharAtlas(this._optionsService.options,this._rendererId,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},e.prototype._fillCells=function(e,t,i,n){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight)},e.prototype._fillBottomLineAtCells=function(e,t,i){void 0===i&&(i=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,i*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillLeftLineAtCell=function(e,t,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio*i,this._scaledCellHeight)},e.prototype._strokeRectAtCell=function(e,t,i,n){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,i*this._scaledCellWidth-window.devicePixelRatio,n*this._scaledCellHeight-window.devicePixelRatio)},e.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype._clearCells=function(e,t,i,n){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight))},e.prototype._fillCharTrueColor=function(e,t,i){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline="middle",this._clipRow(i),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2)},e.prototype._drawChars=function(e,t,i){var n,r,o=this._getContrastColor(e);o||e.isFgRGB()||e.isBgRGB()?this._drawUncachedChars(e,t,i,o):(e.isInverse()?(n=e.isBgDefault()?a.INVERTED_DEFAULT_COLOR:e.getBgColor(),r=e.isFgDefault()?a.INVERTED_DEFAULT_COLOR:e.getFgColor()):(r=e.isBgDefault()?s.DEFAULT_COLOR:e.getBgColor(),n=e.isFgDefault()?s.DEFAULT_COLOR:e.getFgColor()),n+=this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&n<8?8:0,this._currentGlyphIdentifier.chars=e.getChars()||s.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||s.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=r,this._currentGlyphIdentifier.fg=n,this._currentGlyphIdentifier.bold=!!e.isBold(),this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic(),this._charAtlas&&this._charAtlas.draw(this._ctx,this._currentGlyphIdentifier,t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(e,t,i))},e.prototype._drawUncachedChars=function(e,t,i,n){if(this._ctx.save(),this._ctx.font=this._getFont(!!e.isBold(),!!e.isItalic()),this._ctx.textBaseline="middle",e.isInverse())if(n)this._ctx.fillStyle=n.css;else if(e.isBgDefault())this._ctx.fillStyle=p.color.opaque(this._colors.background).css;else if(e.isBgRGB())this._ctx.fillStyle="rgb("+c.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var r=e.getBgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&r<8&&(r+=8),this._ctx.fillStyle=this._colors.ansi[r].css}else if(n)this._ctx.fillStyle=n.css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle="rgb("+c.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var o=e.getFgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),this._ctx.fillStyle=this._colors.ansi[o].css}this._clipRow(i),e.isDim()&&(this._ctx.globalAlpha=a.DIM_OPACITY),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2),this._ctx.restore()},e.prototype._clipRow=function(e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t){return(t?"italic":"")+" "+(e?this._optionsService.options.fontWeightBold:this._optionsService.options.fontWeight)+" "+this._optionsService.options.fontSize*window.devicePixelRatio+"px "+this._optionsService.options.fontFamily},e.prototype._getContrastColor=function(e){if(1!==this._optionsService.options.minimumContrastRatio){var t=this._colors.contrastCache.getColor(e.bg,e.fg);if(void 0!==t)return t||void 0;var i=e.getFgColor(),n=e.getFgColorMode(),r=e.getBgColor(),o=e.getBgColorMode(),s=!!e.isInverse(),a=!!e.isInverse();if(s){var c=i;i=r,r=c;var l=n;n=o,o=l}var u=this._resolveBackgroundRgba(o,r,s),h=this._resolveForegroundRgba(n,i,s,a),d=p.rgba.ensureContrastRatio(u,h,this._optionsService.options.minimumContrastRatio);if(d){var f={css:p.channels.toCss(d>>24&255,d>>16&255,d>>8&255),rgba:d};return this._colors.contrastCache.setColor(e.bg,e.fg,f),f}this._colors.contrastCache.setColor(e.bg,e.fg,null)}},e.prototype._resolveBackgroundRgba=function(e,t,i){switch(e){case 16777216:case 33554432:return this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return i?this._colors.foreground.rgba:this._colors.background.rgba}},e.prototype._resolveForegroundRgba=function(e,t,i,n){switch(e){case 16777216:case 33554432:return this._optionsService.options.drawBoldTextInBrightColors&&n&&t<8&&(t+=8),this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return i?this._colors.background.rgba:this._colors.foreground.rgba}},e}();t.BaseRenderLayer=l},function(e,t){"use strict";function r(e,t,i){t.di$target===t?t.di$dependencies.push({id:e,index:i}):(t.di$dependencies=[{id:e,index:i}],t.di$target=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0,t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e.di$dependencies||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);var n=function(e,t,i){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");r(n,e,i)};return n.toString=function(){return e},t.serviceRegistry.set(e,n),n}},function(e,t){"use strict";function r(e,t,i,n){if(void 0===i&&(i=0),void 0===n&&(n=e.length),i>=e.length)return e;i=(e.length+i)%e.length,n=n>=e.length?e.length:(e.length+n)%e.length;for(var r=i;r<n;++r)e[r]=t;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.concat=t.fillFallback=t.fill=void 0,t.fill=function(e,t,i,n){return e.fill?e.fill(t,i,n):r(e,t,i,n)},t.fillFallback=r,t.concat=function(e,t){var i=new e.constructor(e.length+t.length);return i.set(e),i.set(t,e.length),i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;var s=i(8),a=i(3),c=i(4),l=i(6);t.DEFAULT_ATTR_DATA=Object.freeze(new l.AttributeData);var n=function(){function i(e,t,i){void 0===i&&(i=!1),this.isWrapped=i,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);for(var n=t||c.CellData.fromCharData([0,a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]),r=0;r<e;++r)this.setCell(r,n);this.length=e}return i.prototype.get=function(e){var t=this._data[3*e+0],i=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:i?s.stringFromCodePoint(i):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):i]},i.prototype.set=function(e,t){this._data[3*e+1]=t[a.CHAR_DATA_ATTR_INDEX],1<t[a.CHAR_DATA_CHAR_INDEX].length?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[a.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[a.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[a.CHAR_DATA_WIDTH_INDEX]<<22},i.prototype.getWidth=function(e){return this._data[3*e+0]>>22},i.prototype.hasWidth=function(e){return 12582912&this._data[3*e+0]},i.prototype.getFg=function(e){return this._data[3*e+1]},i.prototype.getBg=function(e){return this._data[3*e+2]},i.prototype.hasContent=function(e){return 4194303&this._data[3*e+0]},i.prototype.getCodePoint=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t},i.prototype.isCombined=function(e){return 2097152&this._data[3*e+0]},i.prototype.getString=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?s.stringFromCodePoint(2097151&t):""},i.prototype.loadCell=function(e,t){var i=3*e;return t.content=this._data[i+0],t.fg=this._data[i+1],t.bg=this._data[i+2],2097152&t.content&&(t.combinedData=this._combined[e]),268435456&t.bg&&(t.extended=this._extendedAttrs[e]),t},i.prototype.setCell=function(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),268435456&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg},i.prototype.setCellFromCodePoint=function(e,t,i,n,r,o){268435456&r&&(this._extendedAttrs[e]=o),this._data[3*e+0]=t|i<<22,this._data[3*e+1]=n,this._data[3*e+2]=r},i.prototype.addCodepointToCell=function(e,t){var i=this._data[3*e+0];2097152&i?this._combined[e]+=s.stringFromCodePoint(t):(2097151&i?(this._combined[e]=s.stringFromCodePoint(2097151&i)+s.stringFromCodePoint(t),i&=-2097152,i|=2097152):i=t|1<<22,this._data[3*e+0]=i)},i.prototype.insertCells=function(e,t,i,n){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new l.ExtendedAttrs),t<this.length-e){for(var r=new c.CellData,o=this.length-e-t-1;0<=o;--o)this.setCell(e+t+o,this.loadCell(e+o,r));for(o=0;o<t;++o)this.setCell(e+o,i)}else for(o=e;o<this.length;++o)this.setCell(o,i);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new l.ExtendedAttrs)},i.prototype.deleteCells=function(e,t,i,n){if(e%=this.length,t<this.length-e){for(var r=new c.CellData,o=0;o<this.length-e-t;++o)this.setCell(e+o,this.loadCell(e+t+o,r));for(o=this.length-t;o<this.length;++o)this.setCell(o,i)}else for(o=e;o<this.length;++o)this.setCell(o,i);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new l.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new l.ExtendedAttrs)},i.prototype.replaceCells=function(e,t,i,n){for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new l.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new l.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,i)},i.prototype.resize=function(e,t){if(e!==this.length){if(e>this.length){var i=new Uint32Array(3*e);this.length&&(3*e<this._data.length?i.set(this._data.subarray(0,3*e)):i.set(this._data)),this._data=i;for(var n=this.length;n<e;++n)this.setCell(n,t)}else if(e){(i=new Uint32Array(3*e)).set(this._data.subarray(0,3*e)),this._data=i;var r=Object.keys(this._combined);for(n=0;n<r.length;n++){var o=parseInt(r[n],10);e<=o&&delete this._combined[o]}}else this._data=new Uint32Array(0),this._combined={};this.length=e}},i.prototype.fill=function(e){this._combined={},this._extendedAttrs={};for(var t=0;t<this.length;++t)this.setCell(t,e)},i.prototype.copyFrom=function(e){for(var t in this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];for(var t in this._extendedAttrs={},e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped},i.prototype.clone=function(){var e=new i(0);for(var t in e._data=new Uint32Array(this._data),e.length=this.length,this._combined)e._combined[t]=this._combined[t];for(var t in this._extendedAttrs)e._extendedAttrs[t]=this._extendedAttrs[t];return e.isWrapped=this.isWrapped,e},i.prototype.getTrimmedLength=function(){for(var e=this.length-1;0<=e;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0},i.prototype.copyCellsFrom=function(e,t,i,n,r){var o=e._data;if(r)for(var s=n-1;0<=s;s--)for(var a=0;a<3;a++)this._data[3*(i+s)+a]=o[3*(t+s)+a];else for(s=0;s<n;s++)for(a=0;a<3;a++)this._data[3*(i+s)+a]=o[3*(t+s)+a];var c=Object.keys(e._combined);for(a=0;a<c.length;a++){var l=parseInt(c[a],10);t<=l&&(this._combined[l-t+i]=e._combined[l])}},i.prototype.translateToString=function(e,t,i){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===i&&(i=this.length),e&&(i=Math.min(i,this.getTrimmedLength()));for(var n="";t<i;){var r=this._data[3*t+0],o=2097151&r;n+=2097152&r?this._combined[t]:o?s.stringFromCodePoint(o):a.WHITESPACE_CELL_CHAR,t+=r>>22||1}return n},i}();t.BufferLine=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeElementFromParent=void 0,t.removeElementFromParent=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var n=0,r=t;n<r.length;n++){var o=r[n];null===(e=null==o?void 0:o.parentElement)||void 0===e||e.removeChild(o)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},function(e,t,i){"use strict";function n(e,t){if(24<e)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;var s,a,p=i(12),_=i(20),g=i(39),c=i(2),l=i(15),v=i(8),m=i(16),y=i(0),b=i(3),w=i(4),u=i(6),C=i(22),h=i(24),d={"(":0,")":1,"*":2,"+":3,"-":1,".":2};(a=s=t.WindowsOptionsReportType||(t.WindowsOptionsReportType={}))[a.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",a[a.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";var S=function(){function e(e,t,i,n){this._bufferService=e,this._coreService=t,this._logService=i,this._optionsService=n,this._data=new Uint32Array(0)}return e.prototype.hook=function(){this._data=new Uint32Array(0)},e.prototype.put=function(e,t,i){this._data=l.concat(this._data,e.subarray(t,i))},e.prototype.unhook=function(e){if(e){var t=v.utf32ToString(this._data);switch(this._data=new Uint32Array(0),t){case'"q':return this._coreService.triggerDataEvent(p.C0.ESC+'P1$r0"q'+p.C0.ESC+"\\");case'"p':return this._coreService.triggerDataEvent(p.C0.ESC+'P1$r61;1"p'+p.C0.ESC+"\\");case"r":var i=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";return this._coreService.triggerDataEvent(p.C0.ESC+"P1$r"+i+p.C0.ESC+"\\");case"m":return this._coreService.triggerDataEvent(p.C0.ESC+"P1$r0m"+p.C0.ESC+"\\");case" q":var n={block:2,underline:4,bar:6}[this._optionsService.options.cursorStyle];return n-=this._optionsService.options.cursorBlink?1:0,this._coreService.triggerDataEvent(p.C0.ESC+"P1$r"+n+" q"+p.C0.ESC+"\\");default:this._logService.debug("Unknown DCS $q %s",t),this._coreService.triggerDataEvent(p.C0.ESC+"P0$r"+p.C0.ESC+"\\")}}else this._data=new Uint32Array(0)},e}(),f=function(f){function e(e,t,i,n,r,o,s,a,c){void 0===c&&(c=new g.EscapeSequenceParser);var l=f.call(this)||this;l._bufferService=e,l._charsetService=t,l._coreService=i,l._dirtyRowService=n,l._logService=r,l._optionsService=o,l._coreMouseService=s,l._unicodeService=a,l._parser=c,l._parseBuffer=new Uint32Array(4096),l._stringDecoder=new v.StringToUtf32,l._utf8Decoder=new v.Utf8ToUtf32,l._workCell=new w.CellData,l._windowTitle="",l._iconName="",l._windowTitleStack=[],l._iconNameStack=[],l._curAttrData=m.DEFAULT_ATTR_DATA.clone(),l._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),l._onRequestBell=new y.EventEmitter,l._onRequestRefreshRows=new y.EventEmitter,l._onRequestReset=new y.EventEmitter,l._onRequestScroll=new y.EventEmitter,l._onRequestSyncScrollBar=new y.EventEmitter,l._onRequestWindowsOptionsReport=new y.EventEmitter,l._onA11yChar=new y.EventEmitter,l._onA11yTab=new y.EventEmitter,l._onCursorMove=new y.EventEmitter,l._onLineFeed=new y.EventEmitter,l._onScroll=new y.EventEmitter,l._onTitleChange=new y.EventEmitter,l.register(l._parser),l._parser.setCsiHandlerFallback(function(e,t){l._logService.debug("Unknown CSI code: ",{identifier:l._parser.identToString(e),params:t.toArray()})}),l._parser.setEscHandlerFallback(function(e){l._logService.debug("Unknown ESC code: ",{identifier:l._parser.identToString(e)})}),l._parser.setExecuteHandlerFallback(function(e){l._logService.debug("Unknown EXECUTE code: ",{code:e})}),l._parser.setOscHandlerFallback(function(e,t,i){l._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:i})}),l._parser.setDcsHandlerFallback(function(e,t,i){"HOOK"===t&&(i=i.toArray()),l._logService.debug("Unknown DCS code: ",{identifier:l._parser.identToString(e),action:t,payload:i})}),l._parser.setPrintHandler(function(e,t,i){return l.print(e,t,i)}),l._parser.setCsiHandler({"final":"@"},function(e){return l.insertChars(e)}),l._parser.setCsiHandler({intermediates:" ","final":"@"},function(e){return l.scrollLeft(e)}),l._parser.setCsiHandler({"final":"A"},function(e){return l.cursorUp(e)}),l._parser.setCsiHandler({intermediates:" ","final":"A"},function(e){return l.scrollRight(e)}),l._parser.setCsiHandler({"final":"B"},function(e){return l.cursorDown(e)}),l._parser.setCsiHandler({"final":"C"},function(e){return l.cursorForward(e)}),l._parser.setCsiHandler({"final":"D"},function(e){return l.cursorBackward(e)}),l._parser.setCsiHandler({"final":"E"},function(e){return l.cursorNextLine(e)}),l._parser.setCsiHandler({"final":"F"},function(e){return l.cursorPrecedingLine(e)}),l._parser.setCsiHandler({"final":"G"},function(e){return l.cursorCharAbsolute(e)}),l._parser.setCsiHandler({"final":"H"},function(e){return l.cursorPosition(e)}),l._parser.setCsiHandler({"final":"I"},function(e){return l.cursorForwardTab(e)}),l._parser.setCsiHandler({"final":"J"},function(e){return l.eraseInDisplay(e)}),l._parser.setCsiHandler({prefix:"?","final":"J"},function(e){return l.eraseInDisplay(e)}),l._parser.setCsiHandler({"final":"K"},function(e){return l.eraseInLine(e)}),l._parser.setCsiHandler({prefix:"?","final":"K"},function(e){return l.eraseInLine(e)}),l._parser.setCsiHandler({"final":"L"},function(e){return l.insertLines(e)}),l._parser.setCsiHandler({"final":"M"},function(e){return l.deleteLines(e)}),l._parser.setCsiHandler({"final":"P"},function(e){return l.deleteChars(e)}),l._parser.setCsiHandler({"final":"S"},function(e){return l.scrollUp(e)}),l._parser.setCsiHandler({"final":"T"},function(e){return l.scrollDown(e)}),l._parser.setCsiHandler({"final":"X"},function(e){return l.eraseChars(e)}),l._parser.setCsiHandler({"final":"Z"},function(e){return l.cursorBackwardTab(e)}),l._parser.setCsiHandler({"final":"`"},function(e){return l.charPosAbsolute(e)}),l._parser.setCsiHandler({"final":"a"},function(e){return l.hPositionRelative(e)}),l._parser.setCsiHandler({"final":"b"},function(e){return l.repeatPrecedingCharacter(e)}),l._parser.setCsiHandler({"final":"c"},function(e){return l.sendDeviceAttributesPrimary(e)}),l._parser.setCsiHandler({prefix:">","final":"c"},function(e){return l.sendDeviceAttributesSecondary(e)}),l._parser.setCsiHandler({"final":"d"},function(e){return l.linePosAbsolute(e)}),l._parser.setCsiHandler({"final":"e"},function(e){return l.vPositionRelative(e)}),l._parser.setCsiHandler({"final":"f"},function(e){return l.hVPosition(e)}),l._parser.setCsiHandler({"final":"g"},function(e){return l.tabClear(e)}),l._parser.setCsiHandler({"final":"h"},function(e){return l.setMode(e)}),l._parser.setCsiHandler({prefix:"?","final":"h"},function(e){return l.setModePrivate(e)}),l._parser.setCsiHandler({"final":"l"},function(e){return l.resetMode(e)}),l._parser.setCsiHandler({prefix:"?","final":"l"},function(e){return l.resetModePrivate(e)}),l._parser.setCsiHandler({"final":"m"},function(e){return l.charAttributes(e)}),l._parser.setCsiHandler({"final":"n"},function(e){return l.deviceStatus(e)}),l._parser.setCsiHandler({prefix:"?","final":"n"},function(e){return l.deviceStatusPrivate(e)}),l._parser.setCsiHandler({intermediates:"!","final":"p"},function(e){return l.softReset(e)}),l._parser.setCsiHandler({intermediates:" ","final":"q"},function(e){return l.setCursorStyle(e)}),l._parser.setCsiHandler({"final":"r"},function(e){return l.setScrollRegion(e)}),l._parser.setCsiHandler({"final":"s"},function(e){return l.saveCursor(e)}),l._parser.setCsiHandler({"final":"t"},function(e){return l.windowOptions(e)}),l._parser.setCsiHandler({"final":"u"},function(e){return l.restoreCursor(e)}),l._parser.setCsiHandler({intermediates:"'","final":"}"},function(e){return l.insertColumns(e)}),l._parser.setCsiHandler({intermediates:"'","final":"~"},function(e){return l.deleteColumns(e)}),l._parser.setExecuteHandler(p.C0.BEL,function(){return l.bell()}),l._parser.setExecuteHandler(p.C0.LF,function(){return l.lineFeed()}),l._parser.setExecuteHandler(p.C0.VT,function(){return l.lineFeed()}),l._parser.setExecuteHandler(p.C0.FF,function(){return l.lineFeed()}),l._parser.setExecuteHandler(p.C0.CR,function(){return l.carriageReturn()}),l._parser.setExecuteHandler(p.C0.BS,function(){return l.backspace()}),l._parser.setExecuteHandler(p.C0.HT,function(){return l.tab()}),l._parser.setExecuteHandler(p.C0.SO,function(){return l.shiftOut()}),l._parser.setExecuteHandler(p.C0.SI,function(){return l.shiftIn()}),l._parser.setExecuteHandler(p.C1.IND,function(){return l.index()}),l._parser.setExecuteHandler(p.C1.NEL,function(){return l.nextLine()}),l._parser.setExecuteHandler(p.C1.HTS,function(){return l.tabSet()}),l._parser.setOscHandler(0,new C.OscHandler(function(e){l.setTitle(e),l.setIconName(e)})),l._parser.setOscHandler(1,new C.OscHandler(function(e){return l.setIconName(e)})),l._parser.setOscHandler(2,new C.OscHandler(function(e){return l.setTitle(e)})),l._parser.setEscHandler({"final":"7"},function(){return l.saveCursor()}),l._parser.setEscHandler({"final":"8"},function(){return l.restoreCursor()}),l._parser.setEscHandler({"final":"D"},function(){return l.index()}),l._parser.setEscHandler({"final":"E"},function(){return l.nextLine()}),l._parser.setEscHandler({"final":"H"},function(){return l.tabSet()}),l._parser.setEscHandler({"final":"M"},function(){return l.reverseIndex()}),l._parser.setEscHandler({"final":"="},function(){return l.keypadApplicationMode()}),l._parser.setEscHandler({"final":">"},function(){return l.keypadNumericMode()}),l._parser.setEscHandler({"final":"c"},function(){return l.fullReset()}),l._parser.setEscHandler({"final":"n"},function(){return l.setgLevel(2)}),l._parser.setEscHandler({"final":"o"},function(){return l.setgLevel(3)}),l._parser.setEscHandler({"final":"|"},function(){return l.setgLevel(3)}),l._parser.setEscHandler({"final":"}"},function(){return l.setgLevel(2)}),l._parser.setEscHandler({"final":"~"},function(){return l.setgLevel(1)}),l._parser.setEscHandler({intermediates:"%","final":"@"},function(){return l.selectDefaultCharset()}),l._parser.setEscHandler({intermediates:"%","final":"G"},function(){return l.selectDefaultCharset()});var u=function(e){h._parser.setEscHandler({intermediates:"(","final":e},function(){return l.selectCharset("("+e)}),h._parser.setEscHandler({intermediates:")","final":e},function(){return l.selectCharset(")"+e)}),h._parser.setEscHandler({intermediates:"*","final":e},function(){return l.selectCharset("*"+e)}),h._parser.setEscHandler({intermediates:"+","final":e},function(){return l.selectCharset("+"+e)}),h._parser.setEscHandler({intermediates:"-","final":e},function(){return l.selectCharset("-"+e)}),h._parser.setEscHandler({intermediates:".","final":e},function(){return l.selectCharset("."+e)}),h._parser.setEscHandler({intermediates:"/","final":e},function(){return l.selectCharset("/"+e)})},h=this;for(var d in _.CHARSETS)u(d);return l._parser.setEscHandler({intermediates:"#","final":"8"},function(){return l.screenAlignmentPattern()}),l._parser.setErrorHandler(function(e){return l._logService.error("Parsing error: ",e),e}),l._parser.setDcsHandler({intermediates:"$","final":"q"},new S(l._bufferService,l._coreService,l._logService,l._optionsService)),l}return o(e,f),Object.defineProperty(e.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRequestScroll",{get:function(){return this._onRequestScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){f.prototype.dispose.call(this)},e.prototype.parse=function(e){var t=this._bufferService.buffer,i=t.x,n=t.y;if(this._logService.debug("parsing data",e),this._parseBuffer.length<e.length&&this._parseBuffer.length<131072&&(this._parseBuffer=new Uint32Array(Math.min(e.length,131072))),this._dirtyRowService.clearRange(),131072<e.length)for(var r=0;r<e.length;r+=131072){var o=r+131072<e.length?r+131072:e.length,s="string"==typeof e?this._stringDecoder.decode(e.substring(r,o),this._parseBuffer):this._utf8Decoder.decode(e.subarray(r,o),this._parseBuffer);this._parser.parse(this._parseBuffer,s)}else s="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer),this._parser.parse(this._parseBuffer,s);(t=this._bufferService.buffer).x===i&&t.y===n||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},e.prototype.print=function(e,t,i){var n,r,o=this._bufferService.buffer,s=this._charsetService.charset,a=this._optionsService.options.screenReaderMode,c=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,u=this._coreService.modes.insertMode,h=this._curAttrData,d=o.lines.get(o.ybase+o.y);this._dirtyRowService.markDirty(o.y),o.x&&0<i-t&&2===d.getWidth(o.x-1)&&d.setCellFromCodePoint(o.x-1,0,1,h.fg,h.bg,h.extended);for(var f=t;f<i;++f){if(n=e[f],r=this._unicodeService.wcwidth(n),n<127&&s){var p=s[String.fromCharCode(n)];p&&(n=p.charCodeAt(0))}if(a&&this._onA11yChar.fire(v.stringFromCodePoint(n)),r||!o.x){if(o.x+r-1>=c)if(l){for(;o.x<c;)d.setCellFromCodePoint(o.x++,0,1,h.fg,h.bg,h.extended);o.x=0,o.y++,o.y===o.scrollBottom+1?(o.y--,this._onRequestScroll.fire(this._eraseAttrData(),!0)):(o.y>=this._bufferService.rows&&(o.y=this._bufferService.rows-1),o.lines.get(o.ybase+o.y).isWrapped=!0),d=o.lines.get(o.ybase+o.y)}else if(o.x=c-1,2===r)continue;if(u&&(d.insertCells(o.x,r,o.getNullCell(h),h),2===d.getWidth(c-1)&&d.setCellFromCodePoint(c-1,b.NULL_CELL_CODE,b.NULL_CELL_WIDTH,h.fg,h.bg,h.extended)),d.setCellFromCodePoint(o.x++,n,r,h.fg,h.bg,h.extended),0<r)for(;--r;)d.setCellFromCodePoint(o.x++,0,0,h.fg,h.bg,h.extended)}else d.getWidth(o.x-1)?d.addCodepointToCell(o.x-1,n):d.addCodepointToCell(o.x-2,n)}0<i-t&&(d.loadCell(o.x-1,this._workCell),2===this._workCell.getWidth()||65535<this._workCell.getCode()?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),o.x<c&&0<i-t&&0===d.getWidth(o.x)&&!d.hasContent(o.x)&&d.setCellFromCodePoint(o.x,0,1,h.fg,h.bg,h.extended),this._dirtyRowService.markDirty(o.y)},e.prototype.addCsiHandler=function(e,t){var i=this
;return"t"!==e["final"]||e.prefix||e.intermediates?this._parser.addCsiHandler(e,t):this._parser.addCsiHandler(e,function(e){return!n(e.params[0],i._optionsService.options.windowOptions)||t(e)})},e.prototype.addDcsHandler=function(e,t){return this._parser.addDcsHandler(e,new h.DcsHandler(t))},e.prototype.addEscHandler=function(e,t){return this._parser.addEscHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this._parser.addOscHandler(e,new C.OscHandler(t))},e.prototype.bell=function(){this._onRequestBell.fire()},e.prototype.lineFeed=function(){var e=this._bufferService.buffer;this._dirtyRowService.markDirty(e.y),this._optionsService.options.convertEol&&(e.x=0),e.y++,e.y===e.scrollBottom+1?(e.y--,this._onRequestScroll.fire(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),e.x>=this._bufferService.cols&&e.x--,this._dirtyRowService.markDirty(e.y),this._onLineFeed.fire()},e.prototype.carriageReturn=function(){this._bufferService.buffer.x=0},e.prototype.backspace=function(){var e,t=this._bufferService.buffer;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),void(0<t.x&&t.x--);if(this._restrictCursor(this._bufferService.cols),0<t.x)t.x--;else if(0===t.x&&t.y>t.scrollTop&&t.y<=t.scrollBottom&&(null===(e=t.lines.get(t.ybase+t.y))||void 0===e?void 0:e.isWrapped)){t.lines.get(t.ybase+t.y).isWrapped=!1,t.y--,t.x=this._bufferService.cols-1;var i=t.lines.get(t.ybase+t.y);i.hasWidth(t.x)&&!i.hasContent(t.x)&&t.x--}this._restrictCursor()},e.prototype.tab=function(){if(!(this._bufferService.buffer.x>=this._bufferService.cols)){var e=this._bufferService.buffer.x;this._bufferService.buffer.x=this._bufferService.buffer.nextStop(),this._optionsService.options.screenReaderMode&&this._onA11yTab.fire(this._bufferService.buffer.x-e)}},e.prototype.shiftOut=function(){this._charsetService.setgLevel(1)},e.prototype.shiftIn=function(){this._charsetService.setgLevel(0)},e.prototype._restrictCursor=function(e){void 0===e&&(e=this._bufferService.cols-1),this._bufferService.buffer.x=Math.min(e,Math.max(0,this._bufferService.buffer.x)),this._bufferService.buffer.y=this._coreService.decPrivateModes.origin?Math.min(this._bufferService.buffer.scrollBottom,Math.max(this._bufferService.buffer.scrollTop,this._bufferService.buffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._bufferService.buffer.y)),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},e.prototype._setCursor=function(e,t){this._dirtyRowService.markDirty(this._bufferService.buffer.y),this._coreService.decPrivateModes.origin?(this._bufferService.buffer.x=e,this._bufferService.buffer.y=this._bufferService.buffer.scrollTop+t):(this._bufferService.buffer.x=e,this._bufferService.buffer.y=t),this._restrictCursor(),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},e.prototype._moveCursor=function(e,t){this._restrictCursor(),this._setCursor(this._bufferService.buffer.x+e,this._bufferService.buffer.y+t)},e.prototype.cursorUp=function(e){var t=this._bufferService.buffer.y-this._bufferService.buffer.scrollTop;0<=t?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1))},e.prototype.cursorDown=function(e){var t=this._bufferService.buffer.scrollBottom-this._bufferService.buffer.y;0<=t?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1)},e.prototype.cursorForward=function(e){this._moveCursor(e.params[0]||1,0)},e.prototype.cursorBackward=function(e){this._moveCursor(-(e.params[0]||1),0)},e.prototype.cursorNextLine=function(e){this.cursorDown(e),this._bufferService.buffer.x=0},e.prototype.cursorPrecedingLine=function(e){this.cursorUp(e),this._bufferService.buffer.x=0},e.prototype.cursorCharAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},e.prototype.cursorPosition=function(e){this._setCursor(2<=e.length?(e.params[1]||1)-1:0,(e.params[0]||1)-1)},e.prototype.charPosAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},e.prototype.hPositionRelative=function(e){this._moveCursor(e.params[0]||1,0)},e.prototype.linePosAbsolute=function(e){this._setCursor(this._bufferService.buffer.x,(e.params[0]||1)-1)},e.prototype.vPositionRelative=function(e){this._moveCursor(0,e.params[0]||1)},e.prototype.hVPosition=function(e){this.cursorPosition(e)},e.prototype.tabClear=function(e){var t=e.params[0];0===t?delete this._bufferService.buffer.tabs[this._bufferService.buffer.x]:3===t&&(this._bufferService.buffer.tabs={})},e.prototype.cursorForwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1;t--;)this._bufferService.buffer.x=this._bufferService.buffer.nextStop()},e.prototype.cursorBackwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.x=i.prevStop()},e.prototype._eraseInBufferLine=function(e,t,i,n){void 0===n&&(n=!1);var r=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);r.replaceCells(t,i,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),n&&(r.isWrapped=!1)},e.prototype._resetBufferLine=function(e){var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);t.fill(this._bufferService.buffer.getNullCell(this._eraseAttrData())),t.isWrapped=!1},e.prototype.eraseInDisplay=function(e){var t;switch(this._restrictCursor(),e.params[0]){case 0:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t++,this._bufferService.buffer.x,this._bufferService.cols,0===this._bufferService.buffer.x);t<this._bufferService.rows;t++)this._resetBufferLine(t);this._dirtyRowService.markDirty(t);break;case 1:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t,0,this._bufferService.buffer.x+1,!0),this._bufferService.buffer.x+1>=this._bufferService.cols&&(this._bufferService.buffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowService.markDirty(t-1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 3:var i=this._bufferService.buffer.lines.length-this._bufferService.rows;0<i&&(this._bufferService.buffer.lines.trimStart(i),this._bufferService.buffer.ybase=Math.max(this._bufferService.buffer.ybase-i,0),this._bufferService.buffer.ydisp=Math.max(this._bufferService.buffer.ydisp-i,0),this._onScroll.fire(0))}},e.prototype.eraseInLine=function(e){switch(this._restrictCursor(),e.params[0]){case 0:this._eraseInBufferLine(this._bufferService.buffer.y,this._bufferService.buffer.x,this._bufferService.cols);break;case 1:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.buffer.x+1);break;case 2:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.cols)}this._dirtyRowService.markDirty(this._bufferService.buffer.y)},e.prototype.insertLines=function(e){this._restrictCursor();var t=e.params[0]||1,i=this._bufferService.buffer;if(!(i.y>i.scrollBottom||i.y<i.scrollTop)){for(var n=i.ybase+i.y,r=this._bufferService.rows-1-i.scrollBottom,o=this._bufferService.rows-1+i.ybase-r+1;t--;)i.lines.splice(o-1,1),i.lines.splice(n,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.y,i.scrollBottom),i.x=0}},e.prototype.deleteLines=function(e){this._restrictCursor();var t=e.params[0]||1,i=this._bufferService.buffer;if(!(i.y>i.scrollBottom||i.y<i.scrollTop)){var n,r=i.ybase+i.y;for(n=this._bufferService.rows-1-i.scrollBottom,n=this._bufferService.rows-1+i.ybase-n;t--;)i.lines.splice(r,1),i.lines.splice(n,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.y,i.scrollBottom),i.x=0}},e.prototype.insertChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.insertCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},e.prototype.deleteChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.deleteCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},e.prototype.scrollUp=function(e){for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.lines.splice(i.ybase+i.scrollTop,1),i.lines.splice(i.ybase+i.scrollBottom,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.scrollTop,i.scrollBottom)},e.prototype.scrollDown=function(e){for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.lines.splice(i.ybase+i.scrollBottom,1),i.lines.splice(i.ybase+i.scrollTop,0,i.getBlankLine(m.DEFAULT_ATTR_DATA));this._dirtyRowService.markRangeDirty(i.scrollTop,i.scrollBottom)},e.prototype.scrollLeft=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=t.lines.get(t.ybase+n);r.deleteCells(0,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},e.prototype.scrollRight=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=t.lines.get(t.ybase+n);r.insertCells(0,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},e.prototype.insertColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=this._bufferService.buffer.lines.get(t.ybase+n);r.insertCells(t.x,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},e.prototype.deleteColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=t.lines.get(t.ybase+n);r.deleteCells(t.x,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},e.prototype.eraseChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+this._bufferService.buffer.y);t&&(t.replaceCells(this._bufferService.buffer.x,this._bufferService.buffer.x+(e.params[0]||1),this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},e.prototype.repeatPrecedingCharacter=function(e){if(this._parser.precedingCodepoint){for(var t=e.params[0]||1,i=new Uint32Array(t),n=0;n<t;++n)i[n]=this._parser.precedingCodepoint;this.print(i,0,i.length)}},e.prototype.sendDeviceAttributesPrimary=function(e){0<e.params[0]||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(p.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(p.C0.ESC+"[?6c"))},e.prototype.sendDeviceAttributesSecondary=function(e){0<e.params[0]||(this._is("xterm")?this._coreService.triggerDataEvent(p.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(p.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(p.C0.ESC+"[>83;40003;0c"))},e.prototype._is=function(e){return 0===(this._optionsService.options.termName+"").indexOf(e)},e.prototype.setMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0}},e.prototype.setModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,_.DEFAULT_CHARSET),this._charsetService.setgCharset(1,_.DEFAULT_CHARSET),this._charsetService.setgCharset(2,_.DEFAULT_CHARSET),this._charsetService.setgCharset(3,_.DEFAULT_CHARSET);break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0;break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}},e.prototype.resetMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1}},e.prototype.resetModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}},e.prototype._updateAttrColor=function(e,t,i,n,r){return 2===t?(e|=50331648,e&=-16777216,e|=u.AttributeData.fromColorRGB([i,n,r])):5===t&&(e&=-50331904,e|=33554432|255&i),e},e.prototype._extractColor=function(e,t,i){var n=[0,0,-1,0,0,0],r=0,o=0;do{if(n[o+r]=e.params[t+o],e.hasSubParams(t+o)){for(var s=e.getSubParams(t+o),a=0;5===n[1]&&(r=1),n[o+a+1+r]=s[a],++a<s.length&&a+o+1+r<n.length;);break}if(5===n[1]&&2<=o+r||2===n[1]&&5<=o+r)break;n[1]&&(r=1)}while(++o+t<e.length&&o+r<n.length);for(a=2;a<n.length;++a)-1===n[a]&&(n[a]=0);switch(n[0]){case 38:i.fg=this._updateAttrColor(i.fg,n[1],n[3],n[4],n[5]);break;case 48:i.bg=this._updateAttrColor(i.bg,n[1],n[3],n[4],n[5]);break;case 58:i.extended=i.extended.clone(),i.extended.underlineColor=this._updateAttrColor(i.extended.underlineColor,n[1],n[3],n[4],n[5])}return o},e.prototype._processUnderline=function(e,t){t.extended=t.extended.clone(),(!~e||5<e)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,0===e&&(t.fg&=-268435457),t.updateExtended()},e.prototype.charAttributes=function(e){if(1===e.length&&0===e.params[0])return this._curAttrData.fg=m.DEFAULT_ATTR_DATA.fg,void(this._curAttrData.bg=m.DEFAULT_ATTR_DATA.bg);for(var t,i=e.length,n=this._curAttrData,r=0;r<i;r++)30<=(t=e.params[r])&&t<=37?(n.fg&=-50331904,n.fg|=16777216|t-30):40<=t&&t<=47?(n.bg&=-50331904,n.bg|=16777216|t-40):90<=t&&t<=97?(n.fg&=-50331904,n.fg|=16777224|t-90):100<=t&&t<=107?(n.bg&=-50331904,n.bg|=16777224|t-100):0===t?(n.fg=m.DEFAULT_ATTR_DATA.fg,n.bg=m.DEFAULT_ATTR_DATA.bg):1===t?n.fg|=134217728:3===t?n.bg|=67108864:4===t?(n.fg|=268435456,this._processUnderline(e.hasSubParams(r)?e.getSubParams(r)[0]:1,n)):5===t?n.fg|=536870912:7===t?n.fg|=67108864:8===t?n.fg|=1073741824:2===t?n.bg|=134217728:21===t?this._processUnderline(2,n):22===t?(n.fg&=-134217729,n.bg&=-134217729):23===t?n.bg&=-67108865:24===t?n.fg&=-268435457:25===t?n.fg&=-536870913:27===t?n.fg&=-67108865:28===t?n.fg&=-1073741825:39===t?(n.fg&=-67108864,n.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):49===t?(n.bg&=-67108864,n.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):38===t||48===t||58===t?r+=this._extractColor(e,r,n):59===t?(n.extended=n.extended.clone(),n.extended.underlineColor=-1,n.updateExtended()):100===t?(n.fg&=-67108864,n.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,n.bg&=-67108864,n.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",t)},e.prototype.deviceStatus=function(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(p.C0.ESC+"[0n");break;case 6:var t=this._bufferService.buffer.y+1,i=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(p.C0.ESC+"["+t+";"+i+"R")}},e.prototype.deviceStatusPrivate=function(e){switch(e.params[0]){case 6:var t=this._bufferService.buffer.y+1,i=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(p.C0.ESC+"[?"+t+";"+i+"R")}},e.prototype.softReset=function(){this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._bufferService.buffer.scrollTop=0,this._bufferService.buffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._bufferService.buffer.savedX=0,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase,this._bufferService.buffer.savedCurAttrData.fg=this._curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._curAttrData.bg,this._bufferService.buffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1},e.prototype.setCursorStyle=function(e){var t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var i=t%2==1;this._optionsService.options.cursorBlink=i},e.prototype.setScrollRegion=function(e){var t,i=e.params[0]||1;(e.length<2||(t=e.params[1])>this._bufferService.rows||0===t)&&(t=this._bufferService.rows),i<t&&(this._bufferService.buffer.scrollTop=i-1,this._bufferService.buffer.scrollBottom=t-1,this._setCursor(0,0))},e.prototype.windowOptions=function(e){if(n(e.params[0],this._optionsService.options.windowOptions)){var t=1<e.length?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(s.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(s.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(p.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),10<this._windowTitleStack.length&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),10<this._iconNameStack.length&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}}},e.prototype.saveCursor=function(){this._bufferService.buffer.savedX=this._bufferService.buffer.x,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase+this._bufferService.buffer.y,this._bufferService.buffer.savedCurAttrData.fg=this._curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._curAttrData.bg,this._bufferService.buffer.savedCharset=this._charsetService.charset},e.prototype.restoreCursor=function(){this._bufferService.buffer.x=this._bufferService.buffer.savedX||0,this._bufferService.buffer.y=Math.max(this._bufferService.buffer.savedY-this._bufferService.buffer.ybase,0),this._curAttrData.fg=this._bufferService.buffer.savedCurAttrData.fg,this._curAttrData.bg=this._bufferService.buffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._bufferService.buffer.savedCharset&&(this._charsetService.charset=this._bufferService.buffer.savedCharset),this._restrictCursor()},e.prototype.setTitle=function(e){this._windowTitle=e,this._onTitleChange.fire(e)},e.prototype.setIconName=function(e){this._iconName=e},e.prototype.nextLine=function(){this._bufferService.buffer.x=0,this.index()},e.prototype.keypadApplicationMode=function(){this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire()},e.prototype.keypadNumericMode=function(){this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire()},e.prototype.selectDefaultCharset=function(){this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,_.DEFAULT_CHARSET)},e.prototype.selectCharset=function(e){2===e.length?"/"!==e[0]&&this._charsetService.setgCharset(d[e[0]],_.CHARSETS[e[1]]||_.DEFAULT_CHARSET):this.selectDefaultCharset()},e.prototype.index=function(){this._restrictCursor();var e=this._bufferService.buffer;this._bufferService.buffer.y++,e.y===e.scrollBottom+1?(e.y--,this._onRequestScroll.fire(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),this._restrictCursor()},e.prototype.tabSet=function(){this._bufferService.buffer.tabs[this._bufferService.buffer.x]=!0},e.prototype.reverseIndex=function(){this._restrictCursor();var e=this._bufferService.buffer;if(e.y===e.scrollTop){var t=e.scrollBottom-e.scrollTop;e.lines.shiftElements(e.ybase+e.y,t,1),e.lines.set(e.ybase+e.y,e.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(e.scrollTop,e.scrollBottom)}else e.y--,this._restrictCursor()},e.prototype.fullReset=function(){this._parser.reset(),this._onRequestReset.fire()},e.prototype.reset=function(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()},e.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},e.prototype.setgLevel=function(e){this._charsetService.setgLevel(e)},e.prototype.screenAlignmentPattern=function(){var e=new w.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg;var t=this._bufferService.buffer;this._setCursor(0,0);for(var i=0;i<this._bufferService.rows;++i){var n=t.ybase+t.y+i,r=t.lines.get(n);r&&(r.fill(e),r.isWrapped=!1)}this._dirtyRowService.markAllDirty(),this._setCursor(0,0)},e}(c.Disposable);t.InputHandler=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},t.CHARSETS.A={"#":"\xa3"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},t.CHARSETS.C=t.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},t.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},t.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},t.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},t.CHARSETS.E=t.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},t.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},t.CHARSETS.H=t.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;var i=function(){function o(e,t){if(void 0===e&&(e=32),void 0===t&&(t=32),this.maxLength=e,256<(this.maxSubParamsLength=t))throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return o.fromArray=function(e){var t=new o;if(!e.length)return t;for(var i=e[0]instanceof Array?1:0;i<e.length;++i){var n=e[i];if(n instanceof Array)for(var r=0;r<n.length;++r)t.addSubParam(n[r]);else t.addParam(n)}return t},o.prototype.clone=function(){var e=new o(this.maxLength,this.maxSubParamsLength);return e.params.set(this.params),e.length=this.length,e._subParams.set(this._subParams),e._subParamsLength=this._subParamsLength,e._subParamsIdx.set(this._subParamsIdx),e._rejectDigits=this._rejectDigits,e._rejectSubDigits=this._rejectSubDigits,e._digitIsSub=this._digitIsSub,e},o.prototype.toArray=function(){for(var e=[],t=0;t<this.length;++t){e.push(this.params[t]);var i=this._subParamsIdx[t]>>8,n=255&this._subParamsIdx[t];0<n-i&&e.push(Array.prototype.slice.call(this._subParams,i,n))}return e},o.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},o.prototype.addParam=function(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=2147483647<e?2147483647:e}},o.prototype.addSubParam=function(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=2147483647<e?2147483647:e,this._subParamsIdx[this.length-1]++}},o.prototype.hasSubParams=function(e){return 0<(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)},o.prototype.getSubParams=function(e){var t=this._subParamsIdx[e]>>8,i=255&this._subParamsIdx[e];return 0<i-t?this._subParams.subarray(t,i):null},o.prototype.getSubParamsAll=function(){for(var e={},t=0;t<this.length;++t){var i=this._subParamsIdx[t]>>8,n=255&this._subParamsIdx[t];0<n-i&&(e[t]=this._subParams.slice(i,n))}return e},o.prototype.addDigit=function(e){var t;if(!(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var i=this._digitIsSub?this._subParams:this.params,n=i[t-1];i[t-1]=~n?Math.min(10*n+e,2147483647):e}},o}();t.Params=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;var n=i(23),o=i(8),r=function(){function e(){this._state=0,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){}}return e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var i=this._handlers[e];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.reset=function(){2===this._state&&this.end(!1),this._id=-1,this._state=0},e.prototype._start=function(){var e=this._handlers[this._id];if(e)for(var t=e.length-1;0<=t;t--)e[t].start();else this._handlerFb(this._id,"START")},e.prototype._put=function(e,t,i){var n=this._handlers[this._id];if(n)for(var r=n.length-1;0<=r;r--)n[r].put(e,t,i);else this._handlerFb(this._id,"PUT",o.utf32ToString(e,t,i))},e.prototype._end=function(e){var t=this._handlers[this._id];if(t){for(var i=t.length-1;0<=i&&!1===t[i].end(e);i--);for(i--;0<=i;i--)t[i].end(!1)}else this._handlerFb(this._id,"END",e)},e.prototype.start=function(){this.reset(),this._id=-1,this._state=1},e.prototype.put=function(e,t,i){if(3!==this._state){if(1===this._state)for(;t<i;){var n=e[t++];if(59===n){this._state=2,this._start();break}if(n<48||57<n)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+n-48}2===this._state&&0<i-t&&this._put(e,t,i)}},e.prototype.end=function(e){0!==this._state&&(3!==this._state&&(1===this._state&&this._start(),this._end(e)),this._id=-1,this._state=0)},e}();t.OscParser=r;var s=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.start=function(){this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,i){this._hitLimit||(this._data+=o.utf32ToString(e,t,i),this._data.length>n.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.end=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data)),this._data="",this._hitLimit=!1,t},e}();t.OscHandler=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;var r=i(8),n=i(21),o=i(23),s=[],a=function(){function e(){this._handlers=Object.create(null),this._active=s,this._ident=0,this._handlerFb=function(){}}return e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var i=this._handlers[e];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.reset=function(){this._active.length&&this.unhook(!1),this._active=s,this._ident=0},e.prototype.hook=function(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||s,this._active.length)for(var i=this._active.length-1;0<=i;i--)this._active[i].hook(t);else this._handlerFb(this._ident,"HOOK",t)},e.prototype.put=function(e,t,i){if(this._active.length)for(var n=this._active.length-1;0<=n;n--)this._active[n].put(e,t,i);else this._handlerFb(this._ident,"PUT",r.utf32ToString(e,t,i))},e.prototype.unhook=function(e){if(this._active.length){for(var t=this._active.length-1;0<=t&&!1===this._active[t].unhook(e);t--);for(t--;0<=t;t--)this._active[t].unhook(!1)}else this._handlerFb(this._ident,"UNHOOK",e);this._active=s,this._ident=0},e}();t.DcsParser=a;var c=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.hook=function(e){this._params=e.clone(),this._data="",this._hitLimit=!1},
e.prototype.put=function(e,t,i){this._hitLimit||(this._data+=r.utf32ToString(e,t,i),this._data.length>o.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.unhook=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data,this._params||new n.Params)),this._params=void 0,this._data="",this._hitLimit=!1,t},e}();t.DcsHandler=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeTerminalFromCache=t.acquireCharAtlas=void 0;var u=i(26),h=i(43),d=[];t.acquireCharAtlas=function(e,t,i,n,r){for(var o=u.generateConfig(n,r,e,i),s=0;s<d.length;s++){var a=(c=d[s]).ownedBy.indexOf(t);if(0<=a){if(u.configEquals(c.config,o))return c.atlas;1===c.ownedBy.length?(c.atlas.dispose(),d.splice(s,1)):c.ownedBy.splice(a,1);break}}for(s=0;s<d.length;s++){var c=d[s];if(u.configEquals(c.config,o))return c.ownedBy.push(t),c.atlas}var l={atlas:new h.DynamicCharAtlas(document,o),config:o,ownedBy:[t]};return d.push(l),l.atlas},t.removeTerminalFromCache=function(e){for(var t=0;t<d.length;t++){var i=d[t].ownedBy.indexOf(e);if(-1!==i){1===d[t].ownedBy.length?(d[t].atlas.dispose(),d.splice(t,1)):d[t].ownedBy.splice(i,1);break}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.is256Color=t.configEquals=t.generateConfig=void 0;var n=i(3);t.generateConfig=function(e,t,i,n){var r={foreground:n.foreground,background:n.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:n.ansi.slice(0,16)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:i.fontFamily,fontSize:i.fontSize,fontWeight:i.fontWeight,fontWeightBold:i.fontWeightBold,allowTransparency:i.allowTransparency,colors:r}},t.configEquals=function(e,t){for(var i=0;i<e.colors.ansi.length;i++)if(e.colors.ansi[i].rgba!==t.colors.ansi[i].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},t.is256Color=function(e){return e<n.DEFAULT_COLOR}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ColorManager=r.DEFAULT_ANSI_COLORS=void 0;var u=t(10),o=t(45),s=u.css.toColor("#ffffff"),a=u.css.toColor("#000000"),c=u.css.toColor("#ffffff"),l=u.css.toColor("#000000"),h={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};r.DEFAULT_ANSI_COLORS=function(){for(var e=[u.css.toColor("#2e3436"),u.css.toColor("#cc0000"),u.css.toColor("#4e9a06"),u.css.toColor("#c4a000"),u.css.toColor("#3465a4"),u.css.toColor("#75507b"),u.css.toColor("#06989a"),u.css.toColor("#d3d7cf"),u.css.toColor("#555753"),u.css.toColor("#ef2929"),u.css.toColor("#8ae234"),u.css.toColor("#fce94f"),u.css.toColor("#729fcf"),u.css.toColor("#ad7fa8"),u.css.toColor("#34e2e2"),u.css.toColor("#eeeeec")],t=[0,95,135,175,215,255],i=0;i<216;i++){var n=t[i/36%6|0],r=t[i/6%6|0],o=t[i%6];e.push({css:u.channels.toCss(n,r,o),rgba:u.channels.toRgba(n,r,o)})}for(i=0;i<24;i++){var s=8+10*i;e.push({css:u.channels.toCss(s,s,s),rgba:u.channels.toRgba(s,s,s)})}return e}();var i=function(){function e(e,t){this.allowTransparency=t;var i=e.createElement("canvas");i.width=1,i.height=1;var n=i.getContext("2d");if(!n)throw new Error("Could not get rendering context");this._ctx=n,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new o.ColorContrastCache,this.colors={foreground:s,background:a,cursor:c,cursorAccent:l,selectionTransparent:h,selectionOpaque:u.color.blend(a,h),ansi:r.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache}}return e.prototype.onOptionsChange=function(e){"minimumContrastRatio"===e&&this._contrastCache.clear()},e.prototype.setTheme=function(e){void 0===e&&(e={}),this.colors.foreground=this._parseColor(e.foreground,s),this.colors.background=this._parseColor(e.background,a),this.colors.cursor=this._parseColor(e.cursor,c,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,l,!0),this.colors.selectionTransparent=this._parseColor(e.selection,h,!0),this.colors.selectionOpaque=u.color.blend(this.colors.background,this.colors.selectionTransparent),u.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=u.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(e.black,r.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,r.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,r.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,r.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,r.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,r.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,r.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,r.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,r.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,r.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,r.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,r.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,r.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,r.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,r.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,r.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear()},e.prototype._parseColor=function(e,t,i){if(void 0===i&&(i=this.allowTransparency),void 0===e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+e+" is invalid using fallback "+t.css),t;this._ctx.fillRect(0,0,1,1);var n=this._ctx.getImageData(0,0,1,1).data;if(255===n[3])return{css:this._ctx.fillStyle,rgba:u.channels.toRgba(n[0],n[1],n[2],n[3])};if(!i)return console.warn("Color: "+e+" is using transparency, but allowTransparency is false. Using fallback "+t.css+"."),t;var r=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(e){return Number(e)}),o=r[0],s=r[1],a=r[2],c=r[3],l=Math.round(255*c);return{rgba:u.channels.toRgba(o,s,a,l),css:e}},e}();r.ColorManager=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e}},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerRegistry=t.JoinedCellData=void 0;var r=i(6),d=i(3),s=i(4),a=function(r){function e(e,t,i){var n=r.call(this)||this;return n.content=0,n.combinedData="",n.fg=e.fg,n.bg=e.bg,n.combinedData=t,n._width=i,n}return o(e,r),e.prototype.isCombined=function(){return 2097152},e.prototype.getWidth=function(){return this._width},e.prototype.getChars=function(){return this.combinedData},e.prototype.getCode=function(){return 2097151},e.prototype.setFromCharData=function(){throw new Error("not implemented")},e.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},e}(r.AttributeData);t.JoinedCellData=a;var c=function(){function u(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new s.CellData}return u.prototype.registerCharacterJoiner=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},u.prototype.deregisterCharacterJoiner=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},u.prototype.getJoinedCharacters=function(e){if(0===this._characterJoiners.length)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];for(var i=[],n=t.translateToString(!0),r=0,o=0,s=0,a=t.getFg(0),c=t.getBg(0),l=0;l<t.getTrimmedLength();l++)if(t.loadCell(l,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==a||this._workCell.bg!==c){if(1<l-r)for(var u=this._getJoinedRanges(n,s,o,t,r),h=0;h<u.length;h++)i.push(u[h]);r=l,s=o,a=this._workCell.fg,c=this._workCell.bg}o+=this._workCell.getChars().length||d.WHITESPACE_CELL_CHAR.length}if(1<this._bufferService.cols-r)for(u=this._getJoinedRanges(n,s,o,t,r),h=0;h<u.length;h++)i.push(u[h]);return i},u.prototype._getJoinedRanges=function(e,t,i,n,r){for(var o=e.substring(t,i),s=this._characterJoiners[0].handler(o),a=1;a<this._characterJoiners.length;a++)for(var c=this._characterJoiners[a].handler(o),l=0;l<c.length;l++)u._mergeRanges(s,c[l]);return this._stringRangesToCellRanges(s,n,r),s},u.prototype._stringRangesToCellRanges=function(e,t,i){var n=0,r=!1,o=0,s=e[n];if(s){for(var a=i;a<this._bufferService.cols;a++){var c=t.getWidth(a),l=t.getString(a).length||d.WHITESPACE_CELL_CHAR.length;if(0!==c){if(!r&&s[0]<=o&&(s[0]=a,r=!0),s[1]<=o){if(s[1]=a,!(s=e[++n]))break;s[0]<=o?(s[0]=a,r=!0):r=!1}o+=l}}s&&(s[1]=this._bufferService.cols)}},u._mergeRanges=function(e,t){for(var i=!1,n=0;n<e.length;n++){var r=e[n];if(i){if(t[1]<=r[0])return e[n-1][1]=t[1],e;if(t[1]<=r[1])return e[n-1][1]=Math.max(t[1],r[1]),e.splice(n,1),e;e.splice(n,1),n--}else{if(t[1]<=r[0])return e.splice(n,0,t),e;if(t[1]<=r[1])return r[0]=Math.min(t[0],r[0]),e;t[0]<r[1]&&(r[0]=Math.min(t[0],r[0]),i=!0)}}return i?e[e.length-1][1]=t[1]:e.push(t),e},u}();t.CharacterJoinerRegistry=c},function(e,t){"use strict";function l(e,t){var i=t.getBoundingClientRect();return[e.clientX-i.left,e.clientY-i.top]}Object.defineProperty(t,"__esModule",{value:!0}),t.getRawByteCoords=t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=l,t.getCoords=function(e,t,i,n,r,o,s,a){if(r){var c=l(e,t);if(c)return c[0]=Math.ceil((c[0]+(a?o/2:0))/o),c[1]=Math.ceil(c[1]/s),c[0]=Math.min(Math.max(c[0],1),i+(a?1:0)),c[1]=Math.min(Math.max(c[1],1),n),c}},t.getRawByteCoords=function(e){if(e)return{x:e[0]+32,y:e[1]+32}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0;var i=function(){function e(e){this._renderCallback=e}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.refresh=function(e,t,i){var n=this;this._rowCount=i,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return n._innerRefresh()}))},e.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(e,t)}},e}();t.RenderDebouncer=i},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentDevicePixelRatio=window.devicePixelRatio,e}return r(e,t),e.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener&&(t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr())},this._updateDpr()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.clearListener()},e.prototype._updateDpr=function(){var e;this._outerListener&&(null===(e=this._resolutionMediaMatchList)||void 0===e||e.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},e.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},e}(i(2).Disposable);t.ScreenDprMonitor=o},function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clone=void 0,e.clone=function r(e,t){if(void 0===t&&(t=5),"object"!=typeof e)return e;var i=Array.isArray(e)?[]:{};for(var n in e)i[n]=t<=1?e[n]:e[n]?r(e[n],t-1):e[n];return i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var n=i(4),r=i(35),o=i(18),s=i(0),a=i(83),c=function(){function e(e){this._core=new r.Terminal(e),this._addonManager=new a.AddonManager}return e.prototype._checkProposedApi=function(){if(!this._core.optionsService.options.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new d(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unicode",{get:function(){return this._checkProposedApi(),new f(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this._checkProposedApi(),new u(this._core.buffers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),e.prototype.blur=function(){this._core.blur()},e.prototype.focus=function(){this._core.focus()},e.prototype.resize=function(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)},e.prototype.open=function(e){this._core.open(e)},e.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},e.prototype.registerLinkMatcher=function(e,t,i){return this._checkProposedApi(),this._core.registerLinkMatcher(e,t,i)},e.prototype.deregisterLinkMatcher=function(e){this._checkProposedApi(),this._core.deregisterLinkMatcher(e)},e.prototype.registerLinkProvider=function(e){return this._checkProposedApi(),this._core.registerLinkProvider(e)},e.prototype.registerCharacterJoiner=function(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)},e.prototype.registerMarker=function(e){return this._checkProposedApi(),this._verifyIntegers(e),this._core.addMarker(e)},e.prototype.addMarker=function(e){return this.registerMarker(e)},e.prototype.hasSelection=function(){return this._core.hasSelection()},e.prototype.select=function(e,t,i){this._verifyIntegers(e,t,i),this._core.select(e,t,i)},e.prototype.getSelection=function(){return this._core.getSelection()},e.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},e.prototype.clearSelection=function(){this._core.clearSelection()},e.prototype.selectAll=function(){this._core.selectAll()},e.prototype.selectLines=function(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)},e.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},e.prototype.scrollLines=function(e){this._verifyIntegers(e),this._core.scrollLines(e)},e.prototype.scrollPages=function(e){this._verifyIntegers(e),this._core.scrollPages(e)},e.prototype.scrollToTop=function(){this._core.scrollToTop()},e.prototype.scrollToBottom=function(){this._core.scrollToBottom()},e.prototype.scrollToLine=function(e){this._verifyIntegers(e),this._core.scrollToLine(e)},e.prototype.clear=function(){this._core.clear()},e.prototype.write=function(e,t){this._core.write(e,t)},e.prototype.writeUtf8=function(e,t){this._core.write(e,t)},e.prototype.writeln=function(e,t){this._core.write(e),this._core.write("\r\n",t)},e.prototype.paste=function(e){this._core.paste(e)},e.prototype.getOption=function(e){return this._core.optionsService.getOption(e)},e.prototype.setOption=function(e,t){this._core.optionsService.setOption(e,t)},e.prototype.refresh=function(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)},e.prototype.reset=function(){this._core.reset()},e.prototype.loadAddon=function(e){return this._addonManager.loadAddon(this,e)},Object.defineProperty(e,"strings",{get:function(){return o},enumerable:!1,configurable:!0}),e.prototype._verifyIntegers=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r===1/0||isNaN(r)||r%1!=0)throw new Error("This API only accepts integers")}},e}();t.Terminal=c;var l=function(){function e(e,t){this._buffer=e,this.type=t}return e.prototype.init=function(e){return this._buffer=e,this},Object.defineProperty(e.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),e.prototype.getLine=function(e){var t=this._buffer.lines.get(e);if(t)return new h(t)},e.prototype.getNullCell=function(){return new n.CellData},e}(),u=function(){function e(e){var t=this;this._buffers=e,this._onBufferChange=new s.EventEmitter,this._normal=new l(this._buffers.normal,"normal"),this._alternate=new l(this._buffers.alt,"alternate"),this._buffers.onBufferActivate(function(){return t._onBufferChange.fire(t.active)})}return Object.defineProperty(e.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){if(this._buffers.active===this._buffers.normal)return this.normal;if(this._buffers.active===this._buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal.init(this._buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alternate",{get:function(){return this._alternate.init(this._buffers.alt)},enumerable:!1,configurable:!0}),e}(),h=function(){function e(e){this._line=e}return Object.defineProperty(e.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),e.prototype.getCell=function(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new n.CellData)},e.prototype.translateToString=function(e,t,i){return this._line.translateToString(e,t,i)},e}(),d=function(){function e(e){this._core=e}return e.prototype.registerCsiHandler=function(e,t){return this._core.addCsiHandler(e,function(e){return t(e.toArray())})},e.prototype.addCsiHandler=function(e,t){return this.registerCsiHandler(e,t)},e.prototype.registerDcsHandler=function(e,i){return this._core.addDcsHandler(e,function(e,t){return i(e,t.toArray())})},e.prototype.addDcsHandler=function(e,t){return this.registerDcsHandler(e,t)},e.prototype.registerEscHandler=function(e,t){return this._core.addEscHandler(e,t)},e.prototype.addEscHandler=function(e,t){return this.registerEscHandler(e,t)},e.prototype.registerOscHandler=function(e,t){return this._core.addOscHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this.registerOscHandler(e,t)},e}(),f=function(){function e(e){this._core=e}return e.prototype.register=function(e){this._core.unicodeService.register(e)},Object.defineProperty(e.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(e){this._core.unicodeService.activeVersion=e},enumerable:!1,configurable:!0}),e}()},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var s=i(36),a=i(37),c=i(38),u=i(12),l=i(19),h=i(40),d=i(50),f=i(51),p=i(11),_=i(7),g=i(18),v=i(54),m=i(55),y=i(56),b=i(57),w=i(59),C=i(0),S=i(16),x=i(27),E=i(60),k=i(5),T=i(61),A=i(62),L=i(63),D=i(64),o=i(65),R="undefined"!=typeof window?window.document:null,O=function(o){function e(e){void 0===e&&(e={});var i=o.call(this,e)||this;return i.browser=p,i._keyDownHandled=!1,i._onCursorMove=new C.EventEmitter,i._onKey=new C.EventEmitter,i._onRender=new C.EventEmitter,i._onSelectionChange=new C.EventEmitter,i._onTitleChange=new C.EventEmitter,i._onFocus=new C.EventEmitter,i._onBlur=new C.EventEmitter,i._onA11yCharEmitter=new C.EventEmitter,i._onA11yTabEmitter=new C.EventEmitter,i._setup(),i.linkifier=i._instantiationService.createInstance(d.Linkifier),i.linkifier2=i.register(i._instantiationService.createInstance(L.Linkifier2)),i.register(i._inputHandler.onRequestBell(function(){return i.bell()})),i.register(i._inputHandler.onRequestRefreshRows(function(e,t){return i.refresh(e,t)})),i.register(i._inputHandler.onRequestReset(function(){return i.reset()})),i.register(i._inputHandler.onRequestScroll(function(e,t){return i.scroll(e,t||void 0)})),i.register(i._inputHandler.onRequestWindowsOptionsReport(function(e){return i._reportWindowsOptions(e)})),i.register(C.forwardEvent(i._inputHandler.onCursorMove,i._onCursorMove)),i.register(C.forwardEvent(i._inputHandler.onTitleChange,i._onTitleChange)),i.register(C.forwardEvent(i._inputHandler.onA11yChar,i._onA11yCharEmitter)),i.register(C.forwardEvent(i._inputHandler.onA11yTab,i._onA11yTabEmitter)),i.register(i._bufferService.onResize(function(e){return i._afterResize(e.cols,e.rows)})),i}return r(e,o),Object.defineProperty(e.prototype,"options",{get:function(){return this.optionsService.options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){var e,t,i;this._isDisposed||(o.prototype.dispose.call(this),null===(e=this._renderService)||void 0===e||e.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},null===(i=null===(t=this.element)||void 0===t?void 0:t.parentNode)||void 0===i||i.removeChild(this.element))},e.prototype._setup=function(){o.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),e.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},e.prototype._updateOptions=function(e){var t,i,n,r;switch(o.prototype._updateOptions.call(this,e),e){case"fontFamily":case"fontSize":null===(t=this._renderService)||void 0===t||t.clear(),null===(i=this._charSizeService)||void 0===i||i.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":null===(n=this.viewport)||void 0===n||n.syncScrollArea();break;case"screenReaderMode":this.optionsService.options.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new y.AccessibilityManager(this,this._renderService)):(null===(r=this._accessibilityManager)||void 0===r||r.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.options.theme)}},e.prototype._onTextAreaFocus=function(e){this._coreService.decPrivateModes.sendFocus&&this._coreService.triggerDataEvent(u.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},e.prototype.blur=function(){var e;return null===(e=this.textarea)||void 0===e?void 0:e.blur()},e.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this._coreService.decPrivateModes.sendFocus&&this._coreService.triggerDataEvent(u.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},e.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing){var e=Math.ceil(this._charSizeService.height*this.optionsService.options.lineHeight),t=this._bufferService.buffer.y*e,i=this._bufferService.buffer.x*this._charSizeService.width;this.textarea.style.left=i+"px",this.textarea.style.top=t+"px",this.textarea.style.width=this._charSizeService.width+"px",this.textarea.style.height=e+"px",this.textarea.style.lineHeight=e+"px",this.textarea.style.zIndex="-5"}},e.prototype._initGlobal=function(){var t=this;this._bindKeys(),this.register(_.addDisposableDomListener(this.element,"copy",function(e){t.hasSelection()&&c.copyHandler(e,t._selectionService)}));var e=function(e){return c.handlePasteEvent(e,t.textarea,t._coreService)};this.register(_.addDisposableDomListener(this.textarea,"paste",e)),this.register(_.addDisposableDomListener(this.element,"paste",e)),p.isFirefox?this.register(_.addDisposableDomListener(this.element,"mousedown",function(e){2===e.button&&c.rightClickHandler(e,t.textarea,t.screenElement,t._selectionService,t.options.rightClickSelectsWord)})):this.register(_.addDisposableDomListener(this.element,"contextmenu",function(e){c.rightClickHandler(e,t.textarea,t.screenElement,t._selectionService,t.options.rightClickSelectsWord)})),p.isLinux&&this.register(_.addDisposableDomListener(this.element,"auxclick",function(e){1===e.button&&c.moveTextAreaUnderMouseCursor(e,t.textarea,t.screenElement)}))},e.prototype._bindKeys=function(){var t=this;this.register(_.addDisposableDomListener(this.textarea,"keyup",function(e){return t._keyUp(e)},!0)),this.register(_.addDisposableDomListener(this.textarea,"keydown",function(e){return t._keyDown(e)},!0)),this.register(_.addDisposableDomListener(this.textarea,"keypress",function(e){return t._keyPress(e)},!0)),this.register(_.addDisposableDomListener(this.textarea,"compositionstart",function(){return t._compositionHelper.compositionstart()})),this.register(_.addDisposableDomListener(this.textarea,"compositionupdate",function(e){return t._compositionHelper.compositionupdate(e)})),this.register(_.addDisposableDomListener(this.textarea,"compositionend",function(){return t._compositionHelper.compositionend()})),this.register(this.onRender(function(){return t._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(e){return t._queueLinkification(e.start,e.end)}))},e.prototype.open=function(e){var i=this;if(!e)throw new Error("Terminal requires a parent element.");R.body.contains(e)||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),e.appendChild(this.element);var t=R.createDocumentFragment();this._viewportElement=R.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),t.appendChild(this._viewportElement),this._viewportScrollArea=R.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=R.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=R.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),t.appendChild(this.screenElement),this.textarea=R.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register(_.addDisposableDomListener(this.textarea,"focus",function(e){return i._onTextAreaFocus(e)})),this.register(
_.addDisposableDomListener(this.textarea,"blur",function(){return i._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var n=this._instantiationService.createInstance(D.CoreBrowserService,this.textarea);this._instantiationService.setService(k.ICoreBrowserService,n),this._charSizeService=this._instantiationService.createInstance(T.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._compositionView=R.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(s.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(t),this._theme=this.options.theme||this._theme,this._colorManager=new x.ColorManager(R,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(e){return i._colorManager.onOptionsChange(e)})),this._colorManager.setTheme(this._theme);var r=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,r,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange(function(e){return i._onRender.fire(e)})),this.onResize(function(e){return i._renderService.resize(e.cols,e.rows)}),this._soundService=this._instantiationService.createInstance(v.SoundService),this._instantiationService.setService(k.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(A.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(a.Viewport,function(e,t){return i.scrollLines(e,t)},this._viewportElement,this._viewportScrollArea),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return i.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){i._renderService.onCursorMove(),i._syncTextArea()})),this.register(this.onResize(function(){return i._renderService.onResize(i.cols,i.rows)})),this.register(this.onBlur(function(){return i._renderService.onBlur()})),this.register(this.onFocus(function(){return i._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return i.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(f.SelectionService,this.element,this.screenElement)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(e){return i.scrollLines(e.amount,e.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return i._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(e){return i._renderService.onSelectionChanged(e.start,e.end,e.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(e){i.textarea.value=e,i.textarea.focus(),i.textarea.select()})),this.register(this.onScroll(function(){i.viewport.syncScrollArea(),i._selectionService.refresh()})),this.register(_.addDisposableDomListener(this._viewportElement,"scroll",function(){return i._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(m.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return i._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.element,this._mouseService,this._renderService),this.register(_.addDisposableDomListener(this.element,"mousedown",function(e){return i._selectionService.onMouseDown(e)})),this._coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new y.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},e.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(h.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(b.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},e.prototype._setTheme=function(e){var t,i,n;this._theme=e,null===(t=this._colorManager)||void 0===t||t.setTheme(e),null===(i=this._renderService)||void 0===i||i.setColors(this._colorManager.colors),null===(n=this.viewport)||void 0===n||n.onThemeChange(this._colorManager.colors)},e.prototype.bindMouse=function(){function t(e){var t,i,n=r._mouseService.getRawByteCoords(e,r.screenElement,r.cols,r.rows);if(!n)return!1;switch(e.overrideType||e.type){case"mousemove":i=32,void 0===e.buttons?(t=3,void 0!==e.button&&(t=e.button<3?e.button:3)):t=1&e.buttons?0:4&e.buttons?1:2&e.buttons?2:3;break;case"mouseup":i=0,t=e.button<3?e.button:3;break;case"mousedown":i=1,t=e.button<3?e.button:3;break;case"wheel":0!==e.deltaY&&(i=e.deltaY<0?0:1),t=4;break;default:return!1}return!(void 0===i||void 0===t||4<t)&&r._coreMouseService.triggerMouseEvent({col:n.x-33,row:n.y-33,button:t,action:i,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey})}var o=this,r=this,i=this.element,s={mouseup:null,wheel:null,mousedrag:null,mousemove:null},n=function(e){return t(e),e.buttons||(o._document.removeEventListener("mouseup",s.mouseup),s.mousedrag&&o._document.removeEventListener("mousemove",s.mousedrag)),o.cancel(e)},a=function(e){return t(e),e.preventDefault(),o.cancel(e)},c=function(e){e.buttons&&t(e)},l=function(e){e.buttons||t(e)};this.register(this._coreMouseService.onProtocolChange(function(e){e?("debug"===o.optionsService.options.logLevel&&o._logService.debug("Binding to mouse events:",o._coreMouseService.explainEvents(e)),o.element.classList.add("enable-mouse-events"),o._selectionService.disable()):(o._logService.debug("Unbinding from mouse events."),o.element.classList.remove("enable-mouse-events"),o._selectionService.enable()),8&e?s.mousemove||(i.addEventListener("mousemove",l),s.mousemove=l):(i.removeEventListener("mousemove",s.mousemove),s.mousemove=null),16&e?s.wheel||(i.addEventListener("wheel",a,{passive:!1}),s.wheel=a):(i.removeEventListener("wheel",s.wheel),s.wheel=null),2&e?s.mouseup||(s.mouseup=n):(o._document.removeEventListener("mouseup",s.mouseup),s.mouseup=null),4&e?s.mousedrag||(s.mousedrag=c):(o._document.removeEventListener("mousemove",s.mousedrag),s.mousedrag=null)})),this._coreMouseService.activeProtocol=this._coreMouseService.activeProtocol,this.register(_.addDisposableDomListener(i,"mousedown",function(e){if(e.preventDefault(),o.focus(),o._coreMouseService.areMouseEventsActive&&!o._selectionService.shouldForceSelection(e))return t(e),s.mouseup&&o._document.addEventListener("mouseup",s.mouseup),s.mousedrag&&o._document.addEventListener("mousemove",s.mousedrag),o.cancel(e)})),this.register(_.addDisposableDomListener(i,"wheel",function(e){if(s.wheel);else if(!o.buffer.hasScrollback){var t=o.viewport.getLinesScrolled(e);if(0===t)return;for(var i=u.C0.ESC+(o._coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(e.deltaY<0?"A":"B"),n="",r=0;r<Math.abs(t);r++)n+=i;o._coreService.triggerDataEvent(n,!0)}},{passive:!0})),this.register(_.addDisposableDomListener(i,"wheel",function(e){if(!s.wheel)return o.viewport.onWheel(e)?void 0:o.cancel(e)},{passive:!1})),this.register(_.addDisposableDomListener(i,"touchstart",function(e){if(!o._coreMouseService.areMouseEventsActive)return o.viewport.onTouchStart(e),o.cancel(e)},{passive:!0})),this.register(_.addDisposableDomListener(i,"touchmove",function(e){if(!o._coreMouseService.areMouseEventsActive)return o.viewport.onTouchMove(e)?void 0:o.cancel(e)},{passive:!1}))},e.prototype.refresh=function(e,t){var i;null===(i=this._renderService)||void 0===i||i.refreshRows(e,t)},e.prototype._queueLinkification=function(e,t){var i;null===(i=this.linkifier)||void 0===i||i.linkifyRows(e,t)},e.prototype.updateCursorStyle=function(e){this._selectionService&&this._selectionService.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},e.prototype._showCursor=function(){this._coreService.isCursorInitialized||(this._coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},e.prototype.scrollLines=function(e,t){o.prototype.scrollLines.call(this,e,t),this.refresh(0,this.rows-1)},e.prototype.paste=function(e){c.paste(e,this.textarea,this._coreService)},e.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},e.prototype.registerLinkMatcher=function(e,t,i){var n=this.linkifier.registerLinkMatcher(e,t,i);return this.refresh(0,this.rows-1),n},e.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},e.prototype.registerLinkProvider=function(e){return this.linkifier2.registerLinkProvider(e)},e.prototype.registerCharacterJoiner=function(e){var t=this._renderService.registerCharacterJoiner(e);return this.refresh(0,this.rows-1),t},e.prototype.deregisterCharacterJoiner=function(e){this._renderService.deregisterCharacterJoiner(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(e.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),e.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},e.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},e.prototype.select=function(e,t,i){this._selectionService.setSelection(e,t,i)},e.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},e.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},e.prototype.clearSelection=function(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()},e.prototype.selectAll=function(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()},e.prototype.selectLines=function(e,t){var i;null===(i=this._selectionService)||void 0===i||i.selectLines(e,t)},e.prototype._keyDown=function(e){if(this._keyDownHandled=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var t=w.evaluateKeyboardEvent(e,this._coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3!==t.type&&2!==t.type)return 1===t.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(t.cancel&&this.cancel(e,!0),!t.key||(t.key!==u.C0.ETX&&t.key!==u.C0.CR||(this.textarea.value=""),this._onKey.fire({key:t.key,domEvent:e}),this._showCursor(),this._coreService.triggerDataEvent(t.key,!0),this.optionsService.options.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(e,!0)));var i=this.rows-1;return this.scrollLines(2===t.type?-i:i),this.cancel(e,!0)},e.prototype._isThirdLevelShift=function(e,t){var i=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey;return"keypress"===t.type?i:i&&(!t.keyCode||47<t.keyCode)},e.prototype._keyUp=function(e){var t;this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(16===(t=e).keyCode||17===t.keyCode||18===t.keyCode||this.focus(),this.updateCursorStyle(e))},e.prototype._keyPress=function(e){var t;if(this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this._coreService.triggerDataEvent(t,!0),0))},e.prototype.bell=function(){this._soundBell()&&this._soundService.playBellSound()},e.prototype.resize=function(e,t){e!==this.cols||t!==this.rows?o.prototype.resize.call(this,e,t):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},e.prototype._afterResize=function(){var e,t;null===(e=this._charSizeService)||void 0===e||e.measure(),null===(t=this.viewport)||void 0===t||t.syncScrollArea(!0)},e.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(S.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire(this.buffer.ydisp)}},e.prototype.reset=function(){var e,t;this.options.rows=this.rows,this.options.cols=this.cols;var i=this._customKeyEventHandler;this._setup(),o.prototype.reset.call(this),null===(e=this._selectionService)||void 0===e||e.reset(),this._customKeyEventHandler=i,this.refresh(0,this.rows-1),null===(t=this.viewport)||void 0===t||t.syncScrollArea()},e.prototype._reportWindowsOptions=function(e){if(this._renderService)switch(e){case l.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var t=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),i=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this._coreService.triggerDataEvent(u.C0.ESC+"[4;"+i+";"+t+"t");break;case l.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var n=this._renderService.dimensions.scaledCellWidth.toFixed(0),r=this._renderService.dimensions.scaledCellHeight.toFixed(0);this._coreService.triggerDataEvent(u.C0.ESC+"[6;"+r+";"+n+"t")}},e.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},e.prototype._visualBell=function(){return!1},e.prototype._soundBell=function(){return"sound"===this.options.bellStyle},e}(o.CoreTerminal);t.Terminal=O},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;var o=i(5),s=i(1),a=function(){function e(e,t,i,n,r,o){this._textarea=e,this._compositionView=t,this._bufferService=i,this._optionsService=n,this._charSizeService=r,this._coreService=o,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0}}return Object.defineProperty(e.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(function(){t._compositionPosition.end=t._textarea.value.length},0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){var i={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(t._isSendingComposition){t._isSendingComposition=!1;var e=void 0;e=t._isComposing?t._textarea.value.substring(i.start,i.end):t._textarea.value.substring(i.start),t._coreService.triggerDataEvent(e,!0)}},0)}else{this._isSendingComposition=!1;var n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(n,!0)}},e.prototype._handleAnyTextareaChanges=function(){var t=this,i=this._textarea.value;setTimeout(function(){if(!t._isComposing){var e=t._textarea.value.replace(i,"");0<e.length&&t._coreService.triggerDataEvent(e,!0)}},0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var i=Math.ceil(this._charSizeService.height*this._optionsService.options.lineHeight),n=this._bufferService.buffer.y*i,r=this._bufferService.buffer.x*this._charSizeService.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=n+"px",this._compositionView.style.height=i+"px",this._compositionView.style.lineHeight=i+"px",this._compositionView.style.fontFamily=this._optionsService.options.fontFamily,this._compositionView.style.fontSize=this._optionsService.options.fontSize+"px";var o=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=n+"px",this._textarea.style.width=o.width+"px",this._textarea.style.height=o.height+"px",this._textarea.style.lineHeight=o.height+"px"}e||setTimeout(function(){return t.updateCompositionElements(!0)},0)}},n([r(2,s.IBufferService),r(3,s.IOptionsService),r(4,o.ICharSizeService),r(5,s.ICoreService)],e)}();t.CompositionHelper=a},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;var a=i(2),l=i(7),u=i(5),h=i(1),c=function(c){function e(e,t,i,n,r,o,s){var a=c.call(this)||this;return a._scrollLines=e,a._viewportElement=t,a._scrollArea=i,a._bufferService=n,a._optionsService=r,a._charSizeService=o,a._renderService=s,a.scrollBarWidth=0,a._currentRowHeight=0,a._lastRecordedBufferLength=0,a._lastRecordedViewportHeight=0,a._lastRecordedBufferHeight=0,a._lastTouchY=0,a._lastScrollTop=0,a._wheelPartialScroll=0,a._refreshAnimationFrame=null,a._ignoreNextScrollEvent=!1,a.scrollBarWidth=a._viewportElement.offsetWidth-a._scrollArea.offsetWidth||15,a.register(l.addDisposableDomListener(a._viewportElement,"scroll",a._onScroll.bind(a))),setTimeout(function(){return a.syncScrollArea()},0),a}return r(e,c),e.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},e.prototype._refresh=function(e){var t=this;if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return t._innerRefresh()}))},e.prototype._innerRefresh=function(){if(0<this._charSizeService.height){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},e.prototype.syncScrollArea=function(e){if(void 0===e&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);if(this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight){var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._lastScrollTop===t&&this._lastScrollTop===this._viewportElement.scrollTop&&this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio===this._currentRowHeight||this._refresh(e)}else this._refresh(e)},e.prototype._onScroll=function(){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent)if(this._ignoreNextScrollEvent)this._ignoreNextScrollEvent=!1;else{var e=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(e,!0)}},e.prototype._bubbleScroll=function(e,t){var i=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||0<t&&i<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},e.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return 0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},e.prototype._getPixelsScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},e.prototype.getLinesScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(0<this._wheelPartialScroll?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},e.prototype._applyScrollModifier=function(e,t){var i=this._optionsService.options.fastScrollModifier;return"alt"===i&&t.altKey||"ctrl"===i&&t.ctrlKey||"shift"===i&&t.shiftKey?e*this._optionsService.options.fastScrollSensitivity*this._optionsService.options.scrollSensitivity:e*this._optionsService.options.scrollSensitivity},e.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},e.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},o([s(3,h.IBufferService),s(4,h.IOptionsService),s(5,u.ICharSizeService),s(6,u.IRenderService)],e)}(a.Disposable);t.Viewport=c},function(e,t){"use strict";function n(e){return e.replace(/\r?\n/g,"\r")}function r(e,t){return t?"\x1b[200~"+e+"\x1b[201~":e}function o(e,t,i){e=r(e=n(e),i.decPrivateModes.bracketedPasteMode),i.triggerDataEvent(e,!0),t.value=""}function s(e,t,i){var n=i.getBoundingClientRect(),r=e.clientX-n.left-10,o=e.clientY-n.top-10;t.style.width="20px",t.style.height="20px",t.style.left=r+"px",t.style.top=o+"px",t.style.zIndex="1000",t.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=n,t.bracketTextForPaste=r,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,i){e.stopPropagation(),e.clipboardData&&o(e.clipboardData.getData("text/plain"),t,i)},t.paste=o,t.moveTextAreaUnderMouseCursor=s,t.rightClickHandler=function(e,t,i,n,r){s(e,t,i),r&&!n.isClickInSelection(e)&&n.selectWordAtCursor(e),t.value=n.selectionText,t.select()}},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;var i=t(2),s=t(15),a=t(21),c=t(22),l=t(24),u=function(){function e(e){this.table=new Uint8Array(e)}return e.prototype.setDefault=function(e,t){s.fill(this.table,e<<4|t)},e.prototype.add=function(e,t,i,n){this.table[t<<8|e]=i<<4|n},e.prototype.addMany=function(e,t,i,n){for(var r=0;r<e.length;r++)this.table[t<<8|e[r]]=i<<4|n},e}();n.TransitionTable=u,n.VT500_TRANSITION_TABLE=function(){var e=new u(4095),i=Array.apply(null,Array(256)).map(function(e,t){return t}),t=function(e,t){return i.slice(e,t)},n=t(32,127),r=t(0,24);r.push(25),r.push.apply(r,t(28,32));var o,s=t(0,14);for(o in e.setDefault(1,0),e.addMany(n,0,2,0),s)e.addMany([24,26,153,154],o,3,0),e.addMany(t(128,144),o,3,0),e.addMany(t(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(r,0,3,0),e.addMany(r,1,3,1),e.add(127,1,0,1),e.addMany(r,8,0,8),e.addMany(r,3,3,3),e.add(127,3,0,3),e.addMany(r,4,3,4),e.add(127,4,0,4),e.addMany(r,6,3,6),e.addMany(r,5,3,5),e.add(127,5,0,5),e.addMany(r,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(n,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(t(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(n,7,0,7),e.addMany(r,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(t(64,127),3,7,0),e.addMany(t(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(t(48,60),4,8,4),e.addMany(t(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(t(32,64),6,0,6),e.add(127,6,0,6),e.addMany(t(64,127),6,0,0),e.addMany(t(32,48),3,9,5),e.addMany(t(32,48),5,9,5),e.addMany(t(48,64),5,0,6),e.addMany(t(64,127),5,7,0),e.addMany(t(32,48),4,9,5),e.addMany(t(32,48),1,9,2),e.addMany(t(32,48),2,9,2),e.addMany(t(48,127),2,10,0),e.addMany(t(48,80),1,10,0),e.addMany(t(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(t(96,127),1,10,0),e.add(80,1,11,9),e.addMany(r,9,0,9),e.add(127,9,0,9),e.addMany(t(28,32),9,0,9),e.addMany(t(32,48),9,9,12),e.addMany(t(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(r,11,0,11),e.addMany(t(32,128),11,0,11),e.addMany(t(28,32),11,0,11),e.addMany(r,10,0,10),e.add(127,10,0,10),e.addMany(t(28,32),10,0,10),e.addMany(t(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(t(32,48),10,9,12),e.addMany(r,12,0,12),e.add(127,12,0,12),e.addMany(t(28,32),12,0,12),e.addMany(t(32,48),12,9,12),e.addMany(t(48,64),12,0,11),e.addMany(t(64,127),12,12,13),e.addMany(t(64,127),10,12,13),e.addMany(t(64,127),9,12,13),e.addMany(r,13,13,13),e.addMany(n,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(160,0,2,0),e.add(160,8,5,8),e.add(160,6,0,6),e.add(160,11,0,11),e.add(160,13,13,13),e}();var h=function(i){function e(e){void 0===e&&(e=n.VT500_TRANSITION_TABLE);var t=i.call(this)||this;return t._transitions=e,t.initialState=0,t.currentState=t.initialState,t._params=new a.Params,t._params.addParam(0),t._collect=0,t.precedingCodepoint=0,t._printHandlerFb=function(){},t._executeHandlerFb=function(){},t._csiHandlerFb=function(){},t._escHandlerFb=function(){},t._errorHandlerFb=function(e){return e},t._printHandler=t._printHandlerFb,t._executeHandlers=Object.create(null),t._csiHandlers=Object.create(null),t._escHandlers=Object.create(null),t._oscParser=new c.OscParser,t._dcsParser=new l.DcsParser,t._errorHandler=t._errorHandlerFb,t.setEscHandler({"final":"\\"},function(){}),t}return o(e,i),e.prototype._identifier=function(e,t){void 0===t&&(t=[64,126]);var i=0;if(e.prefix){if(1<e.prefix.length)throw new Error("only one byte as prefix supported");if((i=e.prefix.charCodeAt(0))&&i<60||63<i)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(2<e.intermediates.length)throw new Error("only two bytes as intermediates are supported");for(var n=0;n<e.intermediates.length;++n){var r=e.intermediates.charCodeAt(n);if(r<32||47<r)throw new Error("intermediate must be in range 0x20 .. 0x2f");i<<=8,i|=r}}if(1!==e["final"].length)throw new Error("final must be a single byte");var o=e["final"].charCodeAt(0);if(t[0]>o||o>t[1])throw new Error("final must be in range "+t[0]+" .. "+t[1]);return(i<<=8)|o},e.prototype.identToString=function(e){for(var t=[];e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")},e.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},e.prototype.setPrintHandler=function(e){this._printHandler=e},e.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},e.prototype.addEscHandler=function(e,t){var i=this._identifier(e,[48,126]);void 0===this._escHandlers[i]&&(this._escHandlers[i]=[]);var n=this._escHandlers[i];return n.push(t),{dispose:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},e.prototype.setEscHandler=function(e,t){this._escHandlers[this._identifier(e,[48,126])]=[t]},e.prototype.clearEscHandler=function(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]},e.prototype.setEscHandlerFallback=function(e){this._escHandlerFb=e},e.prototype.setExecuteHandler=function(e,t){this._executeHandlers[e.charCodeAt(0)]=t},e.prototype.clearExecuteHandler=function(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]},e.prototype.setExecuteHandlerFallback=function(e){this._executeHandlerFb=e},e.prototype.addCsiHandler=function(e,t){var i=this._identifier(e);void 0===this._csiHandlers[i]&&(this._csiHandlers[i]=[]);var n=this._csiHandlers[i];return n.push(t),{dispose:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},e.prototype.setCsiHandler=function(e,t){this._csiHandlers[this._identifier(e)]=[t]},e.prototype.clearCsiHandler=function(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]},e.prototype.setCsiHandlerFallback=function(e){this._csiHandlerFb=e},e.prototype.addDcsHandler=function(e,t){return this._dcsParser.addHandler(this._identifier(e),t)},e.prototype.setDcsHandler=function(e,t){this._dcsParser.setHandler(this._identifier(e),t)},e.prototype.clearDcsHandler=function(e){this._dcsParser.clearHandler(this._identifier(e))},e.prototype.setDcsHandlerFallback=function(e){this._dcsParser.setHandlerFallback(e)},e.prototype.addOscHandler=function(e,t){return this._oscParser.addHandler(e,t)},e.prototype.setOscHandler=function(e,t){this._oscParser.setHandler(e,t)},e.prototype.clearOscHandler=function(e){this._oscParser.clearHandler(e)},e.prototype.setOscHandlerFallback=function(e){this._oscParser.setHandlerFallback(e)},e.prototype.setErrorHandler=function(e){this._errorHandler=e},e.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},e.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0},e.prototype.parse=function(e,t){for(var i=0,n=0,r=this.currentState,o=this._oscParser,s=this._dcsParser,a=this._collect,c=this._params,l=this._transitions.table,u=0;u<t;++u){switch((n=l[r<<8|((i=e[u])<160?i:160)])>>4){case 2:for(var h=u+1;;++h){if(t<=h||(i=e[h])<32||126<i&&i<160){this._printHandler(e,u,h),u=h-1;break}if(++h>=t||(i=e[h])<32||126<i&&i<160){this._printHandler(e,u,h),u=h-1;break}
if(++h>=t||(i=e[h])<32||126<i&&i<160){this._printHandler(e,u,h),u=h-1;break}if(++h>=t||(i=e[h])<32||126<i&&i<160){this._printHandler(e,u,h),u=h-1;break}}break;case 3:this._executeHandlers[i]?this._executeHandlers[i]():this._executeHandlerFb(i),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:u,code:i,currentState:r,collect:a,params:c,abort:!1}).abort)return;break;case 7:for(var d=this._csiHandlers[a<<8|i],f=d?d.length-1:-1;0<=f&&!1===d[f](c);f--);f<0&&this._csiHandlerFb(a<<8|i,c),this.precedingCodepoint=0;break;case 8:do{switch(i){case 59:c.addParam(0);break;case 58:c.addSubParam(-1);break;default:c.addDigit(i-48)}}while(++u<t&&47<(i=e[u])&&i<60);u--;break;case 9:a<<=8,a|=i;break;case 10:for(var p=this._escHandlers[a<<8|i],_=p?p.length-1:-1;0<=_&&!1===p[_]();_--);_<0&&this._escHandlerFb(a<<8|i),this.precedingCodepoint=0;break;case 11:c.reset(),c.addParam(0),a=0;break;case 12:s.hook(a<<8|i,c);break;case 13:for(var g=u+1;;++g)if(t<=g||24===(i=e[g])||26===i||27===i||127<i&&i<160){s.put(e,u,g),u=g-1;break}break;case 14:s.unhook(24!==i&&26!==i),27===i&&(n|=1),c.reset(),c.addParam(0),a=0,this.precedingCodepoint=0;break;case 4:o.start();break;case 5:for(var v=u+1;;v++)if(t<=v||(i=e[v])<32||127<i&&i<=159){o.put(e,u,v),u=v-1;break}break;case 6:o.end(24!==i&&26!==i),27===i&&(n|=1),c.reset(),c.addParam(0),a=0,this.precedingCodepoint=0}r=15&n}this._collect=a,this.currentState=r},e}(i.Disposable);n.EscapeSequenceParser=h},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var d=i(41),f=i(47),p=i(48),_=i(49),g=i(29),a=i(2),c=i(5),l=i(1),u=i(25),v=i(0),m=1,h=function(h){function e(e,t,i,n,r,o,s,a,c){var l=h.call(this)||this;l._colors=e,l._screenElement=t,l._bufferService=r,l._charSizeService=o,l._optionsService=s,l._id=m++,l._onRequestRedraw=new v.EventEmitter;var u=l._optionsService.options.allowTransparency;return l._characterJoinerRegistry=new g.CharacterJoinerRegistry(l._bufferService),l._renderLayers=[new d.TextRenderLayer(l._screenElement,0,l._colors,l._characterJoinerRegistry,u,l._id,l._bufferService,s),new f.SelectionRenderLayer(l._screenElement,1,l._colors,l._id,l._bufferService,s),new _.LinkRenderLayer(l._screenElement,2,l._colors,l._id,i,n,l._bufferService,s),new p.CursorRenderLayer(l._screenElement,3,l._colors,l._id,l._onRequestRedraw,l._bufferService,s,a,c)],l.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},l._devicePixelRatio=window.devicePixelRatio,l._updateDimensions(),l.onOptionsChanged(),l}return r(e,h),Object.defineProperty(e.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){for(var e=0,t=this._renderLayers;e<t.length;e++)t[e].dispose();h.prototype.dispose.call(this),u.removeTerminalFromCache(this._id)},e.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},e.prototype.setColors=function(e){this._colors=e;for(var t=0,i=this._renderLayers;t<i.length;t++){var n=i[t];n.setColors(this._colors),n.reset()}},e.prototype.onResize=function(){this._updateDimensions();for(var e=0,t=this._renderLayers;e<t.length;e++)t[e].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},e.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},e.prototype.onBlur=function(){this._runOperation(function(e){return e.onBlur()})},e.prototype.onFocus=function(){this._runOperation(function(e){return e.onFocus()})},e.prototype.onSelectionChanged=function(t,i,n){void 0===n&&(n=!1),this._runOperation(function(e){return e.onSelectionChanged(t,i,n)})},e.prototype.onCursorMove=function(){this._runOperation(function(e){return e.onCursorMove()})},e.prototype.onOptionsChanged=function(){this._runOperation(function(e){return e.onOptionsChanged()})},e.prototype.clear=function(){this._runOperation(function(e){return e.reset()})},e.prototype._runOperation=function(e){for(var t=0,i=this._renderLayers;t<i.length;t++)e(i[t])},e.prototype.renderRows=function(e,t){for(var i=0,n=this._renderLayers;i<n.length;i++)n[i].onGridChanged(e,t)},e.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},e.prototype.registerCharacterJoiner=function(e){return this._characterJoinerRegistry.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){return this._characterJoinerRegistry.deregisterCharacterJoiner(e)},o([s(4,l.IBufferService),s(5,c.ICharSizeService),s(6,l.IOptionsService),s(7,l.ICoreService),s(8,c.ICoreBrowserService)],e)}(a.Disposable);t.Renderer=h},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.TextRenderLayer=void 0;var u=i(42),o=i(13),h=i(6),f=i(3),p=i(29),d=i(4),s=function(l){function e(e,t,i,n,r,o,s,a){var c=l.call(this,e,"text",t,r,i,o,s,a)||this;return c._characterWidth=0,c._characterFont="",c._characterOverlapCache={},c._workCell=new d.CellData,c._state=new u.GridCache,c._characterJoinerRegistry=n,c}return r(e,l),e.prototype.resize=function(e){l.prototype.resize.call(this,e);var t=this._getFont(!1,!1);this._characterWidth===e.scaledCharWidth&&this._characterFont===t||(this._characterWidth=e.scaledCharWidth,this._characterFont=t,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},e.prototype.reset=function(){this._state.clear(),this._clearAll()},e.prototype._forEachCell=function(e,t,i,n){for(var r=e;r<=t;r++)for(var o=r+this._bufferService.buffer.ydisp,s=this._bufferService.buffer.lines.get(o),a=i?i.getJoinedCharacters(o):[],c=0;c<this._bufferService.cols;c++){s.loadCell(c,this._workCell);var l=this._workCell,u=!1,h=c;if(0!==l.getWidth()){if(0<a.length&&c===a[0][0]){u=!0;var d=a.shift();l=new p.JoinedCellData(this._workCell,s.translateToString(!0,d[0],d[1]),d[1]-d[0]),h=d[1]-1}!u&&this._isOverlapping(l)&&h<s.length-1&&s.getCodePoint(h+1)===f.NULL_CELL_CODE&&(l.content&=-12582913,l.content|=2<<22),n(l,c,r),c=h}}},e.prototype._drawBackground=function(e,t){var r=this,o=this._ctx,s=this._bufferService.cols,a=0,c=0,l=null;o.save(),this._forEachCell(e,t,null,function(e,t,i){var n=null;e.isInverse()?n=e.isFgDefault()?r._colors.foreground.css:e.isFgRGB()?"rgb("+h.AttributeData.toColorRGB(e.getFgColor()).join(",")+")":r._colors.ansi[e.getFgColor()].css:e.isBgRGB()?n="rgb("+h.AttributeData.toColorRGB(e.getBgColor()).join(",")+")":e.isBgPalette()&&(n=r._colors.ansi[e.getBgColor()].css),null===l&&(a=t,c=i),i!==c?(o.fillStyle=l||"",r._fillCells(a,c,s-a,1),a=t,c=i):l!==n&&(o.fillStyle=l||"",r._fillCells(a,c,t-a,1),a=t,c=i),l=n}),null!==l&&(o.fillStyle=l,this._fillCells(a,c,s-a,1)),o.restore()},e.prototype._drawForeground=function(e,t){var o=this;this._forEachCell(e,t,this._characterJoinerRegistry,function(e,t,i){if(!e.isInvisible()&&(o._drawChars(e,t,i),e.isUnderline())){if(o._ctx.save(),e.isInverse())if(e.isBgDefault())o._ctx.fillStyle=o._colors.background.css;else if(e.isBgRGB())o._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var n=e.getBgColor();o._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&n<8&&(n+=8),o._ctx.fillStyle=o._colors.ansi[n].css}else if(e.isFgDefault())o._ctx.fillStyle=o._colors.foreground.css;else if(e.isFgRGB())o._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var r=e.getFgColor();o._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&r<8&&(r+=8),o._ctx.fillStyle=o._colors.ansi[r].css}o._fillBottomLineAtCells(t,i,e.getWidth()),o._ctx.restore()}})},e.prototype.onGridChanged=function(e,t){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,e,this._bufferService.cols,t-e+1),this._drawBackground(e,t),this._drawForeground(e,t))},e.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.options.allowTransparency)},e.prototype._isOverlapping=function(e){if(1!==e.getWidth())return!1;if(e.getCode()<256)return!1;var t=e.getChars();if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var i=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=i},e}(o.BaseRenderLayer);t.TextRenderLayer=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridCache=void 0;var i=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var i=0;i<e;i++){this.cache.length<=i&&this.cache.push([]);for(var n=this.cache[i].length;n<t;n++)this.cache[i].push(void 0);this.cache[i].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=void 0},e}();t.GridCache=i},function(e,t,i){"use strict";function c(e){return e.code<<21|e.bg<<12|e.fg<<3|(e.bold?0:4)+(e.dim?0:2)+(e.italic?0:1)}var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.NoneCharAtlas=t.DynamicCharAtlas=t.getGlyphCacheKey=void 0;var u=i(9),o=i(44),s=i(27),a=i(46),l=i(11),h=i(28),d=i(10),f={css:"rgba(0, 0, 0, 0)",rgba:0};t.getGlyphCacheKey=c;var p=function(o){function e(e,t){var i=o.call(this)||this;i._config=t,i._drawToCacheCount=0,i._glyphsWaitingOnBitmap=[],i._bitmapCommitTimeout=null,i._bitmap=null,i._cacheCanvas=e.createElement("canvas"),i._cacheCanvas.width=1024,i._cacheCanvas.height=1024,i._cacheCtx=h.throwIfFalsy(i._cacheCanvas.getContext("2d",{alpha:!0}));var n=e.createElement("canvas");n.width=i._config.scaledCharWidth,n.height=i._config.scaledCharHeight,i._tmpCtx=h.throwIfFalsy(n.getContext("2d",{alpha:i._config.allowTransparency})),i._width=Math.floor(1024/i._config.scaledCharWidth),i._height=Math.floor(1024/i._config.scaledCharHeight);var r=i._width*i._height;return i._cacheMap=new a.LRUMap(r),i._cacheMap.prealloc(r),i}return r(e,o),e.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},e.prototype.beginFrame=function(){this._drawToCacheCount=0},e.prototype.draw=function(e,t,i,n){if(32===t.code)return!0;if(!this._canCache(t))return!1;var r=c(t),o=this._cacheMap.get(r);if(null!=o)return this._drawFromCache(e,o,i,n),!0;if(this._drawToCacheCount<100){var s=void 0;s=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var a=this._drawToCache(t,s);return this._cacheMap.set(r,a),this._drawFromCache(e,a,i,n),!0}return!1},e.prototype._canCache=function(e){return e.code<256},e.prototype._toCoordinateX=function(e){return e%this._width*this._config.scaledCharWidth},e.prototype._toCoordinateY=function(e){return Math.floor(e/this._width)*this._config.scaledCharHeight},e.prototype._drawFromCache=function(e,t,i,n){if(!t.isEmpty){var r=this._toCoordinateX(t.index),o=this._toCoordinateY(t.index);e.drawImage(t.inBitmap?this._bitmap:this._cacheCanvas,r,o,this._config.scaledCharWidth,this._config.scaledCharHeight,i,n,this._config.scaledCharWidth,this._config.scaledCharHeight)}},e.prototype._getColorFromAnsiIndex=function(e){return e<this._config.colors.ansi.length?this._config.colors.ansi[e]:s.DEFAULT_ANSI_COLORS[e]},e.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?f:e.bg===u.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:e.bg<256?this._getColorFromAnsiIndex(e.bg):this._config.colors.background},e.prototype._getForegroundColor=function(e){return e.fg===u.INVERTED_DEFAULT_COLOR?d.color.opaque(this._config.colors.background):e.fg<256?this._getColorFromAnsiIndex(e.fg):this._config.colors.foreground},e.prototype._drawToCache=function(e,t){this._drawToCacheCount++,this._tmpCtx.save();var i=this._getBackgroundColor(e);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=i.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var n=e.bold?this._config.fontWeightBold:this._config.fontWeight,r=e.italic?"italic":"";this._tmpCtx.font=r+" "+n+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline="middle",this._tmpCtx.fillStyle=this._getForegroundColor(e).css,e.dim&&(this._tmpCtx.globalAlpha=u.DIM_OPACITY),this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight/2),this._tmpCtx.restore();var o=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),s=!1;this._config.allowTransparency||(s=function(e,t){for(var i=!0,n=t.rgba>>>24,r=t.rgba>>>16&255,o=t.rgba>>>8&255,s=0;s<e.data.length;s+=4)e.data[s]===n&&e.data[s+1]===r&&e.data[s+2]===o?e.data[s+3]=0:i=!1;return i}(o,i));var a=this._toCoordinateX(t),c=this._toCoordinateY(t);this._cacheCtx.putImageData(o,a,c);var l={index:t,isEmpty:s,inBitmap:!1};return this._addGlyphToBitmap(l),l},e.prototype._addGlyphToBitmap=function(e){var t=this;!("createImageBitmap"in window)||l.isFirefox||l.isSafari||(this._glyphsWaitingOnBitmap.push(e),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout(function(){return t._generateBitmap()},100)))},e.prototype._generateBitmap=function(){var i=this,n=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(e){i._bitmap=e;for(var t=0;t<n.length;t++)n[t].inBitmap=!0}),this._bitmapCommitTimeout=null},e}(o.BaseCharAtlas);t.DynamicCharAtlas=p;var _=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.draw=function(){return!1},t}(o.BaseCharAtlas);t.NoneCharAtlas=_},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCharAtlas=void 0;var i=function(){function e(){this._didWarmUp=!1}return e.prototype.dispose=function(){},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){},e.prototype.beginFrame=function(){},e}();t.BaseCharAtlas=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;var i=function(){function e(){this._color={},this._rgba={}}return e.prototype.clear=function(){this._color={},this._rgba={}},e.prototype.setCss=function(e,t,i){this._rgba[e]||(this._rgba[e]={}),this._rgba[e][t]=i},e.prototype.getCss=function(e,t){return this._rgba[e]?this._rgba[e][t]:void 0},e.prototype.setColor=function(e,t,i){this._color[e]||(this._color[e]={}),this._color[e][t]=i},e.prototype.getColor=function(e,t){return this._color[e]?this._color[e][t]:void 0},e}();t.ColorContrastCache=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUMap=void 0;var i=function(){function e(e){this.capacity=e,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return e.prototype._unlinkNode=function(e){var t=e.prev,i=e.next;e===this._head&&(this._head=i),e===this._tail&&(this._tail=t),null!==t&&(t.next=i),null!==i&&(i.prev=t)},e.prototype._appendNode=function(e){var t=this._tail;null!==t&&(t.next=e),e.prev=t,e.next=null,this._tail=e,null===this._head&&(this._head=e)},e.prototype.prealloc=function(e){for(var t=this._nodePool,i=0;i<e;i++)t.push({prev:null,next:null,key:null,value:null})},e.prototype.get=function(e){var t=this._map[e];return void 0!==t?(this._unlinkNode(t),this._appendNode(t),t.value):null},e.prototype.peekValue=function(e){var t=this._map[e];return void 0!==t?t.value:null},e.prototype.peek=function(){var e=this._head;return null===e?null:e.value},e.prototype.set=function(e,t){var i=this._map[e];if(void 0!==i)i=this._map[e],this._unlinkNode(i),i.value=t;else if(this.size>=this.capacity)i=this._head,this._unlinkNode(i),delete this._map[i.key],i.key=e,i.value=t,this._map[e]=i;else{var n=this._nodePool;0<n.length?((i=n.pop()).key=e,i.value=t):i={prev:null,next:null,key:e,value:t},this._map[e]=i,this.size++}this._appendNode(i)},e}();t.LRUMap=i},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRenderLayer=void 0;var o=function(a){function e(e,t,i,n,r,o){var s=a.call(this,e,"selection",t,!0,i,n,r,o)||this;return s._clearState(),s}return r(e,a),e.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},e.prototype.resize=function(e){a.prototype.resize.call(this,e),this._clearState()},e.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},e.prototype.onSelectionChanged=function(e,t,i){if(this._didStateChange(e,t,i,this._bufferService.buffer.ydisp))if(this._clearAll(),e&&t){var n=e[1]-this._bufferService.buffer.ydisp,r=t[1]-this._bufferService.buffer.ydisp,o=Math.max(n,0),s=Math.min(r,this._bufferService.rows-1);if(o>=this._bufferService.rows||s<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,i){var a=e[0],c=t[0]-a,l=s-o+1;this._fillCells(a,o,c,l)}else{a=n===o?e[0]:0;var u=o===r?t[0]:this._bufferService.cols;this._fillCells(a,o,u-a,1);var h=Math.max(s-o-1,0);if(this._fillCells(0,o+1,this._bufferService.cols,h),o!==s){var d=r===s?t[0]:this._bufferService.cols;this._fillCells(0,s,d,1)}}this._state.start=[e[0],e[1]],this._state.end=[t[0],t[1]],this._state.columnSelectMode=i,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},e.prototype._didStateChange=function(e,t,i,n){return!this._areCoordinatesEqual(e,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||i!==this._state.columnSelectMode||n!==this._state.ydisp},e.prototype._areCoordinatesEqual=function(e,t){return!(!e||!t)&&e[0]===t[0]&&e[1]===t[1]},e}(i(13).BaseRenderLayer);t.SelectionRenderLayer=o},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CursorRenderLayer=void 0;var o=i(13),h=i(4),s=function(u){function e(e,t,i,n,r,o,s,a,c){var l=u.call(this,e,"cursor",t,!0,i,n,o,s)||this;return l._onRequestRedraw=r,l._coreService=a,l._coreBrowserService=c,l._cell=new h.CellData,l._state={x:0,y:0,isFocused:!1,style:"",width:0},l._cursorRenderers={bar:l._renderBarCursor.bind(l),block:l._renderBlockCursor.bind(l),underline:l._renderUnderlineCursor.bind(l)},l}return r(e,u),e.prototype.resize=function(e){u.prototype.resize.call(this,e),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},e.prototype.reset=function(){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0,this.onOptionsChanged())},e.prototype.onBlur=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},e.prototype.onFocus=function(){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume():this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},e.prototype.onOptionsChanged=function(){var e,t=this;this._optionsService.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new a(this._coreBrowserService.isFocused,function(){t._render(!0)})):(null===(e=this._cursorBlinkStateManager)||void 0===e||e.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},e.prototype.onCursorMove=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation()},e.prototype.onGridChanged=function(){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},e.prototype._render=function(){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var e=this._bufferService.buffer.ybase+this._bufferService.buffer.y,t=e-this._bufferService.buffer.ydisp;if(t<0||t>=this._bufferService.rows)this._clearCursor();else{var i=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(e).loadCell(i,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var n=this._optionsService.options.cursorStyle;return n&&"block"!==n?this._cursorRenderers[n](i,t,this._cell):this._renderBlurCursor(i,t,this._cell),this._ctx.restore(),this._state.x=i,this._state.y=t,this._state.isFocused=!1,this._state.style=n,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===i&&this._state.y===t&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.options.cursorStyle||"block"](i,t,this._cell),this._ctx.restore(),this._state.x=i,this._state.y=t,this._state.isFocused=!1,this._state.style=this._optionsService.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},e.prototype._clearCursor=function(){this._state&&(this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},e.prototype._renderBarCursor=function(e,t){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(e,t,this._optionsService.options.cursorWidth),this._ctx.restore()},e.prototype._renderBlockCursor=function(e,t,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(e,t,i.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(i,e,t),this._ctx.restore()},e.prototype._renderUnderlineCursor=function(e,t){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(e,t),this._ctx.restore()},e.prototype._renderBlurCursor=function(e,t,i){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(e,t,i.getWidth(),1),this._ctx.restore()},e}(o.BaseRenderLayer);t.CursorRenderLayer=s;var a=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){e._renderCallback(),e._animationFrame=void 0})))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=window.setTimeout(function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=void 0,0<e)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame(function(){t._renderCallback(),t._animationFrame=void 0}),t._blinkInterval=window.setInterval(function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=void 0,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame(function(){t._renderCallback(),t._animationFrame=void 0})},600)},e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.LinkRenderLayer=void 0;var o=i(13),s=i(9),a=i(26),c=function(l){function e(e,t,i,n,r,o,s,a){var c=l.call(this,e,"link",t,!0,i,n,s,a)||this;return r.onShowLinkUnderline(function(e){return c._onShowLinkUnderline(e)}),r.onHideLinkUnderline(function(e){return c._onHideLinkUnderline(e)}),o.onShowLinkUnderline(function(e){return c._onShowLinkUnderline(e)}),o.onHideLinkUnderline(function(e){return c._onHideLinkUnderline(e)}),c}return r(e,l),e.prototype.resize=function(e){l.prototype.resize.call(this,e),this._state=void 0},e.prototype.reset=function(){this._clearCurrentLink()},e.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;0<e&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},e.prototype._onShowLinkUnderline=function(e){if(e.fg===s.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&a.is256Color(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},e.prototype._onHideLinkUnderline=function(){this._clearCurrentLink()},e}(o.BaseRenderLayer);t.LinkRenderLayer=c},function(e,t,i){"use strict";var r=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZone=t.Linkifier=void 0;var s=i(0),a=i(1),n=function(){function n(e,t,i){this._bufferService=e,this._logService=t,this._unicodeService=i,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new s.EventEmitter,this._onHideLinkUnderline=new s.EventEmitter,this._onLinkTooltip=new s.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(n.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),n.prototype.attachToDom=function(e,t){this._element=e,this._mouseZoneManager=t},n.prototype.linkifyRows=function(e,t){var i=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=e,this._rowsToLinkify.end=t):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,e),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,t)),this._mouseZoneManager.clearAll(e,t),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return i._linkifyRows()},n._timeBeforeLatency))},n.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var e=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var t=e.ydisp+this._rowsToLinkify.start;if(!(t>=e.lines.length)){for(var i=e.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,n=Math.ceil(2e3/this._bufferService.cols),r=this._bufferService.buffer.iterator(!1,t,i,n,n);r.hasNext();)for(var o=r.next(),s=0;s<this._linkMatchers.length;s++)this._doLinkifyRow(o.range.first,o.content,this._linkMatchers[s]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},n.prototype.registerLinkMatcher=function(e,t,i){if(void 0===i&&(i={}),!t)throw new Error("handler must be defined");var n={id:this._nextLinkMatcherId++,
regex:e,handler:t,matchIndex:i.matchIndex,validationCallback:i.validationCallback,hoverTooltipCallback:i.tooltipCallback,hoverLeaveCallback:i.leaveCallback,willLinkActivate:i.willLinkActivate,priority:i.priority||0};return this._addLinkMatcherToList(n),n.id},n.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;0<=t;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},n.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},n.prototype._doLinkifyRow=function(o,s,a){for(var c,l=this,u=new RegExp(a.regex.source,(a.regex.flags||"")+"g"),h=-1,e=function(){var t=c["number"!=typeof a.matchIndex?0:a.matchIndex];if(!t)return d._logService.debug("match found without corresponding matchIndex",c,a),"break";if(h=s.indexOf(t,h+1),u.lastIndex=h+t.length,h<0)return"break";var i=d._bufferService.buffer.stringIndexToBufferIndex(o,h);if(i[0]<0)return"break";var e=d._bufferService.buffer.lines.get(i[0]);if(!e)return"break";var n=e.getFg(i[1]),r=n?n>>9&511:void 0;a.validationCallback?a.validationCallback(t,function(e){l._rowsTimeoutId||e&&l._addLink(i[1],i[0]-l._bufferService.buffer.ydisp,t,a,r)}):d._addLink(i[1],i[0]-d._bufferService.buffer.ydisp,t,a,r)},d=this;null!==(c=u.exec(s))&&"break"!==e(););},n.prototype._addLink=function(e,t,i,n,r){var o=this;if(this._mouseZoneManager&&this._element){var s=this._unicodeService.getStringCellWidth(i),a=e%this._bufferService.cols,c=t+Math.floor(e/this._bufferService.cols),l=(a+s)%this._bufferService.cols,u=c+Math.floor((a+s)/this._bufferService.cols);0===l&&(l=this._bufferService.cols,u--),this._mouseZoneManager.add(new h(a+1,c+1,l+1,u+1,function(e){if(n.handler)return n.handler(e,i);var t=window.open();t?(t.opener=null,t.location.href=i):console.warn("Opening link blocked as opener could not be cleared")},function(){o._onShowLinkUnderline.fire(o._createLinkHoverEvent(a,c,l,u,r)),o._element.classList.add("xterm-cursor-pointer")},function(e){o._onLinkTooltip.fire(o._createLinkHoverEvent(a,c,l,u,r)),n.hoverTooltipCallback&&n.hoverTooltipCallback(e,i,{start:{x:a,y:c},end:{x:l,y:u}})},function(){o._onHideLinkUnderline.fire(o._createLinkHoverEvent(a,c,l,u,r)),o._element.classList.remove("xterm-cursor-pointer"),n.hoverLeaveCallback&&n.hoverLeaveCallback()},function(e){return!n.willLinkActivate||n.willLinkActivate(e,i)}))}},n.prototype._createLinkHoverEvent=function(e,t,i,n,r){return{x1:e,y1:t,x2:i,y2:n,cols:this._bufferService.cols,fg:r}},n._timeBeforeLatency=200,n=r([o(0,a.IBufferService),o(1,a.ILogService),o(2,a.IUnicodeService)],n)}();t.Linkifier=n;var h=function(e,t,i,n,r,o,s,a,c){this.x1=e,this.y1=t,this.x2=i,this.y2=n,this.clickCallback=r,this.hoverCallback=o,this.tooltipCallback=s,this.leaveCallback=a,this.willLinkActivate=c};t.MouseZone=h},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;var l=i(11),u=i(52),h=i(4),d=i(0),a=i(5),f=i(1),p=i(30),_=i(53),c=i(2),g=String.fromCharCode(160),v=new RegExp(g,"g"),m=function(c){function e(e,t,i,n,r,o,s){var a=c.call(this)||this;return a._element=e,a._screenElement=t,a._bufferService=i,a._coreService=n,a._mouseService=r,a._optionsService=o,a._renderService=s,a._dragScrollAmount=0,a._enabled=!0,a._workCell=new h.CellData,a._mouseDownTimeStamp=0,a._onLinuxMouseSelection=a.register(new d.EventEmitter),a._onRedrawRequest=a.register(new d.EventEmitter),a._onSelectionChange=a.register(new d.EventEmitter),a._onRequestScrollLines=a.register(new d.EventEmitter),a._mouseMoveListener=function(e){return a._onMouseMove(e)},a._mouseUpListener=function(e){return a._onMouseUp(e)},a._coreService.onUserInput(function(){a.hasSelection&&a.clearSelection()}),a._trimListener=a._bufferService.buffer.lines.onTrim(function(e){return a._onTrim(e)}),a.register(a._bufferService.buffers.onBufferActivate(function(e){return a._onBufferActivate(e)})),a.enable(),a._model=new u.SelectionModel(a._bufferService),a._activeSelectionMode=0,a}return r(e,c),Object.defineProperty(e.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._removeMouseDownListeners()},e.prototype.reset=function(){this.clearSelection()},e.prototype.disable=function(){this.clearSelection(),this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},Object.defineProperty(e.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var i=this._bufferService.buffer,n=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";for(var r=e[1];r<=t[1];r++){var o=i.translateBufferLineToString(r,!0,e[0],t[0]);n.push(o)}}else{var s=e[1]===t[1]?t[0]:void 0;for(n.push(i.translateBufferLineToString(e[1],!0,e[0],s)),r=e[1]+1;r<=t[1]-1;r++){var a=i.lines.get(r);o=i.translateBufferLineToString(r,!0),a&&a.isWrapped?n[n.length-1]+=o:n.push(o)}e[1]!==t[1]&&(a=i.lines.get(t[1]),o=i.translateBufferLineToString(t[1],!0,0,t[0]),a&&a.isWrapped?n[n.length-1]+=o:n.push(o))}return n.map(function(e){return e.replace(v," ")}).join(l.isWindows?"\r\n":"\n")},enumerable:!1,configurable:!0}),e.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},e.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return t._refresh()})),l.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},e.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},e.prototype.isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),i=this._model.finalSelectionStart,n=this._model.finalSelectionEnd;return!!(i&&n&&t)&&this._areCoordsInSelection(t,i,n)},e.prototype._areCoordsInSelection=function(e,t,i){return e[1]>t[1]&&e[1]<i[1]||t[1]===i[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<i[0]||t[1]<i[1]&&e[1]===i[1]&&e[0]<i[0]||t[1]<i[1]&&e[1]===t[1]&&e[0]>=t[0]},e.prototype.selectWordAtCursor=function(e){var t=this._getMouseBufferCoords(e);t&&(this._selectWordAt(t,!1),this._model.selectionEnd=void 0,this.refresh(!0))},e.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},e.prototype.selectLines=function(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()},e.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},e.prototype._getMouseBufferCoords=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t},e.prototype._getMouseEventScrollAmount=function(e){var t=p.getCoordsRelativeToElement(e,this._screenElement)[1],i=this._renderService.dimensions.canvasHeight;return 0<=t&&t<=i?0:(i<t&&(t-=i),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},e.prototype.shouldForceSelection=function(e){return l.isMac?e.altKey&&this._optionsService.options.macOptionClickForcesSelection:e.shiftKey},e.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},e.prototype._addMouseDownListeners=function(){var e=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return e._dragScroll()},50)},e.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},e.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},e.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=void 0;var t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},e.prototype._onDoubleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=1,this._selectWordAt(t,!0))},e.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))},e.prototype.shouldColumnSelect=function(e){return e.altKey&&!(l.isMac&&this._optionsService.options.macOptionClickForcesSelection)},e.prototype._onMouseMove=function(e){if(e.stopImmediatePropagation(),this._model.selectionStart){var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(0<this._dragScrollAmount?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var i=this._bufferService.buffer;if(this._model.selectionEnd[1]<i.lines.length){var n=i.lines.get(this._model.selectionEnd[1]);n&&0===n.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},e.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var e=this._bufferService.buffer;0<this._dragScrollAmount?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}},e.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500&&e.altKey){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var i=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(i&&void 0!==i[0]&&void 0!==i[1]){var n=_.moveToCellSequence(i[0]-1,i[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(n,!0)}}}else this.hasSelection&&this._onSelectionChange.fire()},e.prototype._onBufferActivate=function(e){var t=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim(function(e){return t._onTrim(e)})},e.prototype._convertViewportColToCharacterIndex=function(e,t){for(var i=t[0],n=0;t[0]>=n;n++){var r=e.loadCell(n,this._workCell).getChars().length;0===this._workCell.getWidth()?i--:1<r&&t[0]!==n&&(i+=r-1)}return i},e.prototype.setSelection=function(e,t,i){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=i,this.refresh()},e.prototype._getWordAt=function(e,t,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!0),!(e[0]>=this._bufferService.cols)){var r=this._bufferService.buffer,o=r.lines.get(e[1]);if(o){var s=r.translateBufferLineToString(e[1],!1),a=this._convertViewportColToCharacterIndex(o,e),c=a,l=e[0]-a,u=0,h=0,d=0,f=0;if(" "===s.charAt(a)){for(;0<a&&" "===s.charAt(a-1);)a--;for(;c<s.length&&" "===s.charAt(c+1);)c++}else{var p=e[0],_=e[0];0===o.getWidth(p)&&(u++,p--),2===o.getWidth(_)&&(h++,_++);var g=o.getString(_).length;for(1<g&&(f+=g-1,c+=g-1);0<p&&0<a&&!this._isCharWordSeparator(o.loadCell(p-1,this._workCell));){o.loadCell(p-1,this._workCell);var v=this._workCell.getChars().length;0===this._workCell.getWidth()?(u++,p--):1<v&&(d+=v-1,a-=v-1),a--,p--}for(;_<o.length&&c+1<s.length&&!this._isCharWordSeparator(o.loadCell(_+1,this._workCell));){o.loadCell(_+1,this._workCell);var m=this._workCell.getChars().length;2===this._workCell.getWidth()?(h++,_++):1<m&&(f+=m-1,c+=m-1),c++,_++}}c++;var y=a+l-u+d,b=Math.min(this._bufferService.cols,c-a+u+h-d-f);if(t||""!==s.slice(a,c).trim()){if(i&&0===y&&32!==o.getCodePoint(0)){var w=r.lines.get(e[1]-1);if(w&&o.isWrapped&&32!==w.getCodePoint(this._bufferService.cols-1)){var C=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(C){var S=this._bufferService.cols-C.start;y-=S,b+=S}}}if(n&&y+b===this._bufferService.cols&&32!==o.getCodePoint(this._bufferService.cols-1)){var x=r.lines.get(e[1]+1);if(x&&x.isWrapped&&32!==x.getCodePoint(0)){var E=this._getWordAt([0,e[1]+1],!1,!1,!0);E&&(b+=E.length)}}return{start:y,length:b}}}}},e.prototype._selectWordAt=function(e,t){var i=this._getWordAt(e,t);if(i){for(;i.start<0;)i.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[i.start,e[1]],this._model.selectionStartLength=i.length}},e.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);if(t){for(var i=e[1];t.start<0;)t.start+=this._bufferService.cols,i--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,i++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,i]}},e.prototype._isCharWordSeparator=function(e){return 0!==e.getWidth()&&0<=this._optionsService.options.wordSeparator.indexOf(e.getChars())},e.prototype._selectLineAt=function(e){var t=this._bufferService.buffer.getWrappedRangeForLine(e);this._model.selectionStart=[0,t.first],this._model.selectionEnd=[this._bufferService.cols,t.last],this._model.selectionStartLength=0},o([s(2,f.IBufferService),s(3,f.ICoreService),s(4,a.IMouseService),s(5,f.IOptionsService),s(6,a.IRenderService)],e)}(c.Disposable);t.SelectionService=m},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0;var i=function(){function e(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}return e.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(this.selectionEnd&&!this.areSelectionValuesReversed())return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd;var e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}},enumerable:!1,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();t.SelectionModel=i},function(e,t,i){"use strict";function _(e,t,i,n){var r=e-g(i,e),o=t-g(i,t);return y(Math.abs(r-o)-function(e,t,i){for(var n=0,r=e-g(i,e),o=t-g(i,t),s=0;s<Math.abs(r-o);s++){var a="A"===l(e,t)?-1:1,c=i.buffer.lines.get(r+a*s);c&&c.isWrapped&&n++}return n}(e,t,i),m(l(e,t),n))}function g(e,t){for(var i=0,n=e.buffer.lines.get(t),r=n&&n.isWrapped;r&&0<=t&&t<e.rows;)i++,r=(n=e.buffer.lines.get(--t))&&n.isWrapped;return i}function l(e,t){return t<e?"A":"B"}function v(e,t,i,n,r,o){for(var s=e,a=t,c="";s!==i||a!==n;)s+=r?1:-1,r&&s>o.cols-1?(c+=o.buffer.translateBufferLineToString(a,!1,e,s),e=s=0,a++):!r&&s<0&&(c+=o.buffer.translateBufferLineToString(a,!1,0,e+1),e=s=o.cols-1,a--);return c+o.buffer.translateBufferLineToString(a,!1,e,s)}function m(e,t){var i=t?"O":"[";return n.C0.ESC+i+e}function y(e,t){e=Math.floor(e);for(var i="",n=0;n<e;n++)i+=t;return i}Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;var n=i(12);t.moveToCellSequence=function(e,t,i,n){var r,o,s,a,c,l=i.buffer.x,u=i.buffer.y;if(!i.buffer.hasScrollback)return o=l,(0===_(s=u,t,a=i,c=n).length?"":y(v(o,s,o,s-g(a,s),!1,a).length,m("D",c)))+_(u,t,i,n)+function(e,t,i,n,r,o){var s;s=0<_(t,n,r,o).length?n-g(r,n):t;var a,c,l,u,h,d,f=n,p=(a=e,c=t,d=0<_(l=i,u=n,h=r,o).length?u-g(h,u):c,a<l&&d<=u||l<=a&&d<u?"C":"D");return y(v(e,s,i,f,"C"===p,r).length,m(p,o))}(l,u,e,t,i,n);if(u===t)return r=e<l?"D":"C",y(Math.abs(l-e),m(r,n));r=t<u?"D":"C";var h,d=Math.abs(u-t);return y((h=t<u?e:l,i.cols-h+(d-1)*i.cols+1+((t<u?l:e)-1)),m(r,n))}},function(e,t,i){"use strict";var r=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SoundService=void 0;var s=i(1),n=function(){function n(e){this._optionsService=e}return Object.defineProperty(n,"audioContext",{get:function(){if(!n._audioContext){var e=window.AudioContext||window.webkitAudioContext;if(!e)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;n._audioContext=new e}return n._audioContext},enumerable:!1,configurable:!0}),n.prototype.playBellSound=function(){var t=n.audioContext;if(t){var i=t.createBufferSource();t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.options.bellSound)),function(e){i.buffer=e,i.connect(t.destination),i.start(0)})}},n.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),i=t.length,n=new Uint8Array(i),r=0;r<i;r++)n[r]=t.charCodeAt(r);return n.buffer},n.prototype._removeMimeType=function(e){return e.split(",")[1]},n=r([o(0,s.IOptionsService)],n)}();t.SoundService=n},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZoneManager=void 0;var a=i(2),c=i(7),l=i(5),u=i(1),h=function(a){function e(e,t,i,n,r,o){var s=a.call(this)||this;return s._element=e,s._screenElement=t,s._bufferService=i,s._mouseService=n,s._selectionService=r,s._optionsService=o,s._zones=[],s._areZonesActive=!1,s._lastHoverCoords=[void 0,void 0],s._initialSelectionLength=0,s.register(c.addDisposableDomListener(s._element,"mousedown",function(e){return s._onMouseDown(e)})),s._mouseMoveListener=function(e){return s._onMouseMove(e)},s._mouseLeaveListener=function(e){return s._onMouseLeave(e)},s._clickListener=function(e){return s._onClick(e)},s}return r(e,a),e.prototype.dispose=function(){a.prototype.dispose.call(this),this._deactivate()},e.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},e.prototype.clearAll=function(e,t){if(0!==this._zones.length){e&&t||(e=0,t=this._bufferService.rows-1);for(var i=0;i<this._zones.length;i++){var n=this._zones[i];(n.y1>e&&n.y1<=t+1||n.y2>e&&n.y2<=t+1||n.y1<e&&n.y2>t+1)&&(this._currentZone&&this._currentZone===n&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(i--,1))}0===this._zones.length&&this._deactivate()}},e.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},e.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},e.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},e.prototype._onHover=function(e){var t=this,i=this._findZoneEventAt(e);i!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),i&&((this._currentZone=i).hoverCallback&&i.hoverCallback(e),this._tooltipTimeout=window.setTimeout(function(){return t._onTooltip(e)},this._optionsService.options.linkTooltipHoverDuration)))},e.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);t&&t.tooltipCallback&&t.tooltipCallback(e)},e.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var t=this._findZoneEventAt(e);(null==t?void 0:t.willLinkActivate(e))&&(e.preventDefault(),e.stopImmediatePropagation())}},e.prototype._onMouseLeave=function(){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},e.prototype._onClick=function(e){var t=this._findZoneEventAt(e),i=this._getSelectionLength();t&&i===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},e.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},e.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var i=t[0],n=t[1],r=0;r<this._zones.length;r++){var o=this._zones[r];if(o.y1===o.y2){if(n===o.y1&&i>=o.x1&&i<o.x2)return o}else if(n===o.y1&&i>=o.x1||n===o.y2&&i<o.x2||n>o.y1&&n<o.y2)return o}},o([s(2,u.IBufferService),s(3,l.IMouseService),s(4,l.ISelectionService),s(5,u.IOptionsService)],e)}(a.Disposable);t.MouseZoneManager=h},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;var s=i(18),a=i(11),c=i(31),l=i(7),r=i(2),u=i(32),h=i(17),d=function(r){function e(e,t){var i=r.call(this)||this;i._terminal=e,i._renderService=t,i._liveRegionLineCount=0,i._charsToConsume=[],i._charsToAnnounce="",i._accessibilityTreeRoot=document.createElement("div"),i._accessibilityTreeRoot.classList.add("xterm-accessibility"),i._rowContainer=document.createElement("div"),i._rowContainer.classList.add("xterm-accessibility-tree"),i._rowContainer.setAttribute("role","document"),i._rowElements=[];for(var n=0;n<i._terminal.rows;n++)i._rowElements[n]=i._createAccessibilityTreeNode(),i._rowContainer.appendChild(i._rowElements[n]);if(i._topBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,0)},i._bottomBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,1)},i._rowElements[0].addEventListener("focus",i._topBoundaryFocusListener),i._rowElements[i._rowElements.length-1].addEventListener("focus",i._bottomBoundaryFocusListener),i._refreshRowsDimensions(),i._accessibilityTreeRoot.appendChild(i._rowContainer),i._renderRowsDebouncer=new c.RenderDebouncer(i._renderRows.bind(i)),i._refreshRows(),i._liveRegion=document.createElement("div"),i._liveRegion.classList.add("live-region"),i._liveRegion.setAttribute("aria-live","assertive"),i._accessibilityTreeRoot.appendChild(i._liveRegion),!i._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return i._terminal.element.insertAdjacentElement("afterbegin",i._accessibilityTreeRoot),i.register(i._renderRowsDebouncer),i.register(i._terminal.onResize(function(e){return i._onResize(e.rows)})),i.register(i._terminal.onRender(function(e){return i._refreshRows(e.start,e.end)})),i.register(i._terminal.onScroll(function(){return i._refreshRows()})),i.register(i._terminal.onA11yChar(function(e){return i._onChar(e)})),i.register(i._terminal.onLineFeed(function(){return i._onChar("\n")})),i.register(i._terminal.onA11yTab(function(e){return i._onTab(e)})),i.register(i._terminal.onKey(function(e){return i._onKey(e.key)})),i.register(i._terminal.onBlur(function(){return i._clearLiveRegion()})),i.register(i._renderService.onDimensionsChange(function(){return i._refreshRowsDimensions()})),i._screenDprMonitor=new u.ScreenDprMonitor,i.register(i._screenDprMonitor),i._screenDprMonitor.setListener(function(){return i._refreshRowsDimensions()}),i.register(l.addDisposableDomListener(window,"resize",function(){return i._refreshRowsDimensions()})),i}return o(e,r),e.prototype.dispose=function(){r.prototype.dispose.call(this),h.removeElementFromParent(this._accessibilityTreeRoot),this._rowElements.length=0},e.prototype._onBoundaryFocus=function(e,t){var i=e.target,n=this._rowElements[0===t?1:this._rowElements.length-2];if(i.getAttribute("aria-posinset")!==(0===t?"1":""+this._terminal.buffer.lines.length)&&e.relatedTarget===n){var r,o;if(0===t?(r=i,o=this._rowElements.pop(),this._rowContainer.removeChild(o)):(r=this._rowElements.shift(),o=i,this._rowContainer.removeChild(r)),r.removeEventListener("focus",this._topBoundaryFocusListener),o.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){var s=this._createAccessibilityTreeNode();this._rowElements.unshift(s),this._rowContainer.insertAdjacentElement("afterbegin",s)}else s=this._createAccessibilityTreeNode(),this._rowElements.push(s),this._rowContainer.appendChild(s);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},e.prototype._onResize=function(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},e.prototype._createAccessibilityTreeNode=function(){var e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e},e.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(" ")},e.prototype._onChar=function(e){var t=this;this._liveRegionLineCount<21&&(0<this._charsToConsume.length?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=s.tooMuchOutput)),a.isMac&&this._liveRegion.textContent&&0<this._liveRegion.textContent.length&&!this._liveRegion.parentNode&&setTimeout(function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)},0))},e.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,a.isMac&&h.removeElementFromParent(this._liveRegion)},e.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},e.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t,this._terminal.rows)},e.prototype._renderRows=function(e,t){for(var i=this._terminal.buffer,n=i.lines.length.toString(),r=e;r<=t;r++){var o=i.translateBufferLineToString(i.ydisp+r,!0),s=(i.ydisp+r+1).toString(),a=this._rowElements[r];a&&(0===o.length?a.innerHTML="&nbsp;":a.textContent=o,a.setAttribute("aria-posinset",s),a.setAttribute("aria-setsize",n))}this._announceCharacters()},e.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}},e.prototype._refreshRowDimensions=function(e){
e.style.height=this._renderService.dimensions.actualCellHeight+"px"},e.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},e}(r.Disposable);t.AccessibilityManager=d},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;var h=i(58),a=i(9),c=i(2),l=i(5),d=i(1),f=i(0),p=i(10),_=i(17),g=1,u=function(u){function e(e,t,i,n,r,o,s,a,c){var l=u.call(this)||this;return l._colors=e,l._element=t,l._screenElement=i,l._viewportElement=n,l._linkifier=r,l._linkifier2=o,l._charSizeService=s,l._optionsService=a,l._bufferService=c,l._terminalClass=g++,l._rowElements=[],l._rowContainer=document.createElement("div"),l._rowContainer.classList.add("xterm-rows"),l._rowContainer.style.lineHeight="normal",l._rowContainer.setAttribute("aria-hidden","true"),l._refreshRowElements(l._bufferService.cols,l._bufferService.rows),l._selectionContainer=document.createElement("div"),l._selectionContainer.classList.add("xterm-selection"),l._selectionContainer.setAttribute("aria-hidden","true"),l.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},l._updateDimensions(),l._injectCss(),l._rowFactory=new h.DomRendererRowFactory(document,l._optionsService,l._colors),l._element.classList.add("xterm-dom-renderer-owner-"+l._terminalClass),l._screenElement.appendChild(l._rowContainer),l._screenElement.appendChild(l._selectionContainer),l._linkifier.onShowLinkUnderline(function(e){return l._onLinkHover(e)}),l._linkifier.onHideLinkUnderline(function(e){return l._onLinkLeave(e)}),l._linkifier2.onShowLinkUnderline(function(e){return l._onLinkHover(e)}),l._linkifier2.onHideLinkUnderline(function(e){return l._onLinkLeave(e)}),l}return r(e,u),Object.defineProperty(e.prototype,"onRequestRedraw",{get:function(){return(new f.EventEmitter).event},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._element.classList.remove("xterm-dom-renderer-owner-"+this._terminalClass),_.removeElementFromParent(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),u.prototype.dispose.call(this)},e.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var e=0,t=this._rowElements;e<t.length;e++){var i=t[e];i.style.width=this.dimensions.canvasWidth+"px",i.style.height=this.dimensions.actualCellHeight+"px",i.style.lineHeight=this.dimensions.actualCellHeight+"px",i.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var n=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.innerHTML=n,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},e.prototype.setColors=function(e){this._colors=e,this._injectCss()},e.prototype._injectCss=function(){var i=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var n=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.options.fontFamily+"; font-size: "+this._optionsService.options.fontSize+"px;}";n+=this._terminalSelector+" span:not(."+h.BOLD_CLASS+") { font-weight: "+this._optionsService.options.fontWeight+";}"+this._terminalSelector+" span."+h.BOLD_CLASS+" { font-weight: "+this._optionsService.options.fontWeightBold+";}"+this._terminalSelector+" span."+h.ITALIC_CLASS+" { font-style: italic;}",n+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",n+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",n+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+h.CURSOR_CLASS+"."+h.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+h.CURSOR_CLASS+"."+h.CURSOR_BLINK_CLASS+":not(."+h.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+h.CURSOR_CLASS+"."+h.CURSOR_BLINK_CLASS+"."+h.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+h.CURSOR_CLASS+"."+h.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+h.CURSOR_CLASS+"."+h.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.options.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+h.CURSOR_CLASS+"."+h.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",n+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach(function(e,t){n+=i._terminalSelector+" .xterm-fg-"+t+" { color: "+e.css+"; }"+i._terminalSelector+" .xterm-bg-"+t+" { background-color: "+e.css+"; }"}),n+=this._terminalSelector+" .xterm-fg-"+a.INVERTED_DEFAULT_COLOR+" { color: "+p.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" .xterm-bg-"+a.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.innerHTML=n},e.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},e.prototype._refreshRowElements=function(e,t){for(var i=this._rowElements.length;i<=t;i++){var n=document.createElement("div");this._rowContainer.appendChild(n),this._rowElements.push(n)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())},e.prototype.onResize=function(e,t){this._refreshRowElements(e,t),this._updateDimensions()},e.prototype.onCharSizeChanged=function(){this._updateDimensions()},e.prototype.onBlur=function(){this._rowContainer.classList.remove("xterm-focus")},e.prototype.onFocus=function(){this._rowContainer.classList.add("xterm-focus")},e.prototype.onSelectionChanged=function(e,t,i){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(e&&t){var n=e[1]-this._bufferService.buffer.ydisp,r=t[1]-this._bufferService.buffer.ydisp,o=Math.max(n,0),s=Math.min(r,this._bufferService.rows-1);if(!(o>=this._bufferService.rows||s<0)){var a=document.createDocumentFragment();if(i)a.appendChild(this._createSelectionElement(o,e[0],t[0],s-o+1));else{var c=n===o?e[0]:0,l=o===r?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(o,c,l));var u=s-o-1;if(a.appendChild(this._createSelectionElement(o+1,0,this._bufferService.cols,u)),o!==s){var h=r===s?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(s,0,h))}}this._selectionContainer.appendChild(a)}}},e.prototype._createSelectionElement=function(e,t,i,n){void 0===n&&(n=1);var r=document.createElement("div");return r.style.height=n*this.dimensions.actualCellHeight+"px",r.style.top=e*this.dimensions.actualCellHeight+"px",r.style.left=t*this.dimensions.actualCellWidth+"px",r.style.width=this.dimensions.actualCellWidth*(i-t)+"px",r},e.prototype.onCursorMove=function(){},e.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},e.prototype.clear=function(){for(var e=0,t=this._rowElements;e<t.length;e++)t[e].innerHTML=""},e.prototype.renderRows=function(e,t){for(var i=this._bufferService.buffer.ybase+this._bufferService.buffer.y,n=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),r=this._optionsService.options.cursorBlink,o=e;o<=t;o++){var s=this._rowElements[o];s.innerHTML="";var a=o+this._bufferService.buffer.ydisp,c=this._bufferService.buffer.lines.get(a),l=this._optionsService.options.cursorStyle;s.appendChild(this._rowFactory.createRow(c,a===i,l,n,r,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(e.prototype,"_terminalSelector",{get:function(){return".xterm-dom-renderer-owner-"+this._terminalClass},enumerable:!1,configurable:!0}),e.prototype.registerCharacterJoiner=function(){return-1},e.prototype.deregisterCharacterJoiner=function(){return!1},e.prototype._onLinkHover=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)},e.prototype._onLinkLeave=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)},e.prototype._setCellUnderline=function(e,t,i,n,r,o){for(;e!==t||i!==n;){var s=this._rowElements[i];if(!s)return;var a=s.children[e];a&&(a.style.textDecoration=o?"underline":"none"),++e>=r&&(e=0,i++)}},o([s(6,l.ICharSizeService),s(7,d.IOptionsService),s(8,d.IBufferService)],e)}(c.Disposable);t.DomRenderer=u},function(e,b,t){"use strict";function w(e,t,i){for(;e.length<i;)e=t+e;return e}Object.defineProperty(b,"__esModule",{value:!0}),b.DomRendererRowFactory=b.CURSOR_STYLE_UNDERLINE_CLASS=b.CURSOR_STYLE_BAR_CLASS=b.CURSOR_STYLE_BLOCK_CLASS=b.CURSOR_BLINK_CLASS=b.CURSOR_CLASS=b.UNDERLINE_CLASS=b.ITALIC_CLASS=b.DIM_CLASS=b.BOLD_CLASS=void 0;var C=t(9),S=t(3),n=t(4),x=t(10);b.BOLD_CLASS="xterm-bold",b.DIM_CLASS="xterm-dim",b.ITALIC_CLASS="xterm-italic",b.UNDERLINE_CLASS="xterm-underline",b.CURSOR_CLASS="xterm-cursor",b.CURSOR_BLINK_CLASS="xterm-cursor-blink",b.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",b.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",b.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var i=function(){function e(e,t,i){this._document=e,this._optionsService=t,this._colors=i,this._workCell=new n.CellData}return e.prototype.setColors=function(e){this._colors=e},e.prototype.createRow=function(e,t,i,n,r,o,s){for(var a=this._document.createDocumentFragment(),c=0,l=Math.min(e.length,s)-1;0<=l;l--)if(e.loadCell(l,this._workCell).getCode()!==S.NULL_CELL_CODE||t&&l===n){c=l+1;break}for(l=0;l<c;l++){e.loadCell(l,this._workCell);var u=this._workCell.getWidth();if(0!==u){var h=this._document.createElement("span");if(1<u&&(h.style.width=o*u+"px"),t&&l===n)switch(h.classList.add(b.CURSOR_CLASS),r&&h.classList.add(b.CURSOR_BLINK_CLASS),i){case"bar":h.classList.add(b.CURSOR_STYLE_BAR_CLASS);break;case"underline":h.classList.add(b.CURSOR_STYLE_UNDERLINE_CLASS);break;default:h.classList.add(b.CURSOR_STYLE_BLOCK_CLASS)}this._workCell.isBold()&&h.classList.add(b.BOLD_CLASS),this._workCell.isItalic()&&h.classList.add(b.ITALIC_CLASS),this._workCell.isDim()&&h.classList.add(b.DIM_CLASS),this._workCell.isUnderline()&&h.classList.add(b.UNDERLINE_CLASS),this._workCell.isInvisible()?h.textContent=S.WHITESPACE_CELL_CHAR:h.textContent=this._workCell.getChars()||S.WHITESPACE_CELL_CHAR;var d=this._workCell.getFgColor(),f=this._workCell.getFgColorMode(),p=this._workCell.getBgColor(),_=this._workCell.getBgColorMode(),g=!!this._workCell.isInverse();if(g){var v=d;d=p,p=v;var m=f;f=_,_=m}switch(f){case 16777216:case 33554432:this._workCell.isBold()&&d<8&&this._optionsService.options.drawBoldTextInBrightColors&&(d+=8),this._applyMinimumContrast(h,this._colors.background,this._colors.ansi[d])||h.classList.add("xterm-fg-"+d);break;case 50331648:var y=x.rgba.toColor(d>>16&255,d>>8&255,255&d);this._applyMinimumContrast(h,this._colors.background,y)||this._addStyle(h,"color:#"+w(d.toString(16),"0",6));break;case 0:default:this._applyMinimumContrast(h,this._colors.background,this._colors.foreground)||g&&h.classList.add("xterm-fg-"+C.INVERTED_DEFAULT_COLOR)}switch(_){case 16777216:case 33554432:h.classList.add("xterm-bg-"+p);break;case 50331648:this._addStyle(h,"background-color:#"+w(p.toString(16),"0",6));break;case 0:default:g&&h.classList.add("xterm-bg-"+C.INVERTED_DEFAULT_COLOR)}a.appendChild(h)}}return a},e.prototype._applyMinimumContrast=function(e,t,i){if(1===this._optionsService.options.minimumContrastRatio)return!1;var n=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return void 0===n&&(n=x.color.ensureContrastRatio(t,i,this._optionsService.options.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,null!=n?n:null)),!!n&&(this._addStyle(e,"color:"+n.css),!0)},e.prototype._addStyle=function(e,t){e.setAttribute("style",""+(e.getAttribute("style")||"")+t+";")},e}();b.DomRendererRowFactory=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;var l=i(12),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,i,n){var r={type:0,cancel:!1,key:void 0},o=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?r.key=t?l.C0.ESC+"OA":l.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?r.key=t?l.C0.ESC+"OD":l.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?r.key=t?l.C0.ESC+"OC":l.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(r.key=t?l.C0.ESC+"OB":l.C0.ESC+"[B");break;case 8:if(e.shiftKey){r.key=l.C0.BS;break}if(e.altKey){r.key=l.C0.ESC+l.C0.DEL;break}r.key=l.C0.DEL;break;case 9:if(e.shiftKey){r.key=l.C0.ESC+"[Z";break}r.key=l.C0.HT,r.cancel=!0;break;case 13:r.key=e.altKey?l.C0.ESC+l.C0.CR:l.C0.CR,r.cancel=!0;break;case 27:r.key=l.C0.ESC,e.altKey&&(r.key=l.C0.ESC+l.C0.ESC),r.cancel=!0;break;case 37:if(e.metaKey)break;o?(r.key=l.C0.ESC+"[1;"+(o+1)+"D",r.key===l.C0.ESC+"[1;3D"&&(r.key=l.C0.ESC+(i?"b":"[1;5D"))):r.key=t?l.C0.ESC+"OD":l.C0.ESC+"[D";break;case 39:if(e.metaKey)break;o?(r.key=l.C0.ESC+"[1;"+(o+1)+"C",r.key===l.C0.ESC+"[1;3C"&&(r.key=l.C0.ESC+(i?"f":"[1;5C"))):r.key=t?l.C0.ESC+"OC":l.C0.ESC+"[C";break;case 38:if(e.metaKey)break;o?(r.key=l.C0.ESC+"[1;"+(o+1)+"A",i||r.key!==l.C0.ESC+"[1;3A"||(r.key=l.C0.ESC+"[1;5A")):r.key=t?l.C0.ESC+"OA":l.C0.ESC+"[A";break;case 40:if(e.metaKey)break;o?(r.key=l.C0.ESC+"[1;"+(o+1)+"B",i||r.key!==l.C0.ESC+"[1;3B"||(r.key=l.C0.ESC+"[1;5B")):r.key=t?l.C0.ESC+"OB":l.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(r.key=l.C0.ESC+"[2~");break;case 46:r.key=o?l.C0.ESC+"[3;"+(o+1)+"~":l.C0.ESC+"[3~";break;case 36:r.key=o?l.C0.ESC+"[1;"+(o+1)+"H":t?l.C0.ESC+"OH":l.C0.ESC+"[H";break;case 35:r.key=o?l.C0.ESC+"[1;"+(o+1)+"F":t?l.C0.ESC+"OF":l.C0.ESC+"[F";break;case 33:e.shiftKey?r.type=2:r.key=l.C0.ESC+"[5~";break;case 34:e.shiftKey?r.type=3:r.key=l.C0.ESC+"[6~";break;case 112:r.key=o?l.C0.ESC+"[1;"+(o+1)+"P":l.C0.ESC+"OP";break;case 113:r.key=o?l.C0.ESC+"[1;"+(o+1)+"Q":l.C0.ESC+"OQ";break;case 114:r.key=o?l.C0.ESC+"[1;"+(o+1)+"R":l.C0.ESC+"OR";break;case 115:r.key=o?l.C0.ESC+"[1;"+(o+1)+"S":l.C0.ESC+"OS";break;case 116:r.key=o?l.C0.ESC+"[15;"+(o+1)+"~":l.C0.ESC+"[15~";break;case 117:r.key=o?l.C0.ESC+"[17;"+(o+1)+"~":l.C0.ESC+"[17~";break;case 118:r.key=o?l.C0.ESC+"[18;"+(o+1)+"~":l.C0.ESC+"[18~";break;case 119:r.key=o?l.C0.ESC+"[19;"+(o+1)+"~":l.C0.ESC+"[19~";break;case 120:r.key=o?l.C0.ESC+"[20;"+(o+1)+"~":l.C0.ESC+"[20~";break;case 121:r.key=o?l.C0.ESC+"[21;"+(o+1)+"~":l.C0.ESC+"[21~";break;case 122:r.key=o?l.C0.ESC+"[23;"+(o+1)+"~":l.C0.ESC+"[23~";break;case 123:r.key=o?l.C0.ESC+"[24;"+(o+1)+"~":l.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(i&&!n||!e.altKey||e.metaKey)i&&!e.altKey&&!e.ctrlKey&&e.metaKey?65===e.keyCode&&(r.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&48<=e.keyCode&&1===e.key.length?r.key=e.key:e.key&&e.ctrlKey&&"_"===e.key&&(r.key=l.C0.US);else{var s=u[e.keyCode],a=s&&s[e.shiftKey?1:0];if(a)r.key=l.C0.ESC+a;else if(65<=e.keyCode&&e.keyCode<=90){var c=e.ctrlKey?e.keyCode-64:e.keyCode+32;r.key=l.C0.ESC+String.fromCharCode(c)}}else 65<=e.keyCode&&e.keyCode<=90?r.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?r.key=l.C0.NUL:51<=e.keyCode&&e.keyCode<=55?r.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?r.key=l.C0.DEL:219===e.keyCode?r.key=l.C0.ESC:220===e.keyCode?r.key=l.C0.FS:221===e.keyCode&&(r.key=l.C0.GS)}return r}},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;var l=i(31),u=i(0),a=i(2),h=i(32),d=i(7),f=i(1),p=i(5),c=function(c){function e(e,t,i,n,r,o){var s=c.call(this)||this;if(s._renderer=e,s._rowCount=t,s._isPaused=!1,s._needsFullRefresh=!1,s._isNextRenderRedrawOnly=!0,s._needsSelectionRefresh=!1,s._canvasWidth=0,s._canvasHeight=0,s._selectionState={start:void 0,end:void 0,columnSelectMode:!1},s._onDimensionsChange=new u.EventEmitter,s._onRender=new u.EventEmitter,s._onRefreshRequest=new u.EventEmitter,s.register({dispose:function(){return s._renderer.dispose()}}),s._renderDebouncer=new l.RenderDebouncer(function(e,t){return s._renderRows(e,t)}),s.register(s._renderDebouncer),s._screenDprMonitor=new h.ScreenDprMonitor,s._screenDprMonitor.setListener(function(){return s.onDevicePixelRatioChange()}),s.register(s._screenDprMonitor),s.register(o.onResize(function(){return s._fullRefresh()})),s.register(n.onOptionChange(function(){return s._renderer.onOptionsChanged()})),s.register(r.onCharSizeChange(function(){return s.onCharSizeChanged()})),s._renderer.onRequestRedraw(function(e){return s.refreshRows(e.start,e.end,!0)}),s.register(d.addDisposableDomListener(window,"resize",function(){return s.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var a=new IntersectionObserver(function(e){return s._onIntersectionChange(e[e.length-1])},{threshold:0});a.observe(i),s.register({dispose:function(){return a.disconnect()}})}return s}return r(e,c),Object.defineProperty(e.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),e.prototype._onIntersectionChange=function(e){this._isPaused=void 0===e.isIntersecting?0===e.intersectionRatio:!e.isIntersecting,!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},e.prototype.refreshRows=function(e,t,i){void 0===i&&(i=!1),this._isPaused?this._needsFullRefresh=!0:(i||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))},e.prototype._renderRows=function(e,t){this._renderer.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0},e.prototype.resize=function(e,t){this._rowCount=t,this._fireOnCanvasResize()},e.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},e.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},e.prototype.dispose=function(){c.prototype.dispose.call(this)},e.prototype.setRenderer=function(e){var t=this;this._renderer.dispose(),this._renderer=e,this._renderer.onRequestRedraw(function(e){return t.refreshRows(e.start,e.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},e.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},e.prototype.setColors=function(e){this._renderer.setColors(e),this._fullRefresh()},e.prototype.onDevicePixelRatioChange=function(){this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},e.prototype.onResize=function(e,t){this._renderer.onResize(e,t),this._fullRefresh()},e.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},e.prototype.onBlur=function(){this._renderer.onBlur()},e.prototype.onFocus=function(){this._renderer.onFocus()},e.prototype.onSelectionChanged=function(e,t,i){this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=i,this._renderer.onSelectionChanged(e,t,i)},e.prototype.onCursorMove=function(){this._renderer.onCursorMove()},e.prototype.clear=function(){this._renderer.clear()},e.prototype.registerCharacterJoiner=function(e){return this._renderer.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){return this._renderer.deregisterCharacterJoiner(e)},o([s(3,f.IOptionsService),s(4,p.ICharSizeService),s(5,f.IBufferService)],e)}(a.Disposable);t.RenderService=c},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;var o=i(1),s=i(0),a=function(){function e(e,t,i){this._optionsService=i,this.width=0,this.height=0,this._onCharSizeChange=new s.EventEmitter,this._measureStrategy=new c(e,t,this._optionsService)}return Object.defineProperty(e.prototype,"hasValidSize",{get:function(){return 0<this.width&&0<this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),e.prototype.measure=function(){var e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())},n([r(2,o.IOptionsService)],e)}();t.CharSizeService=a;var c=function(){function e(e,t,i){this._document=e,this._parentElement=t,this._optionsService=i,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return e.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.options.fontFamily,this._measureElement.style.fontSize=this._optionsService.options.fontSize+"px";var e=this._measureElement.getBoundingClientRect();return 0!==e.width&&0!==e.height&&(this._result.width=e.width,this._result.height=Math.ceil(e.height)),this._result},e}()},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;var o=i(5),s=i(30),a=function(){function e(e,t){this._renderService=e,this._charSizeService=t}return e.prototype.getCoords=function(e,t,i,n,r){return s.getCoords(e,t,i,n,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,r)},e.prototype.getRawByteCoords=function(e,t,i,n){var r=this.getCoords(e,t,i,n);return s.getRawByteCoords(r)},n([r(0,o.IRenderService),r(1,o.ICharSizeService)],e)}();t.MouseService=a},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;var a=i(1),c=i(0),l=i(2),u=i(7),h=function(i){function e(e){var t=i.call(this)||this;return t._bufferService=e,t._linkProviders=[],t._linkCacheDisposables=[],t._isMouseOut=!0,t._activeLine=-1,t._onShowLinkUnderline=t.register(new c.EventEmitter),t._onHideLinkUnderline=t.register(new c.EventEmitter),t.register(l.getDisposeArrayDisposable(t._linkCacheDisposables)),t}return r(e,i),Object.defineProperty(e.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),e.prototype.registerLinkProvider=function(t){var i=this;return this._linkProviders.push(t),{dispose:function(){var e=i._linkProviders.indexOf(t);-1!==e&&i._linkProviders.splice(e,1)}}},e.prototype.attachToDom=function(e,t,i){var n=this;this._element=e,this._mouseService=t,this._renderService=i,this.register(u.addDisposableDomListener(this._element,"mouseleave",function(){n._isMouseOut=!0,n._clearCurrentLink()})),this.register(u.addDisposableDomListener(this._element,"mousemove",this._onMouseMove.bind(this))),this.register(u.addDisposableDomListener(this._element,"click",this._onClick.bind(this)))},e.prototype._onMouseMove=function(e){if(this._lastMouseEvent=e,this._element&&this._mouseService){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(t){this._isMouseOut=!1;for(var i=e.composedPath(),n=0;n<i.length;n++){var r=i[n];if(r.classList.contains("xterm"))break;if(r.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._onHover(t),this._lastBufferCell=t)}}},e.prototype._onHover=function(e){if(this._activeLine!==e.y)return this._clearCurrentLink(),void this._askForLink(e,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))},e.prototype._askForLink=function(o,i){var e,s=this;this._activeProviderReplies&&i||(null===(e=this._activeProviderReplies)||void 0===e||e.forEach(function(e){null==e||e.forEach(function(e){e.link.dispose&&e.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=o.y);var a=!1;this._linkProviders.forEach(function(e,r){var t;i?(null===(t=s._activeProviderReplies)||void 0===t?void 0:t.get(r))&&(a=s._checkLinkProviderResult(r,o,a)):e.provideLinks(o.y,function(e){var t,i;if(!s._isMouseOut){var n=null==e?void 0:e.map(function(e){return{link:e}});null===(t=s._activeProviderReplies)||void 0===t||t.set(r,n),a=s._checkLinkProviderResult(r,o,a),(null===(i=s._activeProviderReplies)||void 0===i?void 0:i.size)===s._linkProviders.length&&s._removeIntersectingLinks(o.y,s._activeProviderReplies)}})})},e.prototype._removeIntersectingLinks=function(e,t){for(var i=new Set,n=0;n<t.size;n++){var r=t.get(n);if(r)for(var o=0;o<r.length;o++)for(var s=r[o],a=s.link.range.start.y<e?0:s.link.range.start.x,c=s.link.range.end.y>e?this._bufferService.cols:s.link.range.end.x,l=a;l<=c;l++){if(i.has(l)){r.splice(o--,1);break}i.add(l)}}},e.prototype._checkLinkProviderResult=function(e,t,i){var n,r=this;if(!this._activeProviderReplies)return i;for(var o=this._activeProviderReplies.get(e),s=!1,a=0;a<e;a++)this._activeProviderReplies.has(a)&&!this._activeProviderReplies.get(a)||(s=!0);if(!s&&o){var c=o.find(function(e){return r._linkAtPosition(e.link,t)});c&&(i=!0,this._handleNewLink(c))}if(this._activeProviderReplies.size===this._linkProviders.length&&!i)for(a=0;a<this._activeProviderReplies.size;a++){var l=null===(n=this._activeProviderReplies.get(a))||void 0===n?void 0:n.find(function(e){return r._linkAtPosition(e.link,t)});if(l){i=!0,this._handleNewLink(l);break}}return i},e.prototype._onClick=function(e){if(this._element&&this._mouseService&&this._currentLink){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}},e.prototype._clearCurrentLink=function(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,l.disposeArray(this._linkCacheDisposables))},e.prototype._handleNewLink=function(r){var o=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var e=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);e&&this._linkAtPosition(r.link,e)&&(this._currentLink=r,this._currentLink.state={decorations:{underline:void 0===r.link.decorations||r.link.decorations.underline,pointerCursor:void 0===r.link.decorations||r.link.decorations.pointerCursor},
isHovered:!0},this._linkHover(this._element,r.link,this._lastMouseEvent),r.link.decorations={},Object.defineProperties(r.link.decorations,{pointerCursor:{get:function(){var e,t;return null===(t=null===(e=o._currentLink)||void 0===e?void 0:e.state)||void 0===t?void 0:t.decorations.pointerCursor},set:function(e){var t,i;(null===(t=o._currentLink)||void 0===t?void 0:t.state)&&o._currentLink.state.decorations.pointerCursor!==e&&(o._currentLink.state.decorations.pointerCursor=e,o._currentLink.state.isHovered&&(null===(i=o._element)||void 0===i||i.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:function(){var e,t;return null===(t=null===(e=o._currentLink)||void 0===e?void 0:e.state)||void 0===t?void 0:t.decorations.underline},set:function(e){var t,i,n;(null===(t=o._currentLink)||void 0===t?void 0:t.state)&&(null===(n=null===(i=o._currentLink)||void 0===i?void 0:i.state)||void 0===n?void 0:n.decorations.underline)!==e&&(o._currentLink.state.decorations.underline=e,o._currentLink.state.isHovered&&o._fireUnderlineEvent(r.link,e))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function(e){var t=0===e.start?0:e.start+1+o._bufferService.buffer.ydisp;o._clearCurrentLink(t,e.end+1+o._bufferService.buffer.ydisp)})))}},e.prototype._linkHover=function(e,t,i){var n;(null===(n=this._currentLink)||void 0===n?void 0:n.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(i,t.text)},e.prototype._fireUnderlineEvent=function(e,t){var i=e.range,n=this._bufferService.buffer.ydisp,r=this._createLinkUnderlineEvent(i.start.x-1,i.start.y-n-1,i.end.x,i.end.y-n-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(r)},e.prototype._linkLeave=function(e,t,i){var n;(null===(n=this._currentLink)||void 0===n?void 0:n.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(i,t.text)},e.prototype._linkAtPosition=function(e,t){var i=e.range.start.y===e.range.end.y,n=e.range.start.y<t.y,r=e.range.end.y>t.y;return(i&&e.range.start.x<=t.x&&e.range.end.x>=t.x||n&&e.range.end.x>=t.x||r&&e.range.start.x<=t.x||n&&r)&&e.range.start.y<=t.y&&e.range.end.y>=t.y},e.prototype._positionFromMouseEvent=function(e,t,i){var n=i.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(n)return{x:n[0],y:n[1]+this._bufferService.buffer.ydisp}},e.prototype._createLinkUnderlineEvent=function(e,t,i,n,r){return{x1:e,y1:t,x2:i,y2:n,cols:this._bufferService.cols,fg:r}},o([s(0,a.IBufferService)],e)}(l.Disposable);t.Linkifier2=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0;var i=function(){function e(e){this._textarea=e}return Object.defineProperty(e.prototype,"isFocused",{get:function(){return document.activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),e}();t.CoreBrowserService=i},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;var o=i(2),s=i(1),a=i(66),c=i(67),l=i(68),u=i(74),h=i(75),d=i(0),f=i(76),p=i(77),_=i(78),g=i(80),v=i(81),m=i(19),y=i(82),b=function(i){function e(e){var t=i.call(this)||this;return t._onBinary=new d.EventEmitter,t._onData=new d.EventEmitter,t._onLineFeed=new d.EventEmitter,t._onResize=new d.EventEmitter,t._onScroll=new d.EventEmitter,t._instantiationService=new a.InstantiationService,t.optionsService=new u.OptionsService(e),t._instantiationService.setService(s.IOptionsService,t.optionsService),t._bufferService=t.register(t._instantiationService.createInstance(l.BufferService)),t._instantiationService.setService(s.IBufferService,t._bufferService),t._logService=t._instantiationService.createInstance(c.LogService),t._instantiationService.setService(s.ILogService,t._logService),t._coreService=t.register(t._instantiationService.createInstance(h.CoreService,function(){return t.scrollToBottom()})),t._instantiationService.setService(s.ICoreService,t._coreService),t._coreMouseService=t._instantiationService.createInstance(f.CoreMouseService),t._instantiationService.setService(s.ICoreMouseService,t._coreMouseService),t._dirtyRowService=t._instantiationService.createInstance(p.DirtyRowService),t._instantiationService.setService(s.IDirtyRowService,t._dirtyRowService),t.unicodeService=t._instantiationService.createInstance(_.UnicodeService),t._instantiationService.setService(s.IUnicodeService,t.unicodeService),t._charsetService=t._instantiationService.createInstance(g.CharsetService),t._instantiationService.setService(s.ICharsetService,t._charsetService),t._inputHandler=new m.InputHandler(t._bufferService,t._charsetService,t._coreService,t._dirtyRowService,t._logService,t.optionsService,t._coreMouseService,t.unicodeService),t.register(d.forwardEvent(t._inputHandler.onLineFeed,t._onLineFeed)),t.register(t._inputHandler),t.register(d.forwardEvent(t._bufferService.onResize,t._onResize)),t.register(d.forwardEvent(t._coreService.onData,t._onData)),t.register(d.forwardEvent(t._coreService.onBinary,t._onBinary)),t.register(t.optionsService.onOptionChange(function(e){return t._updateOptions(e)})),t._writeBuffer=new y.WriteBuffer(function(e){return t._inputHandler.parse(e)}),t}return r(e,i),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){var e;this._isDisposed||(i.prototype.dispose.call(this),null===(e=this._windowsMode)||void 0===e||e.dispose(),this._windowsMode=void 0)},e.prototype.write=function(e,t){this._writeBuffer.write(e,t)},e.prototype.writeSync=function(e){this._writeBuffer.writeSync(e)},e.prototype.resize=function(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,l.MINIMUM_COLS),t=Math.max(t,l.MINIMUM_ROWS),this._bufferService.resize(e,t))},e.prototype.scroll=function(e,t){void 0===t&&(t=!1);var i,n=this._bufferService.buffer;(i=this._cachedBlankLine)&&i.length===this.cols&&i.getFg(0)===e.fg&&i.getBg(0)===e.bg||(i=n.getBlankLine(e,t),this._cachedBlankLine=i),i.isWrapped=t;var r=n.ybase+n.scrollTop,o=n.ybase+n.scrollBottom;if(0===n.scrollTop){var s=n.lines.isFull;o===n.lines.length-1?s?n.lines.recycle().copyFrom(i):n.lines.push(i.clone()):n.lines.splice(o+1,0,i.clone()),s?this._bufferService.isUserScrolling&&(n.ydisp=Math.max(n.ydisp-1,0)):(n.ybase++,this._bufferService.isUserScrolling||n.ydisp++)}else{var a=o-r+1;n.lines.shiftElements(r+1,a-1,-1),n.lines.set(o,i.clone())}this._bufferService.isUserScrolling||(n.ydisp=n.ybase),this._dirtyRowService.markRangeDirty(n.scrollTop,n.scrollBottom),this._onScroll.fire(n.ydisp)},e.prototype.scrollLines=function(e,t){var i=this._bufferService.buffer;if(e<0){if(0===i.ydisp)return;this._bufferService.isUserScrolling=!0}else e+i.ydisp>=i.ybase&&(this._bufferService.isUserScrolling=!1);var n=i.ydisp;i.ydisp=Math.max(Math.min(i.ydisp+e,i.ybase),0),n!==i.ydisp&&(t||this._onScroll.fire(i.ydisp))},e.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},e.prototype.scrollToTop=function(){this.scrollLines(-this._bufferService.buffer.ydisp)},e.prototype.scrollToBottom=function(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)},e.prototype.scrollToLine=function(e){var t=e-this._bufferService.buffer.ydisp;0!==t&&this.scrollLines(t)},e.prototype.addEscHandler=function(e,t){return this._inputHandler.addEscHandler(e,t)},e.prototype.addDcsHandler=function(e,t){return this._inputHandler.addDcsHandler(e,t)},e.prototype.addCsiHandler=function(e,t){return this._inputHandler.addCsiHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this._inputHandler.addOscHandler(e,t)},e.prototype._setup=function(){this.optionsService.options.windowsMode&&this._enableWindowsMode()},e.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this._coreService.reset(),this._coreMouseService.reset()},e.prototype._updateOptions=function(e){var t;switch(e){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.options.windowsMode?this._enableWindowsMode():(null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)}},e.prototype._enableWindowsMode=function(){var e=this;if(!this._windowsMode){var i=[];i.push(this.onLineFeed(v.updateWindowsModeWrappedState.bind(null,this._bufferService))),i.push(this.addCsiHandler({"final":"H"},function(){return v.updateWindowsModeWrappedState(e._bufferService),!1})),this._windowsMode={dispose:function(){for(var e=0,t=i;e<t.length;e++)t[e].dispose()}}}},e}(o.Disposable);t.CoreTerminal=b},function(e,t,i){"use strict";var u=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;var n=i(1),h=i(14),r=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var i=0,n=e;i<n.length;i++){var r=n[i],o=r[0],s=r[1];this.set(o,s)}}return e.prototype.set=function(e,t){var i=this._entries.get(e);return this._entries.set(e,t),i},e.prototype.forEach=function(i){this._entries.forEach(function(e,t){return i(t,e)})},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}();t.ServiceCollection=r;var o=function(){function e(){this._services=new r,this._services.set(n.IInstantiationService,this)}return e.prototype.setService=function(e,t){this._services.set(e,t)},e.prototype.getService=function(e){return this._services.get(e)},e.prototype.createInstance=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=h.getServiceDependencies(e).sort(function(e,t){return e.index-t.index}),r=[],o=0,s=n;o<s.length;o++){var a=s[o],c=this._services.get(a.id);if(!c)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+a.id+".");r.push(c)}var l=0<n.length?n[0].index:t.length;if(t.length!==l)throw new Error("[createInstance] First service dependency of "+e.name+" at position "+(l+1)+" conflicts with "+t.length+" static arguments");return new(e.bind.apply(e,u([void 0],u(t,r))))},e}();t.InstantiationService=o},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.LogService=t.LogLevel=void 0;var s,a,c=i(1);(a=s=t.LogLevel||(t.LogLevel={}))[a.DEBUG=0]="DEBUG",a[a.INFO=1]="INFO",a[a.WARN=2]="WARN",a[a.ERROR=3]="ERROR",a[a.OFF=4]="OFF";var l={debug:s.DEBUG,info:s.INFO,warn:s.WARN,error:s.ERROR,off:s.OFF},u=function(){function e(e){var t=this;this._optionsService=e,this._updateLogLevel(),this._optionsService.onOptionChange(function(e){"logLevel"===e&&t._updateLogLevel()})}return e.prototype._updateLogLevel=function(){this._logLevel=l[this._optionsService.options.logLevel]},e.prototype._evalLazyOptionalParams=function(e){for(var t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())},e.prototype._log=function(e,t,i){this._evalLazyOptionalParams(i),e.call.apply(e,o([console,"xterm.js: "+t],i))},e.prototype.debug=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.DEBUG&&this._log(console.log,e,t)},e.prototype.info=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.INFO&&this._log(console.info,e,t)},e.prototype.warn=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.WARN&&this._log(console.warn,e,t)},e.prototype.error=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.ERROR&&this._log(console.error,e,t)},n([r(0,c.IOptionsService)],e)}();t.LogService=u},function(e,n,t){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},a=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;var c=t(1),l=t(69),u=t(0),i=t(2);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;var h=function(i){function e(e){var t=i.call(this)||this;return t._optionsService=e,t.isUserScrolling=!1,t._onResize=new u.EventEmitter,t.cols=Math.max(e.options.cols,n.MINIMUM_COLS),t.rows=Math.max(e.options.rows,n.MINIMUM_ROWS),t.buffers=new l.BufferSet(e,t),t}return o(e,i),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){i.prototype.dispose.call(this),this.buffers.dispose()},e.prototype.resize=function(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:e,rows:t})},e.prototype.reset=function(){this.buffers.dispose(),this.buffers=new l.BufferSet(this._optionsService,this),this.isUserScrolling=!1},s([a(0,c.IOptionsService)],e)}(i.Disposable);n.BufferService=h},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;var o=i(70),s=i(0),a=function(n){function e(e,t){var i=n.call(this)||this;return i._onBufferActivate=i.register(new s.EventEmitter),i._normal=new o.Buffer(!0,e,t),i._normal.fillViewportRows(),i._alt=new o.Buffer(!1,e,t),i._activeBuffer=i._normal,i.setupTabStops(),i}return r(e,n),Object.defineProperty(e.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),e.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},e.prototype.activateAltBuffer=function(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},e.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},e.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},e}(i(2).Disposable);t.BufferSet=a},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BufferStringIterator=i.Buffer=i.MAX_BUFFER_SIZE=void 0;var n=t(71),P=t(16),r=t(4),s=t(3),I=t(72),o=t(73),a=t(20),c=t(6);i.MAX_BUFFER_SIZE=4294967295;var l=function(){function e(e,t,i){this._hasScrollback=e,this._optionsService=t,this._bufferService=i,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=P.DEFAULT_ATTR_DATA.clone(),this.savedCharset=a.DEFAULT_CHARSET,this.markers=[],this._nullCell=r.CellData.fromCharData([0,s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]),this._whitespaceCell=r.CellData.fromCharData([0,s.WHITESPACE_CELL_CHAR,s.WHITESPACE_CELL_WIDTH,s.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return e.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new c.ExtendedAttrs),this._nullCell},e.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new c.ExtendedAttrs),this._whitespaceCell},e.prototype.getBlankLine=function(e,t){return new P.BufferLine(this._bufferService.cols,this.getNullCell(e),t)},Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return 0<=e&&e<this._rows},enumerable:!1,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var t=e+this._optionsService.options.scrollback;return t>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:t},e.prototype.fillViewportRows=function(e){if(0===this.lines.length){void 0===e&&(e=P.DEFAULT_ATTR_DATA);for(var t=this._rows;t--;)this.lines.push(this.getBlankLine(e))}},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var i=this.getNullCell(P.DEFAULT_ATTR_DATA),n=this._getCorrectBufferLength(t);if(n>this.lines.maxLength&&(this.lines.maxLength=n),0<this.lines.length){if(this._cols<e)for(var r=0;r<this.lines.length;r++)this.lines.get(r).resize(e,i);var o=0;if(this._rows<t)for(var s=this._rows;s<t;s++)this.lines.length<t+this.ybase&&(this._optionsService.options.windowsMode?this.lines.push(new P.BufferLine(e,i)):0<this.ybase&&this.lines.length<=this.ybase+this.y+o+1?(this.ybase--,o++,0<this.ydisp&&this.ydisp--):this.lines.push(new P.BufferLine(e,i)));else for(s=this._rows;t<s;s--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(n<this.lines.maxLength){var a=this.lines.length-n;0<a&&(this.lines.trimStart(a),this.ybase=Math.max(this.ybase-a,0),this.ydisp=Math.max(this.ydisp-a,0),this.savedY=Math.max(this.savedY-a,0)),this.lines.maxLength=n}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),o&&(this.y+=o),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(r=0;r<this.lines.length;r++)this.lines.get(r).resize(e,i);this._cols=e,this._rows=t},Object.defineProperty(e.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.options.windowsMode},enumerable:!1,configurable:!0}),e.prototype._reflow=function(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))},e.prototype._reflowLarger=function(e,t){var i=I.reflowLargerGetLinesToRemove(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(P.DEFAULT_ATTR_DATA));if(0<i.length){var n=I.reflowLargerCreateNewLayout(this.lines,i);I.reflowLargerApplyNewLayout(this.lines,n.layout),this._reflowLargerAdjustViewport(e,t,n.countRemoved)}},e.prototype._reflowLargerAdjustViewport=function(e,t,i){for(var n=this.getNullCell(P.DEFAULT_ATTR_DATA),r=i;0<r--;)0===this.ybase?(0<this.y&&this.y--,this.lines.length<t&&this.lines.push(new P.BufferLine(e,n))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-i,0)},e.prototype._reflowSmaller=function(e,t){for(var i=this.getNullCell(P.DEFAULT_ATTR_DATA),n=[],r=0,o=this.lines.length-1;0<=o;o--){var s=this.lines.get(o);if(!(!s||!s.isWrapped&&s.getTrimmedLength()<=e)){for(var a=[s];s.isWrapped&&0<o;)s=this.lines.get(--o),a.unshift(s);var c=this.ybase+this.y;if(!(o<=c&&c<o+a.length)){var l=a[a.length-1].getTrimmedLength(),u=I.reflowSmallerGetNewLineLengths(a,this._cols,e),h=u.length-a.length,d=void 0;d=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+h):Math.max(0,this.lines.length-this.lines.maxLength+h);for(var f=[],p=0;p<h;p++){var _=this.getBlankLine(P.DEFAULT_ATTR_DATA,!0);f.push(_)}0<f.length&&(n.push({start:o+a.length+r,newLines:f}),r+=f.length),a.push.apply(a,f);var g=u.length-1,v=u[g];0===v&&(v=u[--g]);for(var m=a.length-h-1,y=l;0<=m;){var b=Math.min(y,v);if(a[g].copyCellsFrom(a[m],y-b,v-b,b,!0),0==(v-=b)&&(v=u[--g]),0==(y-=b)){m--;var w=Math.max(m,0);y=I.getWrappedLineTrimmedLength(a,w,this._cols)}}for(p=0;p<a.length;p++)u[p]<e&&a[p].setCell(u[p],i);for(var C=h-d;0<C--;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+r)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+h,this.ybase+t-1)}}}if(0<n.length){var S=[],x=[];for(p=0;p<this.lines.length;p++)x.push(this.lines.get(p));var E=this.lines.length,k=E-1,T=0,A=n[T];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+r);var L=0;for(p=Math.min(this.lines.maxLength-1,E+r-1);0<=p;p--)if(A&&A.start>k+L){for(var D=A.newLines.length-1;0<=D;D--)this.lines.set(p--,A.newLines[D]);p++,S.push({index:k+1,amount:A.newLines.length}),L+=A.newLines.length,A=n[++T]}else this.lines.set(p,x[k--]);var R=0;for(p=S.length-1;0<=p;p--)S[p].index+=R,this.lines.onInsertEmitter.fire(S[p]),R+=S[p].amount;var O=Math.max(0,E+r-this.lines.maxLength);0<O&&this.lines.onTrimEmitter.fire(O)}},e.prototype.stringIndexToBufferIndex=function(e,t,i){for(void 0===i&&(i=!1);t;){var n=this.lines.get(e);if(!n)return[-1,-1];for(var r=i?n.getTrimmedLength():n.length,o=0;o<r;++o)if(n.get(o)[s.CHAR_DATA_WIDTH_INDEX]&&(t-=n.get(o)[s.CHAR_DATA_CHAR_INDEX].length||1),t<0)return[e,o];e++}return[e,0]},e.prototype.translateBufferLineToString=function(e,t,i,n){void 0===i&&(i=0);var r=this.lines.get(e);return r?r.translateToString(t,i,n):""},e.prototype.getWrappedRangeForLine=function(e){for(var t=e,i=e;0<t&&this.lines.get(t).isWrapped;)t--;for(;i+1<this.lines.length&&this.lines.get(i+1).isWrapped;)i++;return{first:t,last:i}},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.options.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&0<e;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.addMarker=function(e){var t=this,i=new o.Marker(e);return this.markers.push(i),i.register(this.lines.onTrim(function(e){i.line-=e,i.line<0&&i.dispose()})),i.register(this.lines.onInsert(function(e){i.line>=e.index&&(i.line+=e.amount)})),i.register(this.lines.onDelete(function(e){i.line>=e.index&&i.line<e.index+e.amount&&i.dispose(),i.line>e.index&&(i.line-=e.amount)})),i.register(i.onDispose(function(){return t._removeMarker(i)})),i},e.prototype._removeMarker=function(e){this.markers.splice(this.markers.indexOf(e),1)},e.prototype.iterator=function(e,t,i,n,r){return new u(this,e,t,i,n,r)},e}();i.Buffer=l;var u=function(){function e(e,t,i,n,r,o){void 0===i&&(i=0),void 0===n&&(n=e.lines.length),void 0===r&&(r=0),void 0===o&&(o=0),this._buffer=e,this._trimRight=t,this._startIndex=i,this._endIndex=n,this._startOverscan=r,this._endOverscan=o,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return e.prototype.hasNext=function(){return this._current<this._endIndex},e.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var t="",i=e.first;i<=e.last;++i)t+=this._buffer.translateBufferLineToString(i,this._trimRight);return this._current=e.last+1,{range:e,content:t}},e}();i.BufferStringIterator=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;var n=i(0),r=function(){function e(e){this._maxLength=e,this.onDeleteEmitter=new n.EventEmitter,this.onInsertEmitter=new n.EventEmitter,this.onTrimEmitter=new n.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(e.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),i=0;i<Math.min(e,this.length);i++)t[i]=this._array[this._getCyclicIndex(i)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},e.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},e.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},e.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(e.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(t){for(var r=e;r<this._length-t;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+t)];this._length-=t}for(r=this._length-1;e<=r;r--)this._array[this._getCyclicIndex(r+i.length)]=this._array[this._getCyclicIndex(r)];for(r=0;r<i.length;r++)this._array[this._getCyclicIndex(e+r)]=i[r];if(this._length+i.length>this._maxLength){var o=this._length+i.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=i.length},e.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)},e.prototype.shiftElements=function(e,t,i){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+i<0)throw new Error("Cannot shift elements in list beyond index 0");if(0<i){for(var n=t-1;0<=n;n--)this.set(e+n+i,this.get(e+n));var r=e+t+i-this._length;if(0<r)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(n=0;n<t;n++)this.set(e+n+i,this.get(e+n))}},e.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this._maxLength},e}();t.CircularList=r},function(e,t){"use strict";function b(e,t,i){if(t===e.length-1)return e[t].getTrimmedLength();var n=!e[t].hasContent(i-1)&&1===e[t].getWidth(i-1),r=2===e[t+1].getWidth(0);return n&&r?i-1:i}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,i,n,r){for(var o=[],s=0;s<e.length-1;s++){var a=s,c=e.get(++a);if(c.isWrapped){for(var l=[e.get(s)];a<e.length&&c.isWrapped;)l.push(c),c=e.get(++a);if(s<=n&&n<a)s+=l.length-1;else{for(var u=0,h=b(l,u,t),d=1,f=0;d<l.length;){var p=b(l,d,t),_=p-f,g=i-h,v=Math.min(_,g);l[u].copyCellsFrom(l[d],f,h,v,!1),(h+=v)===i&&(u++,h=0),(f+=v)===p&&(d++,f=0),0===h&&0!==u&&2===l[u-1].getWidth(i-1)&&(l[u].copyCellsFrom(l[u-1],i-1,h++,1,!1),l[u-1].setCell(i-1,r))}l[u].replaceCells(h,i,r);for(var m=0,y=l.length-1;0<y&&(u<y||0===l[y].getTrimmedLength());y--)m++;0<m&&(o.push(s+l.length-m),o.push(m)),s+=l.length-1}}}return o},t.reflowLargerCreateNewLayout=function(e,t){for(var i=[],n=0,r=t[n],o=0,s=0;s<e.length;s++)if(r===s){var a=t[++n];e.onDeleteEmitter.fire({index:s-o,amount:a}),s+=a-1,o+=a,r=t[++n]}else i.push(s);return{layout:i,countRemoved:o}},t.reflowLargerApplyNewLayout=function(e,t){for(var i=[],n=0;n<t.length;n++)i.push(e.get(t[n]));for(n=0;n<i.length;n++)e.set(n,i[n]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(i,n,e){for(var t=[],r=i.map(function(e,t){return b(i,t,n)}).reduce(function(e,t){return e+t}),o=0,s=0,a=0;a<r;){if(r-a<e){t.push(r-a);break}o+=e;var c=b(i,s,n);c<o&&(o-=c,s++);var l=2===i[s].getWidth(o-1);l&&o--;var u=l?e-1:e;t.push(u),a+=u}return t},t.getWrappedLineTrimmedLength=b},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;var o=i(0),s=function(i){function n(e){var t=i.call(this)||this;return t.line=e,t._id=n._nextId++,t.isDisposed=!1,t._onDispose=new o.EventEmitter,t}return r(
n,i),Object.defineProperty(n.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire())},n._nextId=1,n}(i(2).Disposable);t.Marker=s},function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=o.DEFAULT_BELL_SOUND=void 0;var s=t(0),i=t(11),a=t(33);o.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",o.DEFAULT_OPTIONS=Object.freeze({cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,bellSound:o.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:i.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",convertEol:!1,termName:"xterm",cancelEvents:!1});var n=["normal","bold","100","200","300","400","500","600","700","800","900"],r=["cols","rows"],c=function(){function e(e){this._onOptionChange=new s.EventEmitter,this.options=a.clone(o.DEFAULT_OPTIONS);for(var t=0,i=Object.keys(e);t<i.length;t++){var n=i[t];if(n in this.options)try{var r=e[n];this.options[n]=this._sanitizeAndValidateOption(n,r)}catch(e){console.error(e)}}}return Object.defineProperty(e.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),e.prototype.setOption=function(e,t){if(!(e in o.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');if(-1!==r.indexOf(e))throw new Error('Option "'+e+'" can only be set in the constructor');this.options[e]!==t&&(t=this._sanitizeAndValidateOption(e,t),this.options[e]!==t&&(this.options[e]=t,this._onOptionChange.fire(e)))},e.prototype._sanitizeAndValidateOption=function(e,t){switch(e){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":t||(t=o.DEFAULT_OPTIONS[e]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof t&&1<=t&&t<=1e3)break;t=-1!==n.indexOf(t)?t:o.DEFAULT_OPTIONS[e];break;case"cursorWidth":t=Math.floor(t);case"lineHeight":case"tabStopWidth":if(t<1)throw new Error(e+" cannot be less than 1, value: "+t);break;case"minimumContrastRatio":t=Math.max(1,Math.min(21,Math.round(10*t)/10));break;case"scrollback":if((t=Math.min(t,4294967295))<0)throw new Error(e+" cannot be less than 0, value: "+t);break;case"fastScrollSensitivity":case"scrollSensitivity":if(t<=0)throw new Error(e+" cannot be less than or equal to 0, value: "+t)}return t},e.prototype.getOption=function(e){if(!(e in o.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');return this.options[e]},e}();o.OptionsService=c},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},a=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;var c=i(1),l=i(0),u=i(33),o=i(2),h=Object.freeze({insertMode:!1}),d=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),f=function(o){function e(e,t,i,n){var r=o.call(this)||this;return r._bufferService=t,r._logService=i,r._optionsService=n,r.isCursorInitialized=!1,r.isCursorHidden=!1,r._onData=r.register(new l.EventEmitter),r._onUserInput=r.register(new l.EventEmitter),r._onBinary=r.register(new l.EventEmitter),r._scrollToBottom=e,r.register({dispose:function(){return r._scrollToBottom=void 0}}),r.modes=u.clone(h),r.decPrivateModes=u.clone(d),r}return r(e,o),Object.defineProperty(e.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.modes=u.clone(h),this.decPrivateModes=u.clone(d)},e.prototype.triggerDataEvent=function(e,t){if(void 0===t&&(t=!1),!this._optionsService.options.disableStdin){var i=this._bufferService.buffer;i.ybase!==i.ydisp&&this._scrollToBottom(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'+e+'"',function(){return e.split("").map(function(e){return e.charCodeAt(0)})}),this._onData.fire(e)}},e.prototype.triggerBinaryEvent=function(e){this._optionsService.options.disableStdin||(this._logService.debug('sending binary "'+e+'"',function(){return e.split("").map(function(e){return e.charCodeAt(0)})}),this._onBinary.fire(e))},s([a(1,c.IBufferService),a(2,c.ILogService),a(3,c.IOptionsService)],e)}(o.Disposable);t.CoreService=f},function(e,t,i){"use strict";function n(e,t){var i=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(i|=64,i|=e.action):(i|=3&e.button,4&e.button&&(i|=64),8&e.button&&(i|=128),32===e.action?i|=32:0!==e.action||t||(i|=3)),i}var r=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;var s=i(1),c=i(0),l={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(e){return 4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,!(e.shift=!1))}},VT200:{events:19,restrict:function(e){return 32!==e.action}},DRAG:{events:23,restrict:function(e){return 32!==e.action||3!==e.button}},ANY:{events:31,restrict:function(){return!0}}},a=String.fromCharCode,u={DEFAULT:function(e){var t=[n(e,!1)+32,e.col+32,e.row+32];return 255<t[0]||255<t[1]||255<t[2]?"":"\x1b[M"+a(t[0])+a(t[1])+a(t[2])},SGR:function(e){var t=0===e.action&&4!==e.button?"m":"M";return"\x1b[<"+n(e,!0)+";"+e.col+";"+e.row+t}},h=function(){function e(e,t){this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new c.EventEmitter,this._lastEvent=null;for(var i=0,n=Object.keys(l);i<n.length;i++){var r=n[i];this.addProtocol(r,l[r])}for(var o=0,s=Object.keys(u);o<s.length;o++){var a=s[o];this.addEncoding(a,u[a])}this.reset()}return e.prototype.addProtocol=function(e,t){this._protocols[e]=t},e.prototype.addEncoding=function(e,t){this._encodings[e]=t},Object.defineProperty(e.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(e){if(!this._protocols[e])throw new Error('unknown protocol "'+e+'"');this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areMouseEventsActive",{get:function(){return 0!==this._protocols[this._activeProtocol].events},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(e){if(!this._encodings[e])throw new Error('unknown encoding "'+e+'"');this._activeEncoding=e},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(e.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),e.prototype.triggerMouseEvent=function(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._compareEvents(this._lastEvent,e))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;var t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0},e.prototype.explainEvents=function(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}},e.prototype._compareEvents=function(e,t){return e.col===t.col&&e.row===t.row&&e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift},r([o(0,s.IBufferService),o(1,s.ICoreService)],e)}();t.CoreMouseService=h},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DirtyRowService=void 0;var o=i(1),s=function(){function e(e){this._bufferService=e,this.clearRange()}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),e.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},e.prototype.markDirty=function(e){e<this._start?this._start=e:e>this._end&&(this._end=e)},e.prototype.markRangeDirty=function(e,t){if(t<e){var i=e;e=t,t=i}e<this._start&&(this._start=e),t>this._end&&(this._end=t)},e.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},n([r(0,o.IBufferService)],e)}();t.DirtyRowService=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;var n=i(0),r=i(79),o=function(){function e(){this._providers=Object.create(null),this._active="",this._onChange=new n.EventEmitter;var e=new r.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._active},set:function(e){if(!this._providers[e])throw new Error('unknown Unicode version "'+e+'"');this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)},enumerable:!1,configurable:!0}),e.prototype.register=function(e){this._providers[e.version]=e},e.prototype.wcwidth=function(e){return this._activeProvider.wcwidth(e)},e.prototype.getStringCellWidth=function(e){for(var t=0,i=e.length,n=0;n<i;++n){var r=e.charCodeAt(n);if(55296<=r&&r<=56319){if(++n>=i)return t+this.wcwidth(r);var o=e.charCodeAt(n);56320<=o&&o<=57343?r=1024*(r-55296)+o-56320+65536:t+=this.wcwidth(o)}t+=this.wcwidth(r)}return t},e}();t.UnicodeService=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;var n,r=i(15),o=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],s=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],a=function(){function e(){if(this.version="6",!n){n=new Uint8Array(65536),r.fill(n,1),n[0]=0,r.fill(n,0,1,32),r.fill(n,0,127,160),r.fill(n,2,4352,4448),n[9001]=2,n[9002]=2,r.fill(n,2,11904,42192),n[12351]=1,r.fill(n,2,44032,55204),r.fill(n,2,63744,64256),r.fill(n,2,65040,65050),r.fill(n,2,65072,65136),r.fill(n,2,65280,65377),r.fill(n,2,65504,65511);for(var e=0;e<o.length;++e)r.fill(n,0,o[e][0],o[e][1]+1)}}return e.prototype.wcwidth=function(e){return e<32?0:e<127?1:e<65536?n[e]:function(e,t){var i,n=0,r=t.length-1;if(e<t[0][0]||e>t[r][1])return!1;for(;n<=r;)if(e>t[i=n+r>>1][1])n=i+1;else{if(!(e<t[i][0]))return!0;r=i-1}return!1}(e,s)?0:131072<=e&&e<=196605||196608<=e&&e<=262141?2:1},e}();t.UnicodeV6=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0;var i=function(){function e(){this.glevel=0,this._charsets=[]}return e.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},e.prototype.setgLevel=function(e){this.glevel=e,this.charset=this._charsets[e]},e.prototype.setgCharset=function(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)},e}();t.CharsetService=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;var r=i(3);t.updateWindowsModeWrappedState=function(e){var t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),i=null==t?void 0:t.get(e.cols-1),n=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);n&&i&&(n.isWrapped=i[r.CHAR_DATA_CODE_INDEX]!==r.NULL_CELL_CODE&&i[r.CHAR_DATA_CODE_INDEX]!==r.WHITESPACE_CELL_CODE)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;var i=function(){function e(e){this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0}return e.prototype.writeSync=function(e){if(this._writeBuffer.length){for(var t=this._bufferOffset;t<this._writeBuffer.length;++t){var i=this._writeBuffer[t],n=this._callbacks[t];this._action(i),n&&n()}this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=2147483647}this._action(e)},e.prototype.write=function(e,t){var i=this;if(5e7<this._pendingData)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return i._innerWrite()})),this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)},e.prototype._innerWrite=function(){for(var e=this,t=Date.now();this._writeBuffer.length>this._bufferOffset;){var i=this._writeBuffer[this._bufferOffset],n=this._callbacks[this._bufferOffset];if(this._bufferOffset++,this._action(i),this._pendingData-=i.length,n&&n(),12<=Date.now()-t)break}this._writeBuffer.length>this._bufferOffset?(50<this._bufferOffset&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return e._innerWrite()},0)):(this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0)},e}();t.WriteBuffer=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0;var i=function(){function e(){this._addons=[]}return e.prototype.dispose=function(){for(var e=this._addons.length-1;0<=e;e--)this._addons[e].instance.dispose()},e.prototype.loadAddon=function(e,t){var i=this,n={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(n),t.dispose=function(){return i._wrappedAddonDispose(n)},t.activate(e)},e.prototype._wrappedAddonDispose=function(e){if(!e.isDisposed){for(var t=-1,i=0;i<this._addons.length;i++)if(this._addons[i]===e){t=i;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},e}();t.AddonManager=i}])}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FitAddon=t():e.FitAddon=t()}(window,function(){return function(i){function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n={};return r.m=i,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0;var i=function(){function e(){}return e.prototype.activate=function(e){this._terminal=e},e.prototype.dispose=function(){},e.prototype.fit=function(){var e=this.proposeDimensions();if(e&&this._terminal){var t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}},e.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var e=this._terminal._core,t=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(t.getPropertyValue("height")),n=Math.max(0,parseInt(t.getPropertyValue("width"))),r=window.getComputedStyle(this._terminal.element),o=i-(parseInt(r.getPropertyValue("padding-top"))+parseInt(r.getPropertyValue("padding-bottom"))),s=n-(parseInt(r.getPropertyValue("padding-right"))+parseInt(r.getPropertyValue("padding-left")))-e.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(s/e._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(o/e._renderService.dimensions.actualCellHeight))}}},e}();t.FitAddon=i}])}),$(function(){window.terminal=new function(){var n=this,i=document.getElementsByClassName("terminal-launcher");return n.available=!1,Object.values(i).forEach(function(i){i.addEventListener("click",function(e){if(!1===n.available){var t='<div id="terminal-container" class="docked"><iframe id="lyceum" frameBorder="0" rel="opener" src="https://lyceum.digitalocean.com/term/?image='+e.target.attributes.getNamedItem("data-docker-image").nodeValue+'"></iframe></div>';e.target.insertAdjacentHTML("afterend",t),n.addControls(),i.hidden=!0,n.available=!0}})}),n.shrink=function(){var e=document.getElementById("terminal-container"),t=document.getElementById("button-shrink"),i=document.getElementById("button-expand");e.classList.add("inline"),e.classList.remove("docked"),t.style.display="none",i.style.display="unset"},n.expand=function(){var e=document.getElementById("terminal-container"),t=document.getElementById("button-shrink"),i=document.getElementById("button-expand");e.classList.add("docked"),e.classList.remove("inline"),t.style.display="unset",i.style.display="none"},n.exit=function(){var e=document.getElementById("terminal-container");document.getElementById("lyceum").contentWindow.postMessage("exit","*"),e.remove(),Object.values(i).forEach(function(e){e.hidden=!1}),n.available=!1},n.addControls=function(){var e='<div class="terminal-controls">                <ul>                    <li id="button-shrink" title="Shrink terminal" data-toggle="tooltip" data-shrink-icon="&#xe602;" onclick=\'window.terminal.shrink()\'></li>                    <li id="button-expand" title="Expand terminal" data-toggle="tooltip" data-expand-icon="&#xe611;" onclick=\'window.terminal.expand()\' style="display: none;"></li>                    <li id="button-close" title="Close terminal" data-toggle="tooltip" data-close-icon="&#xe619;" onclick=\'window.terminal.exit()\'></li>                </ul>            </div>';document.getElementById("lyceum").insertAdjacentHTML("beforebegin",e)},n.sendText=function(e){if(!1===n.available){var t='<div id="terminal-container" class="docked"><iframe id="lyceum" frameBorder="0" rel="opener" src="https://lyceum.digitalocean.com/term/?image='+document.querySelector("[data-docker-image]").getAttribute("data-docker-image")+'"></iframe></div>';i[0].insertAdjacentHTML("afterend",t),n.addControls(),Object.values(i).forEach(function(e){e.hidden=!0}),n.available=!0}else(t=document.getElementById("lyceum")).contentWindow.postMessage(e,"*")},n.sendTextFactory=function(e){return function(){window.terminal.sendText(e)}},n}}),document,function(l){var s=new Array,a=new Array;l.fn.doAutosize=function(e){var t=l(this).data("minwidth"),i=l(this).data("maxwidth"),n="",r=l(this),o=l("#"+l(this).data("tester_id"));if(n!==(n=r.val())){var s=n.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");o.html(s);var a=o.width(),c=a+e.comfortZone>=t?a+e.comfortZone:t;(c<r.width()&&t<=c||t<c&&c<i)&&r.width(c)}},l.fn.resetAutosize=function(e){var t=l(this).data("minwidth")||e.minInputWidth||l(this).width(),i=l(this).data("maxwidth")||e.maxInputWidth||l(this).closest(".tagsinput").width()-e.inputPadding,n=l(this),r=l("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"}),o=l(this).attr("id")+"_autosize_tester";0<!l("#"+o).length&&(r.attr("id",o),r.appendTo("body")),n.data("minwidth",t),n.data("maxwidth",i),n.data("tester_id",o),n.css("width",t)},l.fn.addTag=function(r,o){return o=jQuery.extend({focus:!1,callback:!0},o),this.each(function(){var e=l(this).attr("id"),t=l(this).val().split(s[e]);if(""==t[0]&&(t=new Array),r=jQuery.trim(r),o.unique)1==(i=l(this).tagExist(r))&&l("#"+e+"_tag").addClass("not_valid");else var i=!1;if(""!=r&&1!=i){if(l("<span>").addClass("tag").append(l("<span>").text(r).append("&nbsp;&nbsp;"),l("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return l("#"+e).removeTag(escape(r))})).insertBefore("#"+e+"_addTag"),t.push(r),l("#"+e+"_tag").val(""),o.focus?l("#"+e+"_tag").focus():l("#"+e+"_tag").blur(),l.fn.tagsInput.updateTagsField(this,t),o.callback&&a[e]&&a[e].onAddTag)a[e].onAddTag.call(this,r);if(a[e]&&a[e].onChange){var n=t.length;a[e].onChange.call(this,l(this),t[n-1])}}}),!1},l.fn.removeTag=function(n){return n=unescape(n),this.each(function(){var e=l(this).attr("id"),t=l(this).val().split(s[e]);for(l("#"+e+"_tagsinput .tag").remove(),str="",i=0;i<t.length;i++)t[i]!=n&&(str=str+s[e]+t[i]);(l.fn.tagsInput.importTags(this,str),a[e]&&a[e].onRemoveTag)&&a[e].onRemoveTag.call(this,n)}),!1},l.fn.tagExist=function(e){var t=l(this).attr("id"),i=l(this).val().split(s[t]);return 0<=jQuery.inArray(e,i)},l.fn.importTags=function(e){var t=l(this).attr("id");l("#"+t+"_tagsinput .tag").remove(),l.fn.tagsInput.importTags(this,e)},l.fn.tagsInput=function(e){var n=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},e),r=0;return this.each(function(){if(void 0===l(this).attr("data-tagsinput-init")){l(this).attr("data-tagsinput-init",!0),n.hide&&l(this).hide();var i=l(this).attr("id");i&&!s[l(this).attr("id")]||(i=l(this).attr("id","tags"+(new Date).getTime()+r++).attr("id"));var e=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},n);s[i]=e.delimiter,(n.onAddTag||n.onRemoveTag||n.onChange)&&(a[i]=new Array,a[i].onAddTag=n.onAddTag,a[i].onRemoveTag=n.onRemoveTag,a[i].onChange=n.onChange);var t='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(n.interactive&&(t=t+'<input id="'+i+'_tag" value="" data-default="'+n.defaultText+'" />'),l(t+='</div><div class="tags_clear"></div></div>').insertAfter(this),l(e.holder).css("width",n.width),l(e.holder).css("min-height",n.height),l(e.holder).css("height",n.height),""!=l(e.real_input).val()&&l.fn.tagsInput.importTags(l(e.real_input),l(e.real_input).val()),n.interactive){if(l(e.fake_input).val(l(e.fake_input).attr("data-default")),l(e.fake_input).css("color",n.placeholderColor),l(e.fake_input).resetAutosize(n),l(e.holder).bind("click",e,function(e){l(e.data.fake_input).focus()}),l(e.fake_input).bind("focus",e,function(e){l(e.data.fake_input).val()==l(e.data.fake_input).attr("data-default")&&l(e.data.fake_input).val(""),l(e.data.fake_input).css("color","#000000")}),n.autocomplete_url!=undefined){for(attrname in autocomplete_options={source:n.autocomplete_url},n.autocomplete)autocomplete_options[attrname]=n.autocomplete[attrname];jQuery.Autocompleter!==undefined?(l(e.fake_input).autocomplete(n.autocomplete_url,n.autocomplete),l(e.fake_input).bind("result",e,function(e,t){t&&l("#"+i).addTag(t[0]+"",{focus:!0,unique:n.unique})})):jQuery.ui.autocomplete!==undefined&&(l(e.fake_input).autocomplete(autocomplete_options),l(e.fake_input).bind("autocompleteselect",e,function(e,t){return l(e.data.real_input).addTag(t.item.value,{focus:!0,unique:n.unique}),!1}))}else l(e.fake_input).bind("blur",e,function(e){var t=l(this).attr("data-default");return""!=l(e.data.fake_input).val()&&l(e.data.fake_input).val()!=t?e.data.minChars<=l(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=l(e.data.fake_input).val().length)&&l(e.data.real_input).addTag(l(e.data.fake_input).val(),{focus:!0,unique:n.unique}):(l(e.data.fake_input).val(l(e.data.fake_input).attr("data-default")),l(e.data.fake_input).css("color",n.placeholderColor)),!1});l(e.fake_input).bind("keypress",e,function(e){if(o(e))return e.preventDefault(),e.data.minChars<=l(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=l(e.data.fake_input).val().length)&&l(e.data.real_input).addTag(l(e.data.fake_input).val(),{focus:!0,unique:n.unique}),l(e.data.fake_input).resetAutosize(n),!1;e.data.autosize&&l(e.data.fake_input).doAutosize(n)}),e.removeWithBackspace&&l(e.fake_input).bind("keydown",function(e){if(8==e.keyCode&&""==l(this).val()){e.preventDefault();var t=l(this).closest(".tagsinput").find(".tag:last").text(),i=l(this).attr("id").replace(/_tag$/,"");t=t.replace(/[\s]+x$/,""),l("#"+i).removeTag(escape(t)),l(this).trigger("focus")}}),l(e.fake_input).blur(),e.unique&&l(e.fake_input).keydown(function(e){(8==e.keyCode||String.fromCharCode(e.which).match(/\w+|[\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1,/]+/))&&l(this).removeClass("not_valid")})}}}),this},l.fn.tagsInput.updateTagsField=function(e,t){var i=l(e).attr("id");l(e).val(t.join(s[i]))},l.fn.tagsInput.importTags=function(e,t){l(e).val("");var n=l(e).attr("id"),r=t.split(s[n]);for(i=0;i<r.length;i++)l(e).addTag(r[i],{focus:!1,callback:!1});a[n]&&a[n].onChange&&a[n].onChange.call(e,e,r[i])};var o=function(i){var n=!1;return 13==i.which||("string"==typeof i.data.delimiter?i.which==i.data.delimiter.charCodeAt(0)&&(n=!0):l.each(i.data.delimiter,function(e,t){i.which==t.charCodeAt(0)&&(n=!0)}),n)}}(jQuery),function(c){function n(e,t){function i(e){a||(a=!0,o.start&&o.start(e,s))}function n(e,t){a&&(clearTimeout(r),r=setTimeout(function(){a=!1,o.stop&&o.stop(e,s)},0<=t?t:o.delay))}var r,o=c.extend({start:null,stop:null,delay:400},t),s=c(e),a=!1;s.keypress(i),s.keydown(function(e){8!==e.keyCode&&46!==e.keyCode||i(e)}),s.keyup(n),s.blur(function(e){n(e,0)})}c.fn.typing=function(i){return this.each(function(e,t){n(t,i)})}}(jQuery),$(function(){var i=$("#user_username"),e=$("#profiles-modal"),o=$("#username-modal"),s=$('[data-js="newsletter_subscribe"]'),t=!1;if($('[data-toggle="tooltip"]').tooltip(),e.length){"button"==e.data("signup-method")?setTimeout(function(){e.dialog()},500):setTimeout(function(){o.dialog()},500),$('[data-js="edit-profile-modal-button"]').on("click",function(){window.currentUser.updatePreference("new_profile_modal",!0),e.dialog("close"),o.dialog("open")}),i.typing({start:function(){$(".username-result").hide(),$(".checking-username").show()},stop:function(){var e=o.find("form").data("check-username-path"),t={id:i.val()};$.get(e,t,null,"script")},delay:500}),$(".launch-modal, .back-modal").on("click",function(){$("#username-first-modal, #username-second-modal").toggle();var e=$("#username-second-modal").is(":visible");o.find('[data-js="step"]').text(e?2:1),e&&!t&&(t=!0,s.find(".mini-switch").trigger("click"))}),$(".close-modals").on("click",function(){o.dialog("close")}),$(".close-modals, .close-btn").on("click",function(){function i(t){MktoForms2.loadForm("//anchor.digitalocean.com","113-DTN-266",n,function(e){e.onSuccess(function(){return o.dialog("close"),!1}),e.setValues(t),e.submit()})}function e(e){if(MktoForms2.getForm(n))i(e);else{var t=document.createElement("form");t.setAttribute("id","mktoForm_"+n),t.setAttribute("style","display: none"),document.body.appendChild(t),i(e)}}var n=1055;if(s.find(".mini-switch.switch-checkbox.on").length){var t={Email:window.currentUser.getData().data.attributes.uuid};if("undefined"==typeof MktoForms2){var r=document.createElement("script");r.type="text/javascript",r.addEventListener("load",function(){e(t)}),r.src="//anchor.digitalocean.com/js/forms2/js/forms2.min.js",document.body.appendChild(r)}else e(t)}});var n=function(e){e.removeClass("async-saved"),window.setTimeout(function(){e.addClass("async-saved")},100),window.setTimeout(function(){e.removeClass("async-saved")},2900)};$('form[data-js="user_profile_form"]').on("change","input",function(){$(this).parents("form").submit(),n($(this).parents(".field"))}),$("#user_skills").tagsInput({height:"115px",width:"100%",minInputWidth:"100%",defaultText:"Node.js, React, PostgreSQL, ..."}),$("#user_learn_more").tagsInput({height:"115px",width:"100%",minInputWidth:"100%",
defaultText:"Docker, Kubernetes, NGINX, ..."})}});